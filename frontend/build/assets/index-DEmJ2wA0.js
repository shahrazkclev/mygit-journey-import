function E_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var bv={exports:{}},ac={},jv={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=Symbol.for("react.element"),P_=Symbol.for("react.portal"),R_=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),I_=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),$_=Symbol.for("react.memo"),F_=Symbol.for("react.lazy"),$m=Symbol.iterator;function z_(e){return e===null||typeof e!="object"?null:(e=$m&&e[$m]||e["@@iterator"],typeof e=="function"?e:null)}var _v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,Cv={};function Ma(e,t,r){this.props=e,this.context=t,this.refs=Cv,this.updater=r||_v}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ma.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sv(){}Sv.prototype=Ma.prototype;function Oh(e,t,r){this.props=e,this.context=t,this.refs=Cv,this.updater=r||_v}var Dh=Oh.prototype=new Sv;Dh.constructor=Oh;Nv(Dh,Ma.prototype);Dh.isPureReactComponent=!0;var Fm=Array.isArray,kv=Object.prototype.hasOwnProperty,Lh={current:null},Ev={key:!0,ref:!0,__self:!0,__source:!0};function Tv(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)kv.call(t,n)&&!Ev.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ti,type:e,key:o,ref:i,props:a,_owner:Lh.current}}function U_(e,t){return{$$typeof:ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $h(e){return typeof e=="object"&&e!==null&&e.$$typeof===ti}function B_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zm=/\/+/g;function sd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B_(""+e.key):t.toString(36)}function Xi(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ti:case P_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+sd(i,0):n,Fm(a)?(r="",e!=null&&(r=e.replace(zm,"$&/")+"/"),Xi(a,t,r,"",function(u){return u})):a!=null&&($h(a)&&(a=U_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(zm,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Fm(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+sd(o,l);i+=Xi(o,t,r,c,a)}else if(c=z_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+sd(o,l++),i+=Xi(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function wi(e,t,r){if(e==null)return e;var n=[],a=0;return Xi(e,n,"","",function(o){return t.call(r,o,a++)}),n}function V_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Zi={transition:null},H_={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Zi,ReactCurrentOwner:Lh};function Pv(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:wi,forEach:function(e,t,r){wi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!$h(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Ma;Me.Fragment=R_;Me.Profiler=I_;Me.PureComponent=Oh;Me.StrictMode=A_;Me.Suspense=L_;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;Me.act=Pv;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nv({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Lh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kv.call(t,c)&&!Ev.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ti,type:e.type,key:a,ref:o,props:n,_owner:i}};Me.createContext=function(e){return e={$$typeof:O_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M_,_context:e},e.Consumer=e};Me.createElement=Tv;Me.createFactory=function(e){var t=Tv.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:D_,render:e}};Me.isValidElement=$h;Me.lazy=function(e){return{$$typeof:F_,_payload:{_status:-1,_result:e},_init:V_}};Me.memo=function(e,t){return{$$typeof:$_,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Zi.transition;Zi.transition={};try{e()}finally{Zi.transition=t}};Me.unstable_act=Pv;Me.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Me.useContext=function(e){return Ft.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Me.useId=function(){return Ft.current.useId()};Me.useImperativeHandle=function(e,t,r){return Ft.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return Ft.current.useReducer(e,t,r)};Me.useRef=function(e){return Ft.current.useRef(e)};Me.useState=function(e){return Ft.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return Ft.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return Ft.current.useTransition()};Me.version="18.3.1";jv.exports=Me;var d=jv.exports;const oe=wv(d),Rv=E_({__proto__:null,default:oe},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_=d,q_=Symbol.for("react.element"),K_=Symbol.for("react.fragment"),G_=Object.prototype.hasOwnProperty,Y_=W_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q_={key:!0,ref:!0,__self:!0,__source:!0};function Av(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)G_.call(t,n)&&!Q_.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:q_,type:e,key:o,ref:i,props:a,_owner:Y_.current}}ac.Fragment=K_;ac.jsx=Av;ac.jsxs=Av;bv.exports=ac;var s=bv.exports,Iv={exports:{}},ir={},Mv={exports:{}},Ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var R=P.length;P.push(I);e:for(;0<R;){var z=R-1>>>1,F=P[z];if(0<a(F,I))P[z]=I,P[R]=F,R=z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var I=P[0],R=P.pop();if(R!==I){P[0]=R;e:for(var z=0,F=P.length,X=F>>>1;z<X;){var ce=2*(z+1)-1,ge=P[ce],J=ce+1,Z=P[J];if(0>a(ge,R))J<F&&0>a(Z,ge)?(P[z]=Z,P[J]=R,z=J):(P[z]=ge,P[ce]=R,z=ce);else if(J<F&&0>a(Z,R))P[z]=Z,P[J]=R,z=J;else break e}}return I}function a(P,I){var R=P.sortIndex-I.sortIndex;return R!==0?R:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,m=null,f=3,y=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=P)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(P){if(x=!1,p(P),!w)if(r(c)!==null)w=!0,W(C);else{var I=r(u);I!==null&&q(j,I.startTime-P)}}function C(P,I){w=!1,x&&(x=!1,v(S),S=-1),y=!0;var R=f;try{for(p(I),m=r(c);m!==null&&(!(m.expirationTime>I)||P&&!$());){var z=m.callback;if(typeof z=="function"){m.callback=null,f=m.priorityLevel;var F=z(m.expirationTime<=I);I=e.unstable_now(),typeof F=="function"?m.callback=F:m===r(c)&&n(c),p(I)}else n(c);m=r(c)}if(m!==null)var X=!0;else{var ce=r(u);ce!==null&&q(j,ce.startTime-I),X=!1}return X}finally{m=null,f=R,y=!1}}var _=!1,k=null,S=-1,A=5,T=-1;function $(){return!(e.unstable_now()-T<A)}function U(){if(k!==null){var P=e.unstable_now();T=P;var I=!0;try{I=k(!0,P)}finally{I?Y():(_=!1,k=null)}}else _=!1}var Y;if(typeof g=="function")Y=function(){g(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,re=L.port2;L.port1.onmessage=U,Y=function(){re.postMessage(null)}}else Y=function(){b(U,0)};function W(P){k=P,_||(_=!0,Y())}function q(P,I){S=b(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,W(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var R=f;f=I;try{return P()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=f;f=P;try{return I()}finally{f=R}},e.unstable_scheduleCallback=function(P,I,R){var z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=R+F,P={id:h++,callback:I,priorityLevel:P,startTime:R,expirationTime:F,sortIndex:-1},R>z?(P.sortIndex=R,t(u,P),r(c)===null&&P===r(u)&&(x?(v(S),S=-1):x=!0,q(j,R-z))):(P.sortIndex=F,t(c,P),w||y||(w=!0,W(C))),P},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(P){var I=f;return function(){var R=f;f=I;try{return P.apply(this,arguments)}finally{f=R}}}})(Ov);Mv.exports=Ov;var J_=Mv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_=d,or=J_;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dv=new Set,ko={};function Ts(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(ko[e]=t,e=0;e<t.length;e++)Dv.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=Object.prototype.hasOwnProperty,Z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Um={},Bm={};function eN(e){return eu.call(Bm,e)?!0:eu.call(Um,e)?!1:Z_.test(e)?Bm[e]=!0:(Um[e]=!0,!1)}function tN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rN(e,t,r,n){if(t===null||typeof t>"u"||tN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fh=/[\-:]([a-z])/g;function zh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fh,zh);St[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fh,zh);St[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fh,zh);St[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uh(e,t,r,n){var a=St.hasOwnProperty(t)?St[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rN(t,r,a,n)&&(r=null),n||a===null?eN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vn=X_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bi=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),tu=Symbol.for("react.profiler"),Lv=Symbol.for("react.provider"),$v=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),ru=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Fv=Symbol.for("react.offscreen"),Vm=Symbol.iterator;function Ga(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,ad;function oo(e){if(ad===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ad=t&&t[1]||""}return`
`+ad+e}var od=!1;function id(e,t){if(!e||od)return"";od=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{od=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oo(e):""}function nN(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=id(e.type,!1),e;case 11:return e=id(e.type.render,!1),e;case 1:return e=id(e.type,!0),e;default:return""}}function su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zs:return"Fragment";case Xs:return"Portal";case tu:return"Profiler";case Bh:return"StrictMode";case ru:return"Suspense";case nu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $v:return(e.displayName||"Context")+".Consumer";case Lv:return(e._context.displayName||"Context")+".Provider";case Vh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hh:return t=e.displayName||null,t!==null?t:su(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return su(e(t))}catch{}}return null}function sN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return su(t);case 8:return t===Bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aN(e){var t=zv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=aN(e))}function Uv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function au(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Wn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bv(e,t){t=t.checked,t!=null&&Uh(e,"checked",t,!1)}function ou(e,t){Bv(e,t);var r=Wn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iu(e,t.type,r):t.hasOwnProperty("defaultValue")&&iu(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function iu(e,t,r){(t!=="number"||gl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var io=Array.isArray;function ua(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Wn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(te(92));if(io(r)){if(1<r.length)throw Error(te(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wn(r)}}function Vv(e,t){var r=Wn(t.value),n=Wn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _i,Wv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oN=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(e){oN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),po[t]=po[e]})});function qv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||po.hasOwnProperty(e)&&po[e]?(""+t).trim():t+"px"}function Kv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=qv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var iN=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function du(e,t){if(t){if(iN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=null;function Wh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fu=null,ha=null,fa=null;function Gm(e){if(e=si(e)){if(typeof fu!="function")throw Error(te(280));var t=e.stateNode;t&&(t=dc(t),fu(e.stateNode,e.type,t))}}function Gv(e){ha?fa?fa.push(e):fa=[e]:ha=e}function Yv(){if(ha){var e=ha,t=fa;if(fa=ha=null,Gm(e),t)for(e=0;e<t.length;e++)Gm(t[e])}}function Qv(e,t){return e(t)}function Jv(){}var ld=!1;function Xv(e,t,r){if(ld)return e(t,r);ld=!0;try{return Qv(e,t,r)}finally{ld=!1,(ha!==null||fa!==null)&&(Jv(),Yv())}}function To(e,t){var r=e.stateNode;if(r===null)return null;var n=dc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(te(231,t,typeof r));return r}var mu=!1;if(cn)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{mu=!1}function lN(e,t,r,n,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var go=!1,vl=null,xl=!1,pu=null,cN={onError:function(e){go=!0,vl=e}};function dN(e,t,r,n,a,o,i,l,c){go=!1,vl=null,lN.apply(cN,arguments)}function uN(e,t,r,n,a,o,i,l,c){if(dN.apply(this,arguments),go){if(go){var u=vl;go=!1,vl=null}else throw Error(te(198));xl||(xl=!0,pu=u)}}function Ps(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ym(e){if(Ps(e)!==e)throw Error(te(188))}function hN(e){var t=e.alternate;if(!t){if(t=Ps(e),t===null)throw Error(te(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ym(a),e;if(o===n)return Ym(a),t;o=o.sibling}throw Error(te(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?e:t}function ex(e){return e=hN(e),e!==null?tx(e):null}function tx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tx(e);if(t!==null)return t;e=e.sibling}return null}var rx=or.unstable_scheduleCallback,Qm=or.unstable_cancelCallback,fN=or.unstable_shouldYield,mN=or.unstable_requestPaint,at=or.unstable_now,pN=or.unstable_getCurrentPriorityLevel,qh=or.unstable_ImmediatePriority,nx=or.unstable_UserBlockingPriority,yl=or.unstable_NormalPriority,gN=or.unstable_LowPriority,sx=or.unstable_IdlePriority,oc=null,qr=null;function vN(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(oc,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:wN,xN=Math.log,yN=Math.LN2;function wN(e){return e>>>=0,e===0?32:31-(xN(e)/yN|0)|0}var Ni=64,Ci=4194304;function lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=lo(l):(o&=i,o!==0&&(n=lo(o)))}else i=r&~a,i!==0?n=lo(i):o!==0&&(n=lo(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rr(t),a=1<<r,n|=e[r],t&=~a;return n}function bN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Rr(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=bN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ax(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function cd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ri(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=r}function _N(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Rr(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Kh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ue=0;function ox(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ix,Gh,lx,cx,dx,vu=!1,Si=[],Dn=null,Ln=null,$n=null,Po=new Map,Ro=new Map,Tn=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(t.pointerId)}}function Qa(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=si(t),t!==null&&Gh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function CN(e,t,r,n,a){switch(t){case"focusin":return Dn=Qa(Dn,e,t,r,n,a),!0;case"dragenter":return Ln=Qa(Ln,e,t,r,n,a),!0;case"mouseover":return $n=Qa($n,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Po.set(o,Qa(Po.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ro.set(o,Qa(Ro.get(o)||null,e,t,r,n,a)),!0}return!1}function ux(e){var t=hs(e.target);if(t!==null){var r=Ps(t);if(r!==null){if(t=r.tag,t===13){if(t=Zv(r),t!==null){e.blockedOn=t,dx(e.priority,function(){lx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);hu=n,r.target.dispatchEvent(n),hu=null}else return t=si(r),t!==null&&Gh(t),e.blockedOn=r,!1;t.shift()}return!0}function Xm(e,t,r){el(e)&&r.delete(t)}function SN(){vu=!1,Dn!==null&&el(Dn)&&(Dn=null),Ln!==null&&el(Ln)&&(Ln=null),$n!==null&&el($n)&&($n=null),Po.forEach(Xm),Ro.forEach(Xm)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,vu||(vu=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,SN)))}function Ao(e){function t(a){return Ja(a,e)}if(0<Si.length){Ja(Si[0],e);for(var r=1;r<Si.length;r++){var n=Si[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dn!==null&&Ja(Dn,e),Ln!==null&&Ja(Ln,e),$n!==null&&Ja($n,e),Po.forEach(t),Ro.forEach(t),r=0;r<Tn.length;r++)n=Tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Tn.length&&(r=Tn[0],r.blockedOn===null);)ux(r),r.blockedOn===null&&Tn.shift()}var ma=vn.ReactCurrentBatchConfig,bl=!0;function kN(e,t,r,n){var a=Ue,o=ma.transition;ma.transition=null;try{Ue=1,Yh(e,t,r,n)}finally{Ue=a,ma.transition=o}}function EN(e,t,r,n){var a=Ue,o=ma.transition;ma.transition=null;try{Ue=4,Yh(e,t,r,n)}finally{Ue=a,ma.transition=o}}function Yh(e,t,r,n){if(bl){var a=xu(e,t,r,n);if(a===null)yd(e,t,n,jl,r),Jm(e,n);else if(CN(a,e,t,r,n))n.stopPropagation();else if(Jm(e,n),t&4&&-1<NN.indexOf(e)){for(;a!==null;){var o=si(a);if(o!==null&&ix(o),o=xu(e,t,r,n),o===null&&yd(e,t,n,jl,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else yd(e,t,n,null,r)}}var jl=null;function xu(e,t,r,n){if(jl=null,e=Wh(n),e=hs(e),e!==null)if(t=Ps(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function hx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pN()){case qh:return 1;case nx:return 4;case yl:case gN:return 16;case sx:return 536870912;default:return 16}default:return 16}}var In=null,Qh=null,tl=null;function fx(){if(tl)return tl;var e,t=Qh,r=t.length,n,a="value"in In?In.value:In.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return tl=a.slice(e,1<n?1-n:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Zm(){return!1}function lr(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ki:Zm,this.isPropagationStopped=Zm,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jh=lr(Oa),ni=tt({},Oa,{view:0,detail:0}),TN=lr(ni),dd,ud,Xa,ic=tt({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xa&&(Xa&&e.type==="mousemove"?(dd=e.screenX-Xa.screenX,ud=e.screenY-Xa.screenY):ud=dd=0,Xa=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:ud}}),ep=lr(ic),PN=tt({},ic,{dataTransfer:0}),RN=lr(PN),AN=tt({},ni,{relatedTarget:0}),hd=lr(AN),IN=tt({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=lr(IN),ON=tt({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DN=lr(ON),LN=tt({},Oa,{data:0}),tp=lr(LN),$N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zN[e])?!!t[e]:!1}function Xh(){return UN}var BN=tt({},ni,{key:function(e){if(e.key){var t=$N[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VN=lr(BN),HN=tt({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=lr(HN),WN=tt({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),qN=lr(WN),KN=tt({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),GN=lr(KN),YN=tt({},ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QN=lr(YN),JN=[9,13,27,32],Zh=cn&&"CompositionEvent"in window,vo=null;cn&&"documentMode"in document&&(vo=document.documentMode);var XN=cn&&"TextEvent"in window&&!vo,mx=cn&&(!Zh||vo&&8<vo&&11>=vo),np=" ",sp=!1;function px(e,t){switch(e){case"keyup":return JN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function ZN(e,t){switch(e){case"compositionend":return gx(t);case"keypress":return t.which!==32?null:(sp=!0,np);case"textInput":return e=t.data,e===np&&sp?null:e;default:return null}}function eC(e,t){if(ea)return e==="compositionend"||!Zh&&px(e,t)?(e=fx(),tl=Qh=In=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mx&&t.locale!=="ko"?null:t.data;default:return null}}var tC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tC[e.type]:t==="textarea"}function vx(e,t,r,n){Gv(n),t=_l(t,"onChange"),0<t.length&&(r=new Jh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var xo=null,Io=null;function rC(e){Ex(e,0)}function lc(e){var t=na(e);if(Uv(t))return e}function nC(e,t){if(e==="change")return t}var xx=!1;if(cn){var fd;if(cn){var md="oninput"in document;if(!md){var op=document.createElement("div");op.setAttribute("oninput","return;"),md=typeof op.oninput=="function"}fd=md}else fd=!1;xx=fd&&(!document.documentMode||9<document.documentMode)}function ip(){xo&&(xo.detachEvent("onpropertychange",yx),Io=xo=null)}function yx(e){if(e.propertyName==="value"&&lc(Io)){var t=[];vx(t,Io,e,Wh(e)),Xv(rC,t)}}function sC(e,t,r){e==="focusin"?(ip(),xo=t,Io=r,xo.attachEvent("onpropertychange",yx)):e==="focusout"&&ip()}function aC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(Io)}function oC(e,t){if(e==="click")return lc(t)}function iC(e,t){if(e==="input"||e==="change")return lc(t)}function lC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:lC;function Mo(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!eu.call(t,a)||!Mr(e[a],t[a]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,t){var r=lp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lp(r)}}function wx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bx(){for(var e=window,t=gl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gl(e.document)}return t}function ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cC(e){var t=bx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wx(r.ownerDocument.documentElement,r)){if(n!==null&&ef(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=cp(r,o);var i=cp(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dC=cn&&"documentMode"in document&&11>=document.documentMode,ta=null,yu=null,yo=null,wu=!1;function dp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wu||ta==null||ta!==gl(n)||(n=ta,"selectionStart"in n&&ef(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yo&&Mo(yo,n)||(yo=n,n=_l(yu,"onSelect"),0<n.length&&(t=new Jh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ta)))}function Ei(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ra={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},pd={},jx={};cn&&(jx=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function cc(e){if(pd[e])return pd[e];if(!ra[e])return e;var t=ra[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jx)return pd[e]=t[r];return e}var _x=cc("animationend"),Nx=cc("animationiteration"),Cx=cc("animationstart"),Sx=cc("transitionend"),kx=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){kx.set(e,t),Ts(t,[e])}for(var gd=0;gd<up.length;gd++){var vd=up[gd],uC=vd.toLowerCase(),hC=vd[0].toUpperCase()+vd.slice(1);Xn(uC,"on"+hC)}Xn(_x,"onAnimationEnd");Xn(Nx,"onAnimationIteration");Xn(Cx,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Sx,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function hp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uN(n,t,void 0,e),e.currentTarget=null}function Ex(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;hp(a,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;hp(a,l,u),o=c}}}if(xl)throw e=pu,xl=!1,pu=null,e}function Qe(e,t){var r=t[Cu];r===void 0&&(r=t[Cu]=new Set);var n=e+"__bubble";r.has(n)||(Tx(t,e,2,!1),r.add(n))}function xd(e,t,r){var n=0;t&&(n|=4),Tx(r,e,n,t)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[Ti]){e[Ti]=!0,Dv.forEach(function(r){r!=="selectionchange"&&(fC.has(r)||xd(r,!1,e),xd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ti]||(t[Ti]=!0,xd("selectionchange",!1,t))}}function Tx(e,t,r,n){switch(hx(t)){case 1:var a=kN;break;case 4:a=EN;break;default:a=Yh}r=a.bind(null,t,r,e),a=void 0,!mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function yd(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=hs(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Xv(function(){var u=o,h=Wh(r),m=[];e:{var f=kx.get(e);if(f!==void 0){var y=Jh,w=e;switch(e){case"keypress":if(rl(r)===0)break e;case"keydown":case"keyup":y=VN;break;case"focusin":w="focus",y=hd;break;case"focusout":w="blur",y=hd;break;case"beforeblur":case"afterblur":y=hd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=RN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=qN;break;case _x:case Nx:case Cx:y=MN;break;case Sx:y=GN;break;case"scroll":y=TN;break;case"wheel":y=QN;break;case"copy":case"cut":case"paste":y=DN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=rp}var x=(t&4)!==0,b=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,v!==null&&(j=To(g,v),j!=null&&x.push(Do(g,j,p)))),b)break;g=g.return}0<x.length&&(f=new y(f,w,null,r,h),m.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==hu&&(w=r.relatedTarget||r.fromElement)&&(hs(w)||w[dn]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?hs(w):null,w!==null&&(b=Ps(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=ep,j="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=rp,j="onPointerLeave",v="onPointerEnter",g="pointer"),b=y==null?f:na(y),p=w==null?f:na(w),f=new x(j,g+"leave",y,r,h),f.target=b,f.relatedTarget=p,j=null,hs(h)===u&&(x=new x(v,g+"enter",w,r,h),x.target=p,x.relatedTarget=b,j=x),b=j,y&&w)t:{for(x=y,v=w,g=0,p=x;p;p=Ds(p))g++;for(p=0,j=v;j;j=Ds(j))p++;for(;0<g-p;)x=Ds(x),g--;for(;0<p-g;)v=Ds(v),p--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ds(x),v=Ds(v)}x=null}else x=null;y!==null&&fp(m,f,y,x,!1),w!==null&&b!==null&&fp(m,b,w,x,!0)}}e:{if(f=u?na(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var C=nC;else if(ap(f))if(xx)C=iC;else{C=aC;var _=sC}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=oC);if(C&&(C=C(e,u))){vx(m,C,r,h);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&iu(f,"number",f.value)}switch(_=u?na(u):window,e){case"focusin":(ap(_)||_.contentEditable==="true")&&(ta=_,yu=u,yo=null);break;case"focusout":yo=yu=ta=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,dp(m,r,h);break;case"selectionchange":if(dC)break;case"keydown":case"keyup":dp(m,r,h)}var k;if(Zh)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ea?px(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(mx&&r.locale!=="ko"&&(ea||S!=="onCompositionStart"?S==="onCompositionEnd"&&ea&&(k=fx()):(In=h,Qh="value"in In?In.value:In.textContent,ea=!0)),_=_l(u,S),0<_.length&&(S=new tp(S,e,null,r,h),m.push({event:S,listeners:_}),k?S.data=k:(k=gx(r),k!==null&&(S.data=k)))),(k=XN?ZN(e,r):eC(e,r))&&(u=_l(u,"onBeforeInput"),0<u.length&&(h=new tp("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=k))}Ex(m,t)})}function Do(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _l(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=To(e,r),o!=null&&n.unshift(Do(e,o,a)),o=To(e,t),o!=null&&n.push(Do(e,o,a))),e=e.return}return n}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fp(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=To(r,o),c!=null&&i.unshift(Do(r,c,l))):a||(c=To(r,o),c!=null&&i.push(Do(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var mC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(mC,`
`).replace(pC,"")}function Pi(e,t,r){if(t=mp(t),mp(e)!==t&&r)throw Error(te(425))}function Nl(){}var bu=null,ju=null;function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,gC=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(xC)}:Nu;function xC(e){setTimeout(function(){throw e})}function wd(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ao(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ao(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Da,Lo="__reactProps$"+Da,dn="__reactContainer$"+Da,Cu="__reactEvents$"+Da,yC="__reactListeners$"+Da,wC="__reactHandles$"+Da;function hs(e){var t=e[Vr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dn]||r[Vr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gp(e);e!==null;){if(r=e[Vr])return r;e=gp(e)}return t}e=r,r=e.parentNode}return null}function si(e){return e=e[Vr]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function dc(e){return e[Lo]||null}var Su=[],sa=-1;function Zn(e){return{current:e}}function Je(e){0>sa||(e.current=Su[sa],Su[sa]=null,sa--)}function Ke(e,t){sa++,Su[sa]=e.current,e.current=t}var qn={},Mt=Zn(qn),Gt=Zn(!1),bs=qn;function _a(e,t){var r=e.type.contextTypes;if(!r)return qn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yt(e){return e=e.childContextTypes,e!=null}function Cl(){Je(Gt),Je(Mt)}function vp(e,t,r){if(Mt.current!==qn)throw Error(te(168));Ke(Mt,t),Ke(Gt,r)}function Px(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(te(108,sN(e)||"Unknown",a));return tt({},r,n)}function Sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,bs=Mt.current,Ke(Mt,e),Ke(Gt,Gt.current),!0}function xp(e,t,r){var n=e.stateNode;if(!n)throw Error(te(169));r?(e=Px(e,t,bs),n.__reactInternalMemoizedMergedChildContext=e,Je(Gt),Je(Mt),Ke(Mt,e)):Je(Gt),Ke(Gt,r)}var en=null,uc=!1,bd=!1;function Rx(e){en===null?en=[e]:en.push(e)}function bC(e){uc=!0,Rx(e)}function es(){if(!bd&&en!==null){bd=!0;var e=0,t=Ue;try{var r=en;for(Ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}en=null,uc=!1}catch(a){throw en!==null&&(en=en.slice(e+1)),rx(qh,es),a}finally{Ue=t,bd=!1}}return null}var aa=[],oa=0,kl=null,El=0,cr=[],dr=0,js=null,rn=1,nn="";function ls(e,t){aa[oa++]=El,aa[oa++]=kl,kl=e,El=t}function Ax(e,t,r){cr[dr++]=rn,cr[dr++]=nn,cr[dr++]=js,js=e;var n=rn;e=nn;var a=32-Rr(n)-1;n&=~(1<<a),r+=1;var o=32-Rr(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,rn=1<<32-Rr(t)+a|r<<a|n,nn=o+e}else rn=1<<o|r<<a|n,nn=e}function tf(e){e.return!==null&&(ls(e,1),Ax(e,1,0))}function rf(e){for(;e===kl;)kl=aa[--oa],aa[oa]=null,El=aa[--oa],aa[oa]=null;for(;e===js;)js=cr[--dr],cr[dr]=null,nn=cr[--dr],cr[dr]=null,rn=cr[--dr],cr[dr]=null}var sr=null,nr=null,Xe=!1,Pr=null;function Ix(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sr=e,nr=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sr=e,nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=js!==null?{id:rn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sr=e,nr=null,!0):!1;default:return!1}}function ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eu(e){if(Xe){var t=nr;if(t){var r=t;if(!yp(e,t)){if(ku(e))throw Error(te(418));t=Fn(r.nextSibling);var n=sr;t&&yp(e,t)?Ix(n,r):(e.flags=e.flags&-4097|2,Xe=!1,sr=e)}}else{if(ku(e))throw Error(te(418));e.flags=e.flags&-4097|2,Xe=!1,sr=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function Ri(e){if(e!==sr)return!1;if(!Xe)return wp(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_u(e.type,e.memoizedProps)),t&&(t=nr)){if(ku(e))throw Mx(),Error(te(418));for(;t;)Ix(e,t),t=Fn(t.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nr=Fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nr=null}}else nr=sr?Fn(e.stateNode.nextSibling):null;return!0}function Mx(){for(var e=nr;e;)e=Fn(e.nextSibling)}function Na(){nr=sr=null,Xe=!1}function nf(e){Pr===null?Pr=[e]:Pr.push(e)}var jC=vn.ReactCurrentBatchConfig;function Za(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,e))}return e}function Ai(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bp(e){var t=e._init;return t(e._payload)}function Ox(e){function t(v,g){if(e){var p=v.deletions;p===null?(v.deletions=[g],v.flags|=16):p.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=Vn(v,g),v.index=0,v.sibling=null,v}function o(v,g,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<g?(v.flags|=2,g):p):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,p,j){return g===null||g.tag!==6?(g=Ed(p,v.mode,j),g.return=v,g):(g=a(g,p),g.return=v,g)}function c(v,g,p,j){var C=p.type;return C===Zs?h(v,g,p.props.children,j,p.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&bp(C)===g.type)?(j=a(g,p.props),j.ref=Za(v,g,p),j.return=v,j):(j=cl(p.type,p.key,p.props,null,v.mode,j),j.ref=Za(v,g,p),j.return=v,j)}function u(v,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Td(p,v.mode,j),g.return=v,g):(g=a(g,p.children||[]),g.return=v,g)}function h(v,g,p,j,C){return g===null||g.tag!==7?(g=xs(p,v.mode,j,C),g.return=v,g):(g=a(g,p),g.return=v,g)}function m(v,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ed(""+g,v.mode,p),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bi:return p=cl(g.type,g.key,g.props,null,v.mode,p),p.ref=Za(v,null,g),p.return=v,p;case Xs:return g=Td(g,v.mode,p),g.return=v,g;case Sn:var j=g._init;return m(v,j(g._payload),p)}if(io(g)||Ga(g))return g=xs(g,v.mode,p,null),g.return=v,g;Ai(v,g)}return null}function f(v,g,p,j){var C=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:l(v,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bi:return p.key===C?c(v,g,p,j):null;case Xs:return p.key===C?u(v,g,p,j):null;case Sn:return C=p._init,f(v,g,C(p._payload),j)}if(io(p)||Ga(p))return C!==null?null:h(v,g,p,j,null);Ai(v,p)}return null}function y(v,g,p,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(p)||null,l(g,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bi:return v=v.get(j.key===null?p:j.key)||null,c(g,v,j,C);case Xs:return v=v.get(j.key===null?p:j.key)||null,u(g,v,j,C);case Sn:var _=j._init;return y(v,g,p,_(j._payload),C)}if(io(j)||Ga(j))return v=v.get(p)||null,h(g,v,j,C,null);Ai(g,j)}return null}function w(v,g,p,j){for(var C=null,_=null,k=g,S=g=0,A=null;k!==null&&S<p.length;S++){k.index>S?(A=k,k=null):A=k.sibling;var T=f(v,k,p[S],j);if(T===null){k===null&&(k=A);break}e&&k&&T.alternate===null&&t(v,k),g=o(T,g,S),_===null?C=T:_.sibling=T,_=T,k=A}if(S===p.length)return r(v,k),Xe&&ls(v,S),C;if(k===null){for(;S<p.length;S++)k=m(v,p[S],j),k!==null&&(g=o(k,g,S),_===null?C=k:_.sibling=k,_=k);return Xe&&ls(v,S),C}for(k=n(v,k);S<p.length;S++)A=y(k,v,S,p[S],j),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?S:A.key),g=o(A,g,S),_===null?C=A:_.sibling=A,_=A);return e&&k.forEach(function($){return t(v,$)}),Xe&&ls(v,S),C}function x(v,g,p,j){var C=Ga(p);if(typeof C!="function")throw Error(te(150));if(p=C.call(p),p==null)throw Error(te(151));for(var _=C=null,k=g,S=g=0,A=null,T=p.next();k!==null&&!T.done;S++,T=p.next()){k.index>S?(A=k,k=null):A=k.sibling;var $=f(v,k,T.value,j);if($===null){k===null&&(k=A);break}e&&k&&$.alternate===null&&t(v,k),g=o($,g,S),_===null?C=$:_.sibling=$,_=$,k=A}if(T.done)return r(v,k),Xe&&ls(v,S),C;if(k===null){for(;!T.done;S++,T=p.next())T=m(v,T.value,j),T!==null&&(g=o(T,g,S),_===null?C=T:_.sibling=T,_=T);return Xe&&ls(v,S),C}for(k=n(v,k);!T.done;S++,T=p.next())T=y(k,v,S,T.value,j),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?S:T.key),g=o(T,g,S),_===null?C=T:_.sibling=T,_=T);return e&&k.forEach(function(U){return t(v,U)}),Xe&&ls(v,S),C}function b(v,g,p,j){if(typeof p=="object"&&p!==null&&p.type===Zs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case bi:e:{for(var C=p.key,_=g;_!==null;){if(_.key===C){if(C=p.type,C===Zs){if(_.tag===7){r(v,_.sibling),g=a(_,p.props.children),g.return=v,v=g;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sn&&bp(C)===_.type){r(v,_.sibling),g=a(_,p.props),g.ref=Za(v,_,p),g.return=v,v=g;break e}r(v,_);break}else t(v,_);_=_.sibling}p.type===Zs?(g=xs(p.props.children,v.mode,j,p.key),g.return=v,v=g):(j=cl(p.type,p.key,p.props,null,v.mode,j),j.ref=Za(v,g,p),j.return=v,v=j)}return i(v);case Xs:e:{for(_=p.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(v,g.sibling),g=a(g,p.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Td(p,v.mode,j),g.return=v,v=g}return i(v);case Sn:return _=p._init,b(v,g,_(p._payload),j)}if(io(p))return w(v,g,p,j);if(Ga(p))return x(v,g,p,j);Ai(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(v,g.sibling),g=a(g,p),g.return=v,v=g):(r(v,g),g=Ed(p,v.mode,j),g.return=v,v=g),i(v)):r(v,g)}return b}var Ca=Ox(!0),Dx=Ox(!1),Tl=Zn(null),Pl=null,ia=null,sf=null;function af(){sf=ia=Pl=null}function of(e){var t=Tl.current;Je(Tl),e._currentValue=t}function Tu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pa(e,t){Pl=e,sf=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function wr(e){var t=e._currentValue;if(sf!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(Pl===null)throw Error(te(308));ia=e,Pl.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var fs=null;function lf(e){fs===null?fs=[e]:fs.push(e)}function Lx(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,lf(t)):(r.next=a.next,a.next=r),t.interleaved=r,un(e,n)}function un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kn=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $x(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,un(e,r)}return a=n.interleaved,a===null?(t.next=t,lf(n)):(t.next=a.next,a.next=t),n.interleaved=t,un(e,r)}function nl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kh(e,r)}}function jp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rl(e,t,r,n){var a=e.updateQueue;kn=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,h=u=c=null,l=o;do{var f=l.lane,y=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(f=t,y=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){m=w.call(y,m,f);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(y,m,f):w,f==null)break e;m=tt({},m,f);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=m):h=h.next=y,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Ns|=i,e.lanes=i,e.memoizedState=m}}function _p(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(te(191,a));a.call(n)}}}var ai={},Kr=Zn(ai),$o=Zn(ai),Fo=Zn(ai);function ms(e){if(e===ai)throw Error(te(174));return e}function df(e,t){switch(Ke(Fo,t),Ke($o,e),Ke(Kr,ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cu(t,e)}Je(Kr),Ke(Kr,t)}function Sa(){Je(Kr),Je($o),Je(Fo)}function Fx(e){ms(Fo.current);var t=ms(Kr.current),r=cu(t,e.type);t!==r&&(Ke($o,e),Ke(Kr,r))}function uf(e){$o.current===e&&(Je(Kr),Je($o))}var Ze=Zn(0);function Al(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jd=[];function hf(){for(var e=0;e<jd.length;e++)jd[e]._workInProgressVersionPrimary=null;jd.length=0}var sl=vn.ReactCurrentDispatcher,_d=vn.ReactCurrentBatchConfig,_s=0,et=null,ct=null,gt=null,Il=!1,wo=!1,zo=0,_C=0;function Et(){throw Error(te(321))}function ff(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mr(e[r],t[r]))return!1;return!0}function mf(e,t,r,n,a,o){if(_s=o,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=e===null||e.memoizedState===null?kC:EC,e=r(n,a),wo){o=0;do{if(wo=!1,zo=0,25<=o)throw Error(te(301));o+=1,gt=ct=null,t.updateQueue=null,sl.current=TC,e=r(n,a)}while(wo)}if(sl.current=Ml,t=ct!==null&&ct.next!==null,_s=0,gt=ct=et=null,Il=!1,t)throw Error(te(300));return e}function pf(){var e=zo!==0;return zo=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?et.memoizedState=gt=e:gt=gt.next=e,gt}function br(){if(ct===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=gt===null?et.memoizedState:gt.next;if(t!==null)gt=t,ct=e;else{if(e===null)throw Error(te(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?et.memoizedState=gt=e:gt=gt.next=e}return gt}function Uo(e,t){return typeof t=="function"?t(e):t}function Nd(e){var t=br(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=ct,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var h=u.lane;if((_s&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,i=n):c=c.next=m,et.lanes|=h,Ns|=h}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Mr(n,t.memoizedState)||(Kt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,et.lanes|=o,Ns|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cd(e){var t=br(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Mr(o,t.memoizedState)||(Kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function zx(){}function Ux(e,t){var r=et,n=br(),a=t(),o=!Mr(n.memoizedState,a);if(o&&(n.memoizedState=a,Kt=!0),n=n.queue,gf(Hx.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Bo(9,Vx.bind(null,r,n,a,t),void 0,null),wt===null)throw Error(te(349));_s&30||Bx(r,t,a)}return a}function Bx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vx(e,t,r,n){t.value=r,t.getSnapshot=n,Wx(t)&&qx(e)}function Hx(e,t,r){return r(function(){Wx(t)&&qx(e)})}function Wx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mr(e,r)}catch{return!0}}function qx(e){var t=un(e,1);t!==null&&Ar(t,e,1,-1)}function Np(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=SC.bind(null,et,e),[t.memoizedState,e]}function Bo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Kx(){return br().memoizedState}function al(e,t,r,n){var a=Ur();et.flags|=e,a.memoizedState=Bo(1|t,r,void 0,n===void 0?null:n)}function hc(e,t,r,n){var a=br();n=n===void 0?null:n;var o=void 0;if(ct!==null){var i=ct.memoizedState;if(o=i.destroy,n!==null&&ff(n,i.deps)){a.memoizedState=Bo(t,r,o,n);return}}et.flags|=e,a.memoizedState=Bo(1|t,r,o,n)}function Cp(e,t){return al(8390656,8,e,t)}function gf(e,t){return hc(2048,8,e,t)}function Gx(e,t){return hc(4,2,e,t)}function Yx(e,t){return hc(4,4,e,t)}function Qx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jx(e,t,r){return r=r!=null?r.concat([e]):null,hc(4,4,Qx.bind(null,t,e),r)}function vf(){}function Xx(e,t){var r=br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ff(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zx(e,t){var r=br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ff(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ey(e,t,r){return _s&21?(Mr(r,t)||(r=ax(),et.lanes|=r,Ns|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=r)}function NC(e,t){var r=Ue;Ue=r!==0&&4>r?r:4,e(!0);var n=_d.transition;_d.transition={};try{e(!1),t()}finally{Ue=r,_d.transition=n}}function ty(){return br().memoizedState}function CC(e,t,r){var n=Bn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ry(e))ny(t,r);else if(r=Lx(e,t,r,n),r!==null){var a=$t();Ar(r,e,n,a),sy(r,t,n)}}function SC(e,t,r){var n=Bn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ry(e))ny(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Mr(l,i)){var c=t.interleaved;c===null?(a.next=a,lf(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Lx(e,t,a,n),r!==null&&(a=$t(),Ar(r,e,n,a),sy(r,t,n))}}function ry(e){var t=e.alternate;return e===et||t!==null&&t===et}function ny(e,t){wo=Il=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kh(e,r)}}var Ml={readContext:wr,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},kC={readContext:wr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:wr,useEffect:Cp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,al(4194308,4,Qx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var r=Ur();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ur();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=CC.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:Np,useDebugValue:vf,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=Np(!1),t=e[0];return e=NC.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,a=Ur();if(Xe){if(r===void 0)throw Error(te(407));r=r()}else{if(r=t(),wt===null)throw Error(te(349));_s&30||Bx(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Cp(Hx.bind(null,n,o,e),[e]),n.flags|=2048,Bo(9,Vx.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ur(),t=wt.identifierPrefix;if(Xe){var r=nn,n=rn;r=(n&~(1<<32-Rr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_C++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EC={readContext:wr,useCallback:Xx,useContext:wr,useEffect:gf,useImperativeHandle:Jx,useInsertionEffect:Gx,useLayoutEffect:Yx,useMemo:Zx,useReducer:Nd,useRef:Kx,useState:function(){return Nd(Uo)},useDebugValue:vf,useDeferredValue:function(e){var t=br();return ey(t,ct.memoizedState,e)},useTransition:function(){var e=Nd(Uo)[0],t=br().memoizedState;return[e,t]},useMutableSource:zx,useSyncExternalStore:Ux,useId:ty,unstable_isNewReconciler:!1},TC={readContext:wr,useCallback:Xx,useContext:wr,useEffect:gf,useImperativeHandle:Jx,useInsertionEffect:Gx,useLayoutEffect:Yx,useMemo:Zx,useReducer:Cd,useRef:Kx,useState:function(){return Cd(Uo)},useDebugValue:vf,useDeferredValue:function(e){var t=br();return ct===null?t.memoizedState=e:ey(t,ct.memoizedState,e)},useTransition:function(){var e=Cd(Uo)[0],t=br().memoizedState;return[e,t]},useMutableSource:zx,useSyncExternalStore:Ux,useId:ty,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fc={isMounted:function(e){return(e=e._reactInternals)?Ps(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),a=Bn(e),o=sn(n,a);o.payload=t,r!=null&&(o.callback=r),t=zn(e,o,a),t!==null&&(Ar(t,e,a,n),nl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),a=Bn(e),o=sn(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=zn(e,o,a),t!==null&&(Ar(t,e,a,n),nl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=Bn(e),a=sn(r,n);a.tag=2,t!=null&&(a.callback=t),t=zn(e,a,n),t!==null&&(Ar(t,e,n,r),nl(t,e,n))}};function Sp(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,n)||!Mo(a,o):!0}function ay(e,t,r){var n=!1,a=qn,o=t.contextType;return typeof o=="object"&&o!==null?o=wr(o):(a=Yt(t)?bs:Mt.current,n=t.contextTypes,o=(n=n!=null)?_a(e,a):qn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function kp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fc.enqueueReplaceState(t,t.state,null)}function Ru(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},cf(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=wr(o):(o=Yt(t)?bs:Mt.current,a.context=_a(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pu(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&fc.enqueueReplaceState(a,a.state,null),Rl(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t){try{var r="",n=t;do r+=nN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Sd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Au(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PC=typeof WeakMap=="function"?WeakMap:Map;function oy(e,t,r){r=sn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Dl||(Dl=!0,Bu=n),Au(e,t)},r}function iy(e,t,r){r=sn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Au(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Au(e,t),typeof n!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Ep(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PC;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=HC.bind(null,e,t,r),t.then(e,e))}function Tp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pp(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sn(-1,1),t.tag=2,zn(r,t,1))),r.lanes|=1),e)}var RC=vn.ReactCurrentOwner,Kt=!1;function Dt(e,t,r,n){t.child=e===null?Dx(t,null,r,n):Ca(t,e.child,r,n)}function Rp(e,t,r,n,a){r=r.render;var o=t.ref;return pa(t,a),n=mf(e,t,r,n,o,a),r=pf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hn(e,t,a)):(Xe&&r&&tf(t),t.flags|=1,Dt(e,t,n,a),t.child)}function Ap(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Cf(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,ly(e,t,o,n,a)):(e=cl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(i,n)&&e.ref===t.ref)return hn(e,t,a)}return t.flags|=1,e=Vn(o,n),e.ref=t.ref,e.return=t,t.child=e}function ly(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Mo(o,n)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,hn(e,t,a)}return Iu(e,t,r,n,a)}function cy(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ca,Zt),Zt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(ca,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ke(ca,Zt),Zt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ke(ca,Zt),Zt|=n;return Dt(e,t,a,r),t.child}function dy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,r,n,a){var o=Yt(r)?bs:Mt.current;return o=_a(t,o),pa(t,a),r=mf(e,t,r,n,o,a),n=pf(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hn(e,t,a)):(Xe&&n&&tf(t),t.flags|=1,Dt(e,t,r,a),t.child)}function Ip(e,t,r,n,a){if(Yt(r)){var o=!0;Sl(t)}else o=!1;if(pa(t,a),t.stateNode===null)ol(e,t),ay(t,r,n),Ru(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=Yt(r)?bs:Mt.current,u=_a(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&kp(t,i,n,u),kn=!1;var f=t.memoizedState;i.state=f,Rl(t,n,i,a),c=t.memoizedState,l!==n||f!==c||Gt.current||kn?(typeof h=="function"&&(Pu(t,r,h,n),c=t.memoizedState),(l=kn||Sp(t,r,l,n,f,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,$x(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Sr(t.type,l),i.props=u,m=t.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=Yt(r)?bs:Mt.current,c=_a(t,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||f!==c)&&kp(t,i,n,c),kn=!1,f=t.memoizedState,i.state=f,Rl(t,n,i,a);var w=t.memoizedState;l!==m||f!==w||Gt.current||kn?(typeof y=="function"&&(Pu(t,r,y,n),w=t.memoizedState),(u=kn||Sp(t,r,u,n,f,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Mu(e,t,r,n,o,a)}function Mu(e,t,r,n,a,o){dy(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&xp(t,r,!1),hn(e,t,o);n=t.stateNode,RC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ca(t,e.child,null,o),t.child=Ca(t,null,l,o)):Dt(e,t,l,o),t.memoizedState=n.state,a&&xp(t,r,!0),t.child}function uy(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),df(e,t.containerInfo)}function Mp(e,t,r,n,a){return Na(),nf(a),t.flags|=256,Dt(e,t,r,n),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function hy(e,t,r){var n=t.pendingProps,a=Ze.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ke(Ze,a&1),e===null)return Eu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=gc(i,n,0,null),e=xs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Du(r),t.memoizedState=Ou,e):xf(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return AC(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Vn(l,o):(o=xs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Du(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Ou,n}return o=e.child,e=o.sibling,n=Vn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xf(e,t){return t=gc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,r,n){return n!==null&&nf(n),Ca(t,e.child,null,r),e=xf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AC(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Sd(Error(te(422))),Ii(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=gc({mode:"visible",children:n.children},a,0,null),o=xs(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ca(t,e.child,null,i),t.child.memoizedState=Du(i),t.memoizedState=Ou,o);if(!(t.mode&1))return Ii(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(te(419)),n=Sd(o,n,void 0),Ii(e,t,i,n)}if(l=(i&e.childLanes)!==0,Kt||l){if(n=wt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,un(e,a),Ar(n,e,a,-1))}return Nf(),n=Sd(Error(te(421))),Ii(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WC.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,nr=Fn(a.nextSibling),sr=t,Xe=!0,Pr=null,e!==null&&(cr[dr++]=rn,cr[dr++]=nn,cr[dr++]=js,rn=e.id,nn=e.overflow,js=t),t=xf(t,n.children),t.flags|=4096,t)}function Op(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tu(e.return,t,r)}function kd(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function fy(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Dt(e,t,n.children,r),n=Ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,r,t);else if(e.tag===19)Op(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(Ze,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Al(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),kd(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Al(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}kd(t,!0,r,null,o);break;case"together":kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ns|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,r=Vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function IC(e,t,r){switch(t.tag){case 3:uy(t),Na();break;case 5:Fx(t);break;case 1:Yt(t.type)&&Sl(t);break;case 4:df(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ke(Tl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(Ze,Ze.current&1),t.flags|=128,null):r&t.child.childLanes?hy(e,t,r):(Ke(Ze,Ze.current&1),e=hn(e,t,r),e!==null?e.sibling:null);Ke(Ze,Ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fy(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ke(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,cy(e,t,r)}return hn(e,t,r)}var my,Lu,py,gy;my=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lu=function(){};py=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ms(Kr.current);var o=null;switch(r){case"input":a=au(e,a),n=au(e,n),o=[];break;case"select":a=tt({},a,{value:void 0}),n=tt({},n,{value:void 0}),o=[];break;case"textarea":a=lu(e,a),n=lu(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nl)}du(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ko.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a?.[u],n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ko.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};gy=function(e,t,r,n){r!==n&&(t.flags|=4)};function eo(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function MC(e,t,r){var n=t.pendingProps;switch(rf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Yt(t.type)&&Cl(),Tt(t),null;case 3:return n=t.stateNode,Sa(),Je(Gt),Je(Mt),hf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pr!==null&&(Wu(Pr),Pr=null))),Lu(e,t),Tt(t),null;case 5:uf(t);var a=ms(Fo.current);if(r=t.type,e!==null&&t.stateNode!=null)py(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(te(166));return Tt(t),null}if(e=ms(Kr.current),Ri(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Vr]=t,n[Lo]=o,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(a=0;a<co.length;a++)Qe(co[a],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Hm(n,o),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",n);break;case"textarea":qm(n,o),Qe("invalid",n)}du(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Pi(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Pi(n.textContent,l,e),a=["children",""+l]):ko.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Qe("scroll",n)}switch(r){case"input":ji(n),Wm(n,o,!0);break;case"textarea":ji(n),Km(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Nl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Vr]=t,e[Lo]=n,my(e,t,!1,!1),t.stateNode=e;e:{switch(i=uu(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),a=n;break;case"iframe":case"object":case"embed":Qe("load",e),a=n;break;case"video":case"audio":for(a=0;a<co.length;a++)Qe(co[a],e);a=n;break;case"source":Qe("error",e),a=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),a=n;break;case"details":Qe("toggle",e),a=n;break;case"input":Hm(e,n),a=au(e,n),Qe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tt({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":qm(e,n),a=lu(e,n),Qe("invalid",e);break;default:a=n}du(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Kv(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wv(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Eo(e,c):typeof c=="number"&&Eo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ko.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Qe("scroll",e):c!=null&&Uh(e,o,c,i))}switch(r){case"input":ji(e),Wm(e,n,!1);break;case"textarea":ji(e),Km(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ua(e,!!n.multiple,o,!1):n.defaultValue!=null&&ua(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Nl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)gy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(te(166));if(r=ms(Fo.current),ms(Kr.current),Ri(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vr]=t,(o=n.nodeValue!==r)&&(e=sr,e!==null))switch(e.tag){case 3:Pi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pi(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vr]=t,t.stateNode=n}return Tt(t),null;case 13:if(Je(Ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&nr!==null&&t.mode&1&&!(t.flags&128))Mx(),Na(),t.flags|=98560,o=!1;else if(o=Ri(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(te(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Vr]=t}else Na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),o=!1}else Pr!==null&&(Wu(Pr),Pr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?dt===0&&(dt=3):Nf())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return Sa(),Lu(e,t),e===null&&Oo(t.stateNode.containerInfo),Tt(t),null;case 10:return of(t.type._context),Tt(t),null;case 17:return Yt(t.type)&&Cl(),Tt(t),null;case 19:if(Je(Ze),o=t.memoizedState,o===null)return Tt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)eo(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Al(e),i!==null){for(t.flags|=128,eo(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&at()>Ea&&(t.flags|=128,n=!0,eo(o,!1),t.lanes=4194304)}else{if(!n)if(e=Al(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Xe)return Tt(t),null}else 2*at()-o.renderingStartTime>Ea&&r!==1073741824&&(t.flags|=128,n=!0,eo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,r=Ze.current,Ke(Ze,n?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return _f(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zt&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function OC(e,t){switch(rf(t),t.tag){case 1:return Yt(t.type)&&Cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(),Je(Gt),Je(Mt),hf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(Je(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(Ze),null;case 4:return Sa(),null;case 10:return of(t.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Mi=!1,Rt=!1,DC=typeof WeakSet=="function"?WeakSet:Set,pe=null;function la(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function $u(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Dp=!1;function LC(e,t){if(bu=bl,e=bx(),ef(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,m=e,f=null;t:for(;;){for(var y;m!==r||a!==0&&m.nodeType!==3||(l=i+a),m!==o||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===e)break t;if(f===r&&++u===a&&(l=i),f===o&&++h===n&&(c=i),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ju={focusedElem:e,selectionRange:r},bl=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Sr(t.type,x),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(j){nt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return w=Dp,Dp=!1,w}function bo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&$u(t,r,o)}a=a.next}while(a!==n)}}function mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vy(e){var t=e.alternate;t!==null&&(e.alternate=null,vy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vr],delete t[Lo],delete t[Cu],delete t[yC],delete t[wC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xy(e){return e.tag===5||e.tag===3||e.tag===4}function Lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nl));else if(n!==4&&(e=e.child,e!==null))for(zu(e,t,r),e=e.sibling;e!==null;)zu(e,t,r),e=e.sibling}function Uu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Uu(e,t,r),e=e.sibling;e!==null;)Uu(e,t,r),e=e.sibling}var bt=null,Er=!1;function wn(e,t,r){for(r=r.child;r!==null;)yy(e,t,r),r=r.sibling}function yy(e,t,r){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(oc,r)}catch{}switch(r.tag){case 5:Rt||la(r,t);case 6:var n=bt,a=Er;bt=null,wn(e,t,r),bt=n,Er=a,bt!==null&&(Er?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Er?(e=bt,r=r.stateNode,e.nodeType===8?wd(e.parentNode,r):e.nodeType===1&&wd(e,r),Ao(e)):wd(bt,r.stateNode));break;case 4:n=bt,a=Er,bt=r.stateNode.containerInfo,Er=!0,wn(e,t,r),bt=n,Er=a;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&$u(r,t,i),a=a.next}while(a!==n)}wn(e,t,r);break;case 1:if(!Rt&&(la(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}wn(e,t,r);break;case 21:wn(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,wn(e,t,r),Rt=n):wn(e,t,r);break;default:wn(e,t,r)}}function $p(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new DC),t.forEach(function(n){var a=qC.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Er=!1;break e;case 3:bt=l.stateNode.containerInfo,Er=!0;break e;case 4:bt=l.stateNode.containerInfo,Er=!0;break e}l=l.return}if(bt===null)throw Error(te(160));yy(o,i,a),bt=null,Er=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wy(t,e),t=t.sibling}function wy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_r(t,e),zr(e),n&4){try{bo(3,e,e.return),mc(3,e)}catch(x){nt(e,e.return,x)}try{bo(5,e,e.return)}catch(x){nt(e,e.return,x)}}break;case 1:_r(t,e),zr(e),n&512&&r!==null&&la(r,r.return);break;case 5:if(_r(t,e),zr(e),n&512&&r!==null&&la(r,r.return),e.flags&32){var a=e.stateNode;try{Eo(a,"")}catch(x){nt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Bv(a,o),uu(l,i);var u=uu(l,o);for(i=0;i<c.length;i+=2){var h=c[i],m=c[i+1];h==="style"?Kv(a,m):h==="dangerouslySetInnerHTML"?Wv(a,m):h==="children"?Eo(a,m):Uh(a,h,m,u)}switch(l){case"input":ou(a,o);break;case"textarea":Vv(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ua(a,!!o.multiple,y,!1):f!==!!o.multiple&&(o.defaultValue!=null?ua(a,!!o.multiple,o.defaultValue,!0):ua(a,!!o.multiple,o.multiple?[]:"",!1))}a[Lo]=o}catch(x){nt(e,e.return,x)}}break;case 6:if(_r(t,e),zr(e),n&4){if(e.stateNode===null)throw Error(te(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){nt(e,e.return,x)}}break;case 3:if(_r(t,e),zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ao(t.containerInfo)}catch(x){nt(e,e.return,x)}break;case 4:_r(t,e),zr(e);break;case 13:_r(t,e),zr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(bf=at())),n&4&&$p(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(u=Rt)||h,_r(t,e),Rt=u):_r(t,e),zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(pe=e,h=e.child;h!==null;){for(m=pe=h;pe!==null;){switch(f=pe,y=f.child,f.tag){case 0:case 11:case 14:case 15:bo(4,f,f.return);break;case 1:la(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){nt(n,r,x)}}break;case 5:la(f,f.return);break;case 22:if(f.memoizedState!==null){zp(m);continue}}y!==null?(y.return=f,pe=y):zp(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{a=m.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qv("display",i))}catch(x){nt(e,e.return,x)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(x){nt(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:_r(t,e),zr(e),n&4&&$p(e);break;case 21:break;default:_r(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xy(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Eo(a,""),n.flags&=-33);var o=Lp(e);Uu(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Lp(e);zu(e,l,i);break;default:throw Error(te(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $C(e,t,r){pe=e,by(e)}function by(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var a=pe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Mi;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Rt;l=Mi;var u=Rt;if(Mi=i,(Rt=c)&&!u)for(pe=a;pe!==null;)i=pe,c=i.child,i.tag===22&&i.memoizedState!==null?Up(a):c!==null?(c.return=i,pe=c):Up(a);for(;o!==null;)pe=o,by(o),o=o.sibling;pe=a,Mi=l,Rt=u}Fp(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,pe=o):Fp(e)}}function Fp(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||mc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Sr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_p(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_p(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Ao(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Rt||t.flags&512&&Fu(t)}catch(f){nt(t,t.return,f)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function zp(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function Up(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mc(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var o=t.return;try{Fu(t)}catch(c){nt(t,o,c)}break;case 5:var i=t.return;try{Fu(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var FC=Math.ceil,Ol=vn.ReactCurrentDispatcher,yf=vn.ReactCurrentOwner,pr=vn.ReactCurrentBatchConfig,De=0,wt=null,lt=null,Ct=0,Zt=0,ca=Zn(0),dt=0,Vo=null,Ns=0,pc=0,wf=0,jo=null,Wt=null,bf=0,Ea=1/0,Xr=null,Dl=!1,Bu=null,Un=null,Oi=!1,Mn=null,Ll=0,_o=0,Vu=null,il=-1,ll=0;function $t(){return De&6?at():il!==-1?il:il=at()}function Bn(e){return e.mode&1?De&2&&Ct!==0?Ct&-Ct:jC.transition!==null?(ll===0&&(ll=ax()),ll):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:hx(e.type)),e):1}function Ar(e,t,r,n){if(50<_o)throw _o=0,Vu=null,Error(te(185));ri(e,r,n),(!(De&2)||e!==wt)&&(e===wt&&(!(De&2)&&(pc|=r),dt===4&&Pn(e,Ct)),Qt(e,n),r===1&&De===0&&!(t.mode&1)&&(Ea=at()+500,uc&&es()))}function Qt(e,t){var r=e.callbackNode;jN(e,t);var n=wl(e,e===wt?Ct:0);if(n===0)r!==null&&Qm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qm(r),t===1)e.tag===0?bC(Bp.bind(null,e)):Rx(Bp.bind(null,e)),vC(function(){!(De&6)&&es()}),r=null;else{switch(ox(n)){case 1:r=qh;break;case 4:r=nx;break;case 16:r=yl;break;case 536870912:r=sx;break;default:r=yl}r=Ty(r,jy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jy(e,t){if(il=-1,ll=0,De&6)throw Error(te(327));var r=e.callbackNode;if(ga()&&e.callbackNode!==r)return null;var n=wl(e,e===wt?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$l(e,n);else{t=n;var a=De;De|=2;var o=Ny();(wt!==e||Ct!==t)&&(Xr=null,Ea=at()+500,vs(e,t));do try{BC();break}catch(l){_y(e,l)}while(!0);af(),Ol.current=o,De=a,lt!==null?t=0:(wt=null,Ct=0,t=dt)}if(t!==0){if(t===2&&(a=gu(e),a!==0&&(n=a,t=Hu(e,a))),t===1)throw r=Vo,vs(e,0),Pn(e,n),Qt(e,at()),r;if(t===6)Pn(e,n);else{if(a=e.current.alternate,!(n&30)&&!zC(a)&&(t=$l(e,n),t===2&&(o=gu(e),o!==0&&(n=o,t=Hu(e,o))),t===1))throw r=Vo,vs(e,0),Pn(e,n),Qt(e,at()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(te(345));case 2:cs(e,Wt,Xr);break;case 3:if(Pn(e,n),(n&130023424)===n&&(t=bf+500-at(),10<t)){if(wl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Nu(cs.bind(null,e,Wt,Xr),t);break}cs(e,Wt,Xr);break;case 4:if(Pn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Rr(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FC(n/1960))-n,10<n){e.timeoutHandle=Nu(cs.bind(null,e,Wt,Xr),n);break}cs(e,Wt,Xr);break;case 5:cs(e,Wt,Xr);break;default:throw Error(te(329))}}}return Qt(e,at()),e.callbackNode===r?jy.bind(null,e):null}function Hu(e,t){var r=jo;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=$l(e,t),e!==2&&(t=Wt,Wt=r,t!==null&&Wu(t)),e}function Wu(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function zC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Mr(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~wf,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rr(t),n=1<<r;e[r]=-1,t&=~n}}function Bp(e){if(De&6)throw Error(te(327));ga();var t=wl(e,0);if(!(t&1))return Qt(e,at()),null;var r=$l(e,t);if(e.tag!==0&&r===2){var n=gu(e);n!==0&&(t=n,r=Hu(e,n))}if(r===1)throw r=Vo,vs(e,0),Pn(e,t),Qt(e,at()),r;if(r===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,Wt,Xr),Qt(e,at()),null}function jf(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Ea=at()+500,uc&&es())}}function Cs(e){Mn!==null&&Mn.tag===0&&!(De&6)&&ga();var t=De;De|=1;var r=pr.transition,n=Ue;try{if(pr.transition=null,Ue=1,e)return e()}finally{Ue=n,pr.transition=r,De=t,!(De&6)&&es()}}function _f(){Zt=ca.current,Je(ca)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gC(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(rf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cl();break;case 3:Sa(),Je(Gt),Je(Mt),hf();break;case 5:uf(n);break;case 4:Sa();break;case 13:Je(Ze);break;case 19:Je(Ze);break;case 10:of(n.type._context);break;case 22:case 23:_f()}r=r.return}if(wt=e,lt=e=Vn(e.current,null),Ct=Zt=t,dt=0,Vo=null,wf=pc=Ns=0,Wt=jo=null,fs!==null){for(t=0;t<fs.length;t++)if(r=fs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}fs=null}return e}function _y(e,t){do{var r=lt;try{if(af(),sl.current=Ml,Il){for(var n=et.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Il=!1}if(_s=0,gt=ct=et=null,wo=!1,zo=0,yf.current=null,r===null||r.return===null){dt=1,Vo=t,lt=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Tp(i);if(y!==null){y.flags&=-257,Pp(y,i,l,o,t),y.mode&1&&Ep(o,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Ep(o,u,t),Nf();break e}c=Error(te(426))}}else if(Xe&&l.mode&1){var b=Tp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Pp(b,i,l,o,t),nf(ka(c,l));break e}}o=c=ka(c,l),dt!==4&&(dt=2),jo===null?jo=[o]:jo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=oy(o,c,t);jp(o,v);break e;case 1:l=c;var g=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Un===null||!Un.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=iy(o,l,t);jp(o,j);break e}}o=o.return}while(o!==null)}Sy(r)}catch(C){t=C,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Ny(){var e=Ol.current;return Ol.current=Ml,e===null?Ml:e}function Nf(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(Ns&268435455)&&!(pc&268435455)||Pn(wt,Ct)}function $l(e,t){var r=De;De|=2;var n=Ny();(wt!==e||Ct!==t)&&(Xr=null,vs(e,t));do try{UC();break}catch(a){_y(e,a)}while(!0);if(af(),De=r,Ol.current=n,lt!==null)throw Error(te(261));return wt=null,Ct=0,dt}function UC(){for(;lt!==null;)Cy(lt)}function BC(){for(;lt!==null&&!fN();)Cy(lt)}function Cy(e){var t=Ey(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Sy(e):lt=t,yf.current=null}function Sy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OC(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,lt=null;return}}else if(r=MC(r,t,Zt),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);dt===0&&(dt=5)}function cs(e,t,r){var n=Ue,a=pr.transition;try{pr.transition=null,Ue=1,VC(e,t,r,n)}finally{pr.transition=a,Ue=n}return null}function VC(e,t,r,n){do ga();while(Mn!==null);if(De&6)throw Error(te(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(_N(e,o),e===wt&&(lt=wt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Oi||(Oi=!0,Ty(yl,function(){return ga(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=pr.transition,pr.transition=null;var i=Ue;Ue=1;var l=De;De|=4,yf.current=null,LC(e,r),wy(r,e),cC(ju),bl=!!bu,ju=bu=null,e.current=r,$C(r),mN(),De=l,Ue=i,pr.transition=o}else e.current=r;if(Oi&&(Oi=!1,Mn=e,Ll=a),o=e.pendingLanes,o===0&&(Un=null),vN(r.stateNode),Qt(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Dl)throw Dl=!1,e=Bu,Bu=null,e;return Ll&1&&e.tag!==0&&ga(),o=e.pendingLanes,o&1?e===Vu?_o++:(_o=0,Vu=e):_o=0,es(),null}function ga(){if(Mn!==null){var e=ox(Ll),t=pr.transition,r=Ue;try{if(pr.transition=null,Ue=16>e?16:e,Mn===null)var n=!1;else{if(e=Mn,Mn=null,Ll=0,De&6)throw Error(te(331));var a=De;for(De|=4,pe=e.current;pe!==null;){var o=pe,i=o.child;if(pe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var h=pe;switch(h.tag){case 0:case 11:case 15:bo(8,h,o)}var m=h.child;if(m!==null)m.return=h,pe=m;else for(;pe!==null;){h=pe;var f=h.sibling,y=h.return;if(vy(h),h===u){pe=null;break}if(f!==null){f.return=y,pe=f;break}pe=y}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}pe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,pe=i;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bo(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,pe=v;break e}pe=o.return}}var g=e.current;for(pe=g;pe!==null;){i=pe;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,pe=p;else e:for(i=g;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mc(9,l)}}catch(C){nt(l,l.return,C)}if(l===i){pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,pe=j;break e}pe=l.return}}if(De=a,es(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(oc,e)}catch{}n=!0}return n}finally{Ue=r,pr.transition=t}}return!1}function Vp(e,t,r){t=ka(r,t),t=oy(e,t,1),e=zn(e,t,1),t=$t(),e!==null&&(ri(e,1,t),Qt(e,t))}function nt(e,t,r){if(e.tag===3)Vp(e,e,r);else for(;t!==null;){if(t.tag===3){Vp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Un===null||!Un.has(n))){e=ka(r,e),e=iy(t,e,1),t=zn(t,e,1),e=$t(),t!==null&&(ri(t,1,e),Qt(t,e));break}}t=t.return}}function HC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,wt===e&&(Ct&r)===r&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>at()-bf?vs(e,0):wf|=r),Qt(e,t)}function ky(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var r=$t();e=un(e,t),e!==null&&(ri(e,t,r),Qt(e,r))}function WC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ky(e,r)}function qC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(t),ky(e,r)}var Ey;Ey=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Kt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kt=!1,IC(e,t,r);Kt=!!(e.flags&131072)}else Kt=!1,Xe&&t.flags&1048576&&Ax(t,El,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ol(e,t),e=t.pendingProps;var a=_a(t,Mt.current);pa(t,r),a=mf(null,t,n,e,a,r);var o=pf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(n)?(o=!0,Sl(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cf(t),a.updater=fc,t.stateNode=a,a._reactInternals=t,Ru(t,n,e,r),t=Mu(null,t,n,!0,o,r)):(t.tag=0,Xe&&o&&tf(t),Dt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ol(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=GC(n),e=Sr(n,e),a){case 0:t=Iu(null,t,n,e,r);break e;case 1:t=Ip(null,t,n,e,r);break e;case 11:t=Rp(null,t,n,e,r);break e;case 14:t=Ap(null,t,n,Sr(n.type,e),r);break e}throw Error(te(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),Iu(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),Ip(e,t,n,a,r);case 3:e:{if(uy(t),e===null)throw Error(te(387));n=t.pendingProps,o=t.memoizedState,a=o.element,$x(e,t),Rl(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ka(Error(te(423)),t),t=Mp(e,t,n,r,a);break e}else if(n!==a){a=ka(Error(te(424)),t),t=Mp(e,t,n,r,a);break e}else for(nr=Fn(t.stateNode.containerInfo.firstChild),sr=t,Xe=!0,Pr=null,r=Dx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Na(),n===a){t=hn(e,t,r);break e}Dt(e,t,n,r)}t=t.child}return t;case 5:return Fx(t),e===null&&Eu(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,_u(n,a)?i=null:o!==null&&_u(n,o)&&(t.flags|=32),dy(e,t),Dt(e,t,i,r),t.child;case 6:return e===null&&Eu(t),null;case 13:return hy(e,t,r);case 4:return df(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ca(t,null,n,r):Dt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),Rp(e,t,n,a,r);case 7:return Dt(e,t,t.pendingProps,r),t.child;case 8:return Dt(e,t,t.pendingProps.children,r),t.child;case 12:return Dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ke(Tl,n._currentValue),n._currentValue=i,o!==null)if(Mr(o.value,i)){if(o.children===a.children&&!Gt.current){t=hn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=sn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Tu(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(te(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Tu(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Dt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,pa(t,r),a=wr(a),n=n(a),t.flags|=1,Dt(e,t,n,r),t.child;case 14:return n=t.type,a=Sr(n,t.pendingProps),a=Sr(n.type,a),Ap(e,t,n,a,r);case 15:return ly(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),ol(e,t),t.tag=1,Yt(n)?(e=!0,Sl(t)):e=!1,pa(t,r),ay(t,n,a),Ru(t,n,a,r),Mu(null,t,n,!0,e,r);case 19:return fy(e,t,r);case 22:return cy(e,t,r)}throw Error(te(156,t.tag))};function Ty(e,t){return rx(e,t)}function KC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new KC(e,t,r,n)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GC(e){if(typeof e=="function")return Cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vh)return 11;if(e===Hh)return 14}return 2}function Vn(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cl(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Cf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Zs:return xs(r.children,a,o,t);case Bh:i=8,a|=8;break;case tu:return e=hr(12,r,t,a|2),e.elementType=tu,e.lanes=o,e;case ru:return e=hr(13,r,t,a),e.elementType=ru,e.lanes=o,e;case nu:return e=hr(19,r,t,a),e.elementType=nu,e.lanes=o,e;case Fv:return gc(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lv:i=10;break e;case $v:i=9;break e;case Vh:i=11;break e;case Hh:i=14;break e;case Sn:i=16,n=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=hr(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function xs(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function gc(e,t,r,n){return e=hr(22,e,n,t),e.elementType=Fv,e.lanes=r,e.stateNode={isHidden:!1},e}function Ed(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function Td(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YC(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Sf(e,t,r,n,a,o,i,l,c){return e=new YC(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=hr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cf(o),e}function QC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Py(e){if(!e)return qn;e=e._reactInternals;e:{if(Ps(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var r=e.type;if(Yt(r))return Px(e,r,t)}return t}function Ry(e,t,r,n,a,o,i,l,c){return e=Sf(r,n,!0,e,a,o,i,l,c),e.context=Py(null),r=e.current,n=$t(),a=Bn(r),o=sn(n,a),o.callback=t??null,zn(r,o,a),e.current.lanes=a,ri(e,a,n),Qt(e,n),e}function vc(e,t,r,n){var a=t.current,o=$t(),i=Bn(a);return r=Py(r),t.context===null?t.context=r:t.pendingContext=r,t=sn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zn(a,t,i),e!==null&&(Ar(e,a,i,o),nl(e,a,i)),i}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kf(e,t){Hp(e,t),(e=e.alternate)&&Hp(e,t)}function JC(){return null}var Ay=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ef(e){this._internalRoot=e}xc.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));vc(e,t,null,null)};xc.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){vc(null,e,null,null)}),t[dn]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=cx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tn.length&&t!==0&&t<Tn[r].priority;r++);Tn.splice(r,0,e),r===0&&ux(e)}};function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function XC(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=Fl(i);o.call(u)}}var i=Ry(t,n,e,0,null,!1,!1,"",Wp);return e._reactRootContainer=i,e[dn]=i.current,Oo(e.nodeType===8?e.parentNode:e),Cs(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Fl(c);l.call(u)}}var c=Sf(e,0,!1,null,null,!1,!1,"",Wp);return e._reactRootContainer=c,e[dn]=c.current,Oo(e.nodeType===8?e.parentNode:e),Cs(function(){vc(t,c,r,n)}),c}function wc(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Fl(i);l.call(c)}}vc(t,i,e,a)}else i=XC(r,t,e,a,n);return Fl(i)}ix=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lo(t.pendingLanes);r!==0&&(Kh(t,r|1),Qt(t,at()),!(De&6)&&(Ea=at()+500,es()))}break;case 13:Cs(function(){var n=un(e,1);if(n!==null){var a=$t();Ar(n,e,1,a)}}),kf(e,1)}};Gh=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var r=$t();Ar(t,e,134217728,r)}kf(e,134217728)}};lx=function(e){if(e.tag===13){var t=Bn(e),r=un(e,t);if(r!==null){var n=$t();Ar(r,e,t,n)}kf(e,t)}};cx=function(){return Ue};dx=function(e,t){var r=Ue;try{return Ue=e,t()}finally{Ue=r}};fu=function(e,t,r){switch(t){case"input":if(ou(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=dc(n);if(!a)throw Error(te(90));Uv(n),ou(n,a)}}}break;case"textarea":Vv(e,r);break;case"select":t=r.value,t!=null&&ua(e,!!r.multiple,t,!1)}};Qv=jf;Jv=Cs;var ZC={usingClientEntryPoint:!1,Events:[si,na,dc,Gv,Yv,jf]},to={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eS={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ex(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||JC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{oc=Di.inject(eS),qr=Di}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZC;ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(t))throw Error(te(200));return QC(e,t,null,r)};ir.createRoot=function(e,t){if(!Tf(e))throw Error(te(299));var r=!1,n="",a=Ay;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Sf(e,1,!1,null,null,r,!1,n,a),e[dn]=t.current,Oo(e.nodeType===8?e.parentNode:e),new Ef(t)};ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=ex(t),e=e===null?null:e.stateNode,e};ir.flushSync=function(e){return Cs(e)};ir.hydrate=function(e,t,r){if(!yc(t))throw Error(te(200));return wc(null,e,t,!0,r)};ir.hydrateRoot=function(e,t,r){if(!Tf(e))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=Ay;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ry(t,null,e,1,r??null,a,!1,o,i),e[dn]=t.current,Oo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new xc(t)};ir.render=function(e,t,r){if(!yc(t))throw Error(te(200));return wc(null,e,t,!1,r)};ir.unmountComponentAtNode=function(e){if(!yc(e))throw Error(te(40));return e._reactRootContainer?(Cs(function(){wc(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};ir.unstable_batchedUpdates=jf;ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yc(r))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return wc(e,t,r,!1,n)};ir.version="18.3.1-next-f1338f8080-20240426";function Iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iy)}catch(e){console.error(e)}}Iy(),Iv.exports=ir;var Rs=Iv.exports;const My=wv(Rs);var Oy,qp=Rs;Oy=qp.createRoot,qp.hydrateRoot;const tS=1,rS=1e6;let Pd=0;function nS(){return Pd=(Pd+1)%Number.MAX_SAFE_INTEGER,Pd.toString()}const Rd=new Map,Kp=e=>{if(Rd.has(e))return;const t=setTimeout(()=>{Rd.delete(e),No({type:"REMOVE_TOAST",toastId:e})},rS);Rd.set(e,t)},sS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,tS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Kp(r):e.toasts.forEach(n=>{Kp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},dl=[];let ul={toasts:[]};function No(e){ul=sS(ul,e),dl.forEach(t=>{t(ul)})}function aS({...e}){const t=nS(),r=a=>No({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>No({type:"DISMISS_TOAST",toastId:t});return No({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function oi(){const[e,t]=d.useState(ul);return d.useEffect(()=>(dl.push(t),()=>{const r=dl.indexOf(t);r>-1&&dl.splice(r,1)}),[e]),{...e,toast:aS,dismiss:r=>No({type:"DISMISS_TOAST",toastId:r})}}function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function oS(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bc(...e){return t=>e.forEach(r=>oS(r,t))}function Re(...e){return d.useCallback(bc(...e),e)}function iS(e,t=[]){let r=[];function n(o,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:y,...w}=m,x=f?.[e][c]||l,b=d.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:b,children:y})}function h(m,f){const y=f?.[e][c]||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,lS(a,...t)]}function lS(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var fn=d.forwardRef((e,t)=>{const{children:r,...n}=e,a=d.Children.toArray(r),o=a.find(cS);if(o){const i=o.props.children,l=a.map(c=>c===o?d.Children.count(i)>1?d.Children.only(null):d.isValidElement(i)?i.props.children:null:c);return s.jsx(qu,{...n,ref:t,children:d.isValidElement(i)?d.cloneElement(i,void 0,l):null})}return s.jsx(qu,{...n,ref:t,children:r})});fn.displayName="Slot";var qu=d.forwardRef((e,t)=>{const{children:r,...n}=e;if(d.isValidElement(r)){const a=uS(r);return d.cloneElement(r,{...dS(n,r.props),ref:t?bc(t,a):a})}return d.Children.count(r)>1?d.Children.only(null):null});qu.displayName="SlotClone";var Pf=({children:e})=>s.jsx(s.Fragment,{children:e});function cS(e){return d.isValidElement(e)&&e.type===Pf}function dS(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{o(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function uS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jc(e){const t=e+"CollectionProvider",[r,n]=iS(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:w,children:x}=y,b=oe.useRef(null),v=oe.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:v,collectionRef:b,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=oe.forwardRef((y,w)=>{const{scope:x,children:b}=y,v=o(l,x),g=Re(w,v.collectionRef);return s.jsx(fn,{ref:g,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=oe.forwardRef((y,w)=>{const{scope:x,children:b,...v}=y,g=oe.useRef(null),p=Re(w,g),j=o(u,x);return oe.useEffect(()=>(j.itemMap.set(g,{ref:g,...v}),()=>void j.itemMap.delete(g))),s.jsx(fn,{[h]:"",ref:p,children:b})});m.displayName=u;function f(y){const w=o(e+"CollectionConsumer",y);return oe.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((j,C)=>v.indexOf(j.ref.current)-v.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},f,n]}function hS(e,t){const r=d.createContext(t),n=o=>{const{children:i,...l}=o,c=d.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(o){const i=d.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function jr(e,t=[]){let r=[];function n(o,i){const l=d.createContext(i),c=r.length;r=[...r,i];const u=m=>{const{scope:f,children:y,...w}=m,x=f?.[e]?.[c]||l,b=d.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:b,children:y})};u.displayName=o+"Provider";function h(m,f){const y=f?.[e]?.[c]||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,fS(a,...t)]}function fS(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var mS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=mS.reduce((e,t)=>{const r=d.forwardRef((n,a)=>{const{asChild:o,...i}=n,l=o?fn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Rf(e,t){e&&Rs.flushSync(()=>e.dispatchEvent(t))}function Ot(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>t.current?.(...r),[])}function pS(e,t=globalThis?.document){const r=Ot(e);d.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var gS="DismissableLayer",Ku="dismissableLayer.update",vS="dismissableLayer.pointerDownOutside",xS="dismissableLayer.focusOutside",Gp,Dy=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),As=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(Dy),[h,m]=d.useState(null),f=h?.ownerDocument??globalThis?.document,[,y]=d.useState({}),w=Re(t,k=>m(k)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(b),g=h?x.indexOf(h):-1,p=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=v,C=wS(k=>{const S=k.target,A=[...u.branches].some(T=>T.contains(S));!j||A||(a?.(k),i?.(k),k.defaultPrevented||l?.())},f),_=bS(k=>{const S=k.target;[...u.branches].some(T=>T.contains(S))||(o?.(k),i?.(k),k.defaultPrevented||l?.())},f);return pS(k=>{g===u.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),d.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Yp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Gp)}},[h,f,r,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Yp())},[h,u]),d.useEffect(()=>{const k=()=>y({});return document.addEventListener(Ku,k),()=>document.removeEventListener(Ku,k)},[]),s.jsx(we.div,{...c,ref:w,style:{pointerEvents:p?j?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,C.onPointerDownCapture)})});As.displayName=gS;var yS="DismissableLayerBranch",Ly=d.forwardRef((e,t)=>{const r=d.useContext(Dy),n=d.useRef(null),a=Re(t,n);return d.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(we.div,{...e,ref:a})});Ly.displayName=yS;function wS(e,t=globalThis?.document){const r=Ot(e),n=d.useRef(!1),a=d.useRef(()=>{});return d.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){$y(vS,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bS(e,t=globalThis?.document){const r=Ot(e),n=d.useRef(!1);return d.useEffect(()=>{const a=o=>{o.target&&!n.current&&$y(xS,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yp(){const e=new CustomEvent(Ku);document.dispatchEvent(e)}function $y(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Rf(a,o):a.dispatchEvent(o)}var jS=As,_S=Ly,kt=globalThis?.document?d.useLayoutEffect:()=>{},NS="Portal",La=d.forwardRef((e,t)=>{const{container:r,...n}=e,[a,o]=d.useState(!1);kt(()=>o(!0),[]);const i=r||a&&globalThis?.document?.body;return i?My.createPortal(s.jsx(we.div,{...n,ref:t}),i):null});La.displayName=NS;function CS(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var Ut=e=>{const{present:t,children:r}=e,n=SS(t),a=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),o=Re(n.ref,kS(a));return typeof r=="function"||n.isPresent?d.cloneElement(a,{ref:o}):null};Ut.displayName="Presence";function SS(e){const[t,r]=d.useState(),n=d.useRef({}),a=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=CS(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Li(n.current);o.current=l==="mounted"?u:"none"},[l]),kt(()=>{const u=n.current,h=a.current;if(h!==e){const f=o.current,y=Li(u);e?c("MOUNT"):y==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&f!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),kt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=y=>{const x=Li(n.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=y=>{y.target===t&&(o.current=Li(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Li(e){return e?.animationName||"none"}function kS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Or({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=ES({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=Ot(r),c=d.useCallback(u=>{if(o){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else a(u)},[o,e,a,l]);return[i,c]}function ES({defaultProp:e,onChange:t}){const r=d.useState(e),[n]=r,a=d.useRef(n),o=Ot(t);return d.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}var TS="VisuallyHidden",ii=d.forwardRef((e,t)=>s.jsx(we.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ii.displayName=TS;var PS=ii,Af="ToastProvider",[If,RS,AS]=jc("Toast"),[Fy,S3]=jr("Toast",[AS]),[IS,_c]=Fy(Af),zy=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=d.useState(null),[u,h]=d.useState(0),m=d.useRef(!1),f=d.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Af}\`. Expected non-empty \`string\`.`),s.jsx(If.Provider,{scope:t,children:s.jsx(IS,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>h(y=>y+1),[]),onToastRemove:d.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:i})})};zy.displayName=Af;var Uy="ToastViewport",MS=["F8"],Gu="toast.viewportPause",Yu="toast.viewportResume",By=d.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=MS,label:a="Notifications ({hotkey})",...o}=e,i=_c(Uy,r),l=RS(r),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),m=d.useRef(null),f=Re(t,m,i.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;d.useEffect(()=>{const b=v=>{n.length!==0&&n.every(p=>v[p]||v.code===p)&&m.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),d.useEffect(()=>{const b=c.current,v=m.current;if(w&&b&&v){const g=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(Gu);v.dispatchEvent(_),i.isClosePausedRef.current=!0}},p=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(Yu);v.dispatchEvent(_),i.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&p()},C=()=>{b.contains(document.activeElement)||p()};return b.addEventListener("focusin",g),b.addEventListener("focusout",j),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",C),window.addEventListener("blur",g),window.addEventListener("focus",p),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",g),window.removeEventListener("focus",p)}}},[w,i.isClosePausedRef]);const x=d.useCallback(({tabbingDirection:b})=>{const g=l().map(p=>{const j=p.ref.current,C=[j,...KS(j)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return d.useEffect(()=>{const b=m.current;if(b){const v=g=>{const p=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!p){const C=document.activeElement,_=g.shiftKey;if(g.target===b&&_){u.current?.focus();return}const A=x({tabbingDirection:_?"backwards":"forwards"}),T=A.findIndex($=>$===C);Ad(A.slice(T+1))?g.preventDefault():_?u.current?.focus():h.current?.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,x]),s.jsxs(_S,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Qu,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Ad(b)}}),s.jsx(If.Slot,{scope:r,children:s.jsx(we.ol,{tabIndex:-1,...o,ref:f})}),w&&s.jsx(Qu,{ref:h,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Ad(b)}})]})});By.displayName=Uy;var Vy="ToastFocusProxy",Qu=d.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=_c(Vy,r);return s.jsx(ii,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{const l=i.relatedTarget;!o.viewport?.contains(l)&&n()}})});Qu.displayName=Vy;var Nc="Toast",OS="toast.swipeStart",DS="toast.swipeMove",LS="toast.swipeCancel",$S="toast.swipeEnd",Hy=d.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=Or({prop:n,defaultProp:a,onChange:o});return s.jsx(Ut,{present:r||l,children:s.jsx(US,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Ot(e.onPause),onResume:Ot(e.onResume),onSwipeStart:ae(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ae(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Hy.displayName=Nc;var[FS,zS]=Fy(Nc,{onClose(){}}),US=d.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:y,...w}=e,x=_c(Nc,r),[b,v]=d.useState(null),g=Re(t,L=>v(L)),p=d.useRef(null),j=d.useRef(null),C=a||x.duration,_=d.useRef(0),k=d.useRef(C),S=d.useRef(0),{onToastAdd:A,onToastRemove:T}=x,$=Ot(()=>{b?.contains(document.activeElement)&&x.viewport?.focus(),i()}),U=d.useCallback(L=>{!L||L===1/0||(window.clearTimeout(S.current),_.current=new Date().getTime(),S.current=window.setTimeout($,L))},[$]);d.useEffect(()=>{const L=x.viewport;if(L){const re=()=>{U(k.current),u?.()},W=()=>{const q=new Date().getTime()-_.current;k.current=k.current-q,window.clearTimeout(S.current),c?.()};return L.addEventListener(Gu,W),L.addEventListener(Yu,re),()=>{L.removeEventListener(Gu,W),L.removeEventListener(Yu,re)}}},[x.viewport,C,c,u,U]),d.useEffect(()=>{o&&!x.isClosePausedRef.current&&U(C)},[o,C,x.isClosePausedRef,U]),d.useEffect(()=>(A(),()=>T()),[A,T]);const Y=d.useMemo(()=>b?Jy(b):null,[b]);return x.viewport?s.jsxs(s.Fragment,{children:[Y&&s.jsx(BS,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),s.jsx(FS,{scope:r,onClose:$,children:Rs.createPortal(s.jsx(If.ItemSlot,{scope:r,children:s.jsx(jS,{asChild:!0,onEscapeKeyDown:ae(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||$(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,L=>{L.key==="Escape"&&(l?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:ae(e.onPointerDown,L=>{L.button===0&&(p.current={x:L.clientX,y:L.clientY})}),onPointerMove:ae(e.onPointerMove,L=>{if(!p.current)return;const re=L.clientX-p.current.x,W=L.clientY-p.current.y,q=!!j.current,P=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,R=P?I(0,re):0,z=P?0:I(0,W),F=L.pointerType==="touch"?10:2,X={x:R,y:z},ce={originalEvent:L,delta:X};q?(j.current=X,$i(DS,m,ce,{discrete:!1})):Qp(X,x.swipeDirection,F)?(j.current=X,$i(OS,h,ce,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(re)>F||Math.abs(W)>F)&&(p.current=null)}),onPointerUp:ae(e.onPointerUp,L=>{const re=j.current,W=L.target;if(W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),j.current=null,p.current=null,re){const q=L.currentTarget,P={originalEvent:L,delta:re};Qp(re,x.swipeDirection,x.swipeThreshold)?$i($S,y,P,{discrete:!0}):$i(LS,f,P,{discrete:!0}),q.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),BS=e=>{const{__scopeToast:t,children:r,...n}=e,a=_c(Nc,t),[o,i]=d.useState(!1),[l,c]=d.useState(!1);return WS(()=>i(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(La,{asChild:!0,children:s.jsx(ii,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},VS="ToastTitle",Wy=d.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(we.div,{...n,ref:t})});Wy.displayName=VS;var HS="ToastDescription",qy=d.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(we.div,{...n,ref:t})});qy.displayName=HS;var Ky="ToastAction",Gy=d.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Qy,{altText:r,asChild:!0,children:s.jsx(Mf,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ky}\`. Expected non-empty \`string\`.`),null)});Gy.displayName=Ky;var Yy="ToastClose",Mf=d.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=zS(Yy,r);return s.jsx(Qy,{asChild:!0,children:s.jsx(we.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,a.onClose)})})});Mf.displayName=Yy;var Qy=d.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Jy(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qS(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Jy(n))}}),t}function $i(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Rf(a,o):a.dispatchEvent(o)}var Qp=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function WS(e=()=>{}){const t=Ot(e);kt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qS(e){return e.nodeType===e.ELEMENT_NODE}function KS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ad(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var GS=zy,Xy=By,Zy=Hy,e0=Wy,t0=qy,r0=Gy,n0=Mf;function s0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=s0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function a0(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=s0(e))&&(n&&(n+=" "),n+=t);return n}const Jp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xp=a0,li=(e,t)=>r=>{var n;if(t?.variants==null)return Xp(e,r?.class,r?.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const h=r?.[u],m=o?.[u];if(h===null)return null;const f=Jp(h)||Jp(m);return a[u][f]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,f]=h;return f===void 0||(u[m]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:f,...y}=h;return Object.entries(y).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...o,...l}[x]):{...o,...l}[x]===b})?[...u,m,f]:u},[]);return Xp(e,i,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...QS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:o0("lucide",a),...l},[...i.map(([u,h])=>d.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=d.forwardRef(({className:n,...a},o)=>d.createElement(JS,{ref:o,iconNode:t,className:o0(`lucide-${YS(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=de("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=de("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=de("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=de("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=de("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=de("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=de("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=de("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=de("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=de("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=de("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=de("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=de("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=de("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=de("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=de("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=de("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=de("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=de("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lf="-",jk=e=>{const t=Nk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Lf);return l[0]===""&&l.length!==1&&l.shift(),g0(l,t)||_k(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},g0=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?g0(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Lf);return t.validators.find(({validator:i})=>i(o))?.classGroupId},lg=/^\[(.+)\]$/,_k=e=>{if(lg.test(e)){const t=lg.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Nk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Sk(Object.entries(e.classGroups),r).forEach(([o,i])=>{eh(i,n,o,t)}),n},eh=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:cg(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(Ck(a)){eh(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{eh(i,cg(t,o),r,n)})})},cg=(e,t)=>{let r=e;return t.split(Lf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ck=e=>e.isThemeGetter,Sk=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,kk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},v0="!",Ek=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,h=0,m;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===a&&(n||l.slice(b,b+o)===t)){c.push(l.slice(h,b)),h=b+o;continue}if(v==="/"){m=b;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?l:l.substring(h),y=f.startsWith(v0),w=y?f.substring(1):f,x=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},Tk=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Pk=e=>({cache:kk(e.cacheSize),parseClassName:Ek(e),...jk(e)}),Rk=/\s+/,Ak=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(Rk);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:y}=r(u);let w=!!y,x=n(w?f.substring(0,y):f);if(!x){if(!w){l=u+(l.length>0?" "+l:l);continue}if(x=n(f),!x){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=Tk(h).join(":"),v=m?b+v0:b,g=v+x;if(o.includes(g))continue;o.push(g);const p=a(x,w);for(let j=0;j<p.length;++j){const C=p[j];o.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function Ik(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=x0(t))&&(n&&(n+=" "),n+=r);return n}const x0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=x0(e[n]))&&(r&&(r+=" "),r+=t);return r};function Mk(e,...t){let r,n,a,o=i;function i(c){const u=t.reduce((h,m)=>m(h),e());return r=Pk(u),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=Ak(c,r);return a(c,h),h}return function(){return o(Ik.apply(null,arguments))}}const Ye=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ok=/^\d+\/\d+$/,Dk=new Set(["px","full","screen"]),Lk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$k=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=e=>va(e)||Dk.has(e)||Ok.test(e),bn=e=>Fa(e,"length",Yk),va=e=>!!e&&!Number.isNaN(Number(e)),Id=e=>Fa(e,"number",va),ro=e=>!!e&&Number.isInteger(Number(e)),Bk=e=>e.endsWith("%")&&va(e.slice(0,-1)),Pe=e=>y0.test(e),jn=e=>Lk.test(e),Vk=new Set(["length","size","percentage"]),Hk=e=>Fa(e,Vk,w0),Wk=e=>Fa(e,"position",w0),qk=new Set(["image","url"]),Kk=e=>Fa(e,qk,Jk),Gk=e=>Fa(e,"",Qk),no=()=>!0,Fa=(e,t,r)=>{const n=y0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Yk=e=>$k.test(e)&&!Fk.test(e),w0=()=>!1,Qk=e=>zk.test(e),Jk=e=>Uk.test(e),Xk=()=>{const e=Ye("colors"),t=Ye("spacing"),r=Ye("blur"),n=Ye("brightness"),a=Ye("borderColor"),o=Ye("borderRadius"),i=Ye("borderSpacing"),l=Ye("borderWidth"),c=Ye("contrast"),u=Ye("grayscale"),h=Ye("hueRotate"),m=Ye("invert"),f=Ye("gap"),y=Ye("gradientColorStops"),w=Ye("gradientColorStopPositions"),x=Ye("inset"),b=Ye("margin"),v=Ye("opacity"),g=Ye("padding"),p=Ye("saturate"),j=Ye("scale"),C=Ye("sepia"),_=Ye("skew"),k=Ye("space"),S=Ye("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Pe,t],U=()=>[Pe,t],Y=()=>["",Qr,bn],L=()=>["auto",va,Pe],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Pe],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[va,Pe];return{cacheSize:500,separator:":",theme:{colors:[no],spacing:[Qr,bn],blur:["none","",jn,Pe],brightness:z(),borderColor:[e],borderRadius:["none","","full",jn,Pe],borderSpacing:U(),borderWidth:Y(),contrast:z(),grayscale:I(),hueRotate:z(),invert:I(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Bk,bn],inset:$(),margin:$(),opacity:z(),padding:U(),saturate:z(),scale:z(),sepia:I(),skew:z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[jn]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Pe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ro,Pe]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",ro,Pe]}],"grid-cols":[{"grid-cols":[no]}],"col-start-end":[{col:["auto",{span:["full",ro,Pe]},Pe]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[no]}],"row-start-end":[{row:["auto",{span:[ro,Pe]},Pe]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[jn]},jn]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",jn,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Id]}],"font-family":[{font:[no]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",va,Id]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,bn]}],"underline-offset":[{"underline-offset":["auto",Qr,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),Wk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Qr,Pe]}],"outline-w":[{outline:[Qr,bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Qr,bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",jn,Gk]}],"shadow-color":[{shadow:[no]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jn,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[p]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ro,Pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qr,bn,Id]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Zk=Mk(Xk);function he(...e){return Zk(a0(e))}const e2=GS,b0=d.forwardRef(({className:e,...t},r)=>s.jsx(Xy,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));b0.displayName=Xy.displayName;const t2=li("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),j0=d.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(Zy,{ref:n,className:he(t2({variant:t}),e),...r}));j0.displayName=Zy.displayName;const r2=d.forwardRef(({className:e,...t},r)=>s.jsx(r0,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));r2.displayName=r0.displayName;const _0=d.forwardRef(({className:e,...t},r)=>s.jsx(n0,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Kn,{className:"h-4 w-4"})}));_0.displayName=n0.displayName;const N0=d.forwardRef(({className:e,...t},r)=>s.jsx(e0,{ref:r,className:he("text-sm font-semibold",e),...t}));N0.displayName=e0.displayName;const C0=d.forwardRef(({className:e,...t},r)=>s.jsx(t0,{ref:r,className:he("text-sm opacity-90",e),...t}));C0.displayName=t0.displayName;function n2(){const{toasts:e}=oi();return s.jsxs(e2,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(j0,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(N0,{children:r}),n&&s.jsx(C0,{children:n})]}),a,s.jsx(_0,{})]},t)}),s.jsx(b0,{})]})}var dg=["light","dark"],s2="(prefers-color-scheme: dark)",a2=d.createContext(void 0),o2={setTheme:e=>{},themes:[]},i2=()=>{var e;return(e=d.useContext(a2))!=null?e:o2};d.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=a?dg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,x=!1,b=!0)=>{let v=i?i[w]:w,g=x?w+"|| ''":`'${v}'`,p="";return a&&b&&!x&&dg.includes(w)&&(p+=`d.style.colorScheme = '${w}';`),r==="class"?x||v?p+=`c.add(${g})`:p+="null":v&&(p+=`d[s](n,${g})`),p},y=e?`!function(){${h}${f(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${s2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(o,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${m}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var l2=e=>{switch(e){case"success":return u2;case"info":return f2;case"warning":return h2;case"error":return m2;default:return null}},c2=Array(12).fill(0),d2=({visible:e})=>oe.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},oe.createElement("div",{className:"sonner-spinner"},c2.map((t,r)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),u2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),h2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),f2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),m2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),p2=()=>{let[e,t]=oe.useState(document.hidden);return oe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},th=1,g2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:th++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async o=>{if(x2(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||th++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Xt=new g2,v2=(e,t)=>{let r=t?.id||th++;return Xt.addToast({title:e,...t,id:r}),r},x2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",y2=v2,w2=()=>Xt.toasts,B=Object.assign(y2,{success:Xt.success,info:Xt.info,warning:Xt.warning,error:Xt.error,custom:Xt.custom,message:Xt.message,promise:Xt.promise,dismiss:Xt.dismiss,loading:Xt.loading},{getHistory:w2});function b2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}b2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ui(e){return e.label!==void 0}var j2=3,_2="32px",N2=4e3,C2=356,S2=14,k2=20,E2=200;function T2(...e){return e.filter(Boolean).join(" ")}var P2=e=>{var t,r,n,a,o,i,l,c,u,h;let{invert:m,toast:f,unstyled:y,interacting:w,setHeights:x,visibleToasts:b,heights:v,index:g,toasts:p,expanded:j,removeToast:C,defaultRichColors:_,closeButton:k,style:S,cancelButtonStyle:A,actionButtonStyle:T,className:$="",descriptionClassName:U="",duration:Y,position:L,gap:re,loadingIcon:W,expandByDefault:q,classNames:P,icons:I,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:z,cn:F}=e,[X,ce]=oe.useState(!1),[ge,J]=oe.useState(!1),[Z,E]=oe.useState(!1),[N,O]=oe.useState(!1),[Q,se]=oe.useState(0),[fe,ne]=oe.useState(0),ye=oe.useRef(null),Ne=oe.useRef(null),Fe=g===0,G=g+1<=b,ie=f.type,xe=f.dismissible!==!1,ke=f.className||"",Ge=f.descriptionClassName||"",He=oe.useMemo(()=>v.findIndex(ee=>ee.toastId===f.id)||0,[v,f.id]),We=oe.useMemo(()=>{var ee;return(ee=f.closeButton)!=null?ee:k},[f.closeButton,k]),Jt=oe.useMemo(()=>f.duration||Y||N2,[f.duration,Y]),it=oe.useRef(0),st=oe.useRef(0),ht=oe.useRef(0),ft=oe.useRef(null),[Vt,ue]=L.split("-"),Ae=oe.useMemo(()=>v.reduce((ee,le,ve)=>ve>=He?ee:ee+le.height,0),[v,He]),Le=p2(),ze=f.invert||m,M=ie==="loading";st.current=oe.useMemo(()=>He*re+Ae,[He,Ae]),oe.useEffect(()=>{ce(!0)},[]),oe.useLayoutEffect(()=>{if(!X)return;let ee=Ne.current,le=ee.style.height;ee.style.height="auto";let ve=ee.getBoundingClientRect().height;ee.style.height=le,ne(ve),x(je=>je.find($e=>$e.toastId===f.id)?je.map($e=>$e.toastId===f.id?{...$e,height:ve}:$e):[{toastId:f.id,height:ve,position:f.position},...je])},[X,f.title,f.description,x,f.id]);let V=oe.useCallback(()=>{J(!0),se(st.current),x(ee=>ee.filter(le=>le.toastId!==f.id)),setTimeout(()=>{C(f)},E2)},[f,C,x,st]);oe.useEffect(()=>{if(f.promise&&ie==="loading"||f.duration===1/0||f.type==="loading")return;let ee,le=Jt;return j||w||z&&Le?(()=>{if(ht.current<it.current){let ve=new Date().getTime()-it.current;le=le-ve}ht.current=new Date().getTime()})():le!==1/0&&(it.current=new Date().getTime(),ee=setTimeout(()=>{var ve;(ve=f.onAutoClose)==null||ve.call(f,f),V()},le)),()=>clearTimeout(ee)},[j,w,q,f,Jt,V,f.promise,ie,z,Le]),oe.useEffect(()=>{let ee=Ne.current;if(ee){let le=ee.getBoundingClientRect().height;return ne(le),x(ve=>[{toastId:f.id,height:le,position:f.position},...ve]),()=>x(ve=>ve.filter(je=>je.toastId!==f.id))}},[x,f.id]),oe.useEffect(()=>{f.delete&&V()},[V,f.delete]);function me(){return I!=null&&I.loading?oe.createElement("div",{className:"sonner-loader","data-visible":ie==="loading"},I.loading):W?oe.createElement("div",{className:"sonner-loader","data-visible":ie==="loading"},W):oe.createElement(d2,{visible:ie==="loading"})}return oe.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ne,className:F($,ke,P?.toast,(t=f?.classNames)==null?void 0:t.toast,P?.default,P?.[ie],(r=f?.classNames)==null?void 0:r[ie]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:_,"data-styled":!(f.jsx||f.unstyled||y),"data-mounted":X,"data-promise":!!f.promise,"data-removed":ge,"data-visible":G,"data-y-position":Vt,"data-x-position":ue,"data-index":g,"data-front":Fe,"data-swiping":Z,"data-dismissible":xe,"data-type":ie,"data-invert":ze,"data-swipe-out":N,"data-expanded":!!(j||q&&X),style:{"--index":g,"--toasts-before":g,"--z-index":p.length-g,"--offset":`${ge?Q:st.current}px`,"--initial-height":q?"auto":`${fe}px`,...S,...f.style},onPointerDown:ee=>{M||!xe||(ye.current=new Date,se(st.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(E(!0),ft.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,le,ve,je;if(N||!xe)return;ft.current=null;let $e=Number(((ee=Ne.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount").replace("px",""))||0),mt=new Date().getTime()-((le=ye.current)==null?void 0:le.getTime()),Fr=Math.abs($e)/mt;if(Math.abs($e)>=k2||Fr>.11){se(st.current),(ve=f.onDismiss)==null||ve.call(f,f),V(),O(!0);return}(je=Ne.current)==null||je.style.setProperty("--swipe-amount","0px"),E(!1)},onPointerMove:ee=>{var le;if(!ft.current||!xe)return;let ve=ee.clientY-ft.current.y,je=ee.clientX-ft.current.x,$e=(Vt==="top"?Math.min:Math.max)(0,ve),mt=ee.pointerType==="touch"?10:2;Math.abs($e)>mt?(le=Ne.current)==null||le.style.setProperty("--swipe-amount",`${ve}px`):Math.abs(je)>mt&&(ft.current=null)}},We&&!f.jsx?oe.createElement("button",{"aria-label":R,"data-disabled":M,"data-close-button":!0,onClick:M||!xe?()=>{}:()=>{var ee;V(),(ee=f.onDismiss)==null||ee.call(f,f)},className:F(P?.closeButton,(a=f?.classNames)==null?void 0:a.closeButton)},oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||oe.isValidElement(f.title)?f.jsx||f.title:oe.createElement(oe.Fragment,null,ie||f.icon||f.promise?oe.createElement("div",{"data-icon":"",className:F(P?.icon,(o=f?.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||me():null,f.type!=="loading"?f.icon||I?.[ie]||l2(ie):null):null,oe.createElement("div",{"data-content":"",className:F(P?.content,(i=f?.classNames)==null?void 0:i.content)},oe.createElement("div",{"data-title":"",className:F(P?.title,(l=f?.classNames)==null?void 0:l.title)},f.title),f.description?oe.createElement("div",{"data-description":"",className:F(U,Ge,P?.description,(c=f?.classNames)==null?void 0:c.description)},f.description):null),oe.isValidElement(f.cancel)?f.cancel:f.cancel&&Ui(f.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:ee=>{var le,ve;Ui(f.cancel)&&xe&&((ve=(le=f.cancel).onClick)==null||ve.call(le,ee),V())},className:F(P?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,oe.isValidElement(f.action)?f.action:f.action&&Ui(f.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:ee=>{var le,ve;Ui(f.action)&&(ee.defaultPrevented||((ve=(le=f.action).onClick)==null||ve.call(le,ee),V()))},className:F(P?.actionButton,(h=f?.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ug(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var R2=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:h,style:m,visibleToasts:f=j2,toastOptions:y,dir:w=ug(),gap:x=S2,loadingIcon:b,icons:v,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:p,cn:j=T2}=e,[C,_]=oe.useState([]),k=oe.useMemo(()=>Array.from(new Set([r].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,r]),[S,A]=oe.useState([]),[T,$]=oe.useState(!1),[U,Y]=oe.useState(!1),[L,re]=oe.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=oe.useRef(null),q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=oe.useRef(null),I=oe.useRef(!1),R=oe.useCallback(z=>{var F;(F=C.find(X=>X.id===z.id))!=null&&F.delete||Xt.dismiss(z.id),_(X=>X.filter(({id:ce})=>ce!==z.id))},[C]);return oe.useEffect(()=>Xt.subscribe(z=>{if(z.dismiss){_(F=>F.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{My.flushSync(()=>{_(F=>{let X=F.findIndex(ce=>ce.id===z.id);return X!==-1?[...F.slice(0,X),{...F[X],...z},...F.slice(X+1)]:[z,...F]})})})}),[]),oe.useEffect(()=>{if(c!=="system"){re(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{re(z?"dark":"light")})},[c]),oe.useEffect(()=>{C.length<=1&&$(!1)},[C]),oe.useEffect(()=>{let z=F=>{var X,ce;n.every(ge=>F[ge]||F.code===ge)&&($(!0),(X=W.current)==null||X.focus()),F.code==="Escape"&&(document.activeElement===W.current||(ce=W.current)!=null&&ce.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[n]),oe.useEffect(()=>{if(W.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,I.current=!1)}},[W.current]),C.length?oe.createElement("section",{"aria-label":`${g} ${q}`,tabIndex:-1},k.map((z,F)=>{var X;let[ce,ge]=z.split("-");return oe.createElement("ol",{key:z,dir:w==="auto"?ug():w,tabIndex:-1,ref:W,className:i,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":ce,"data-x-position":ge,style:{"--front-toast-height":`${((X=S[0])==null?void 0:X.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||_2,"--width":`${C2}px`,"--gap":`${x}px`,...m},onBlur:J=>{I.current&&!J.currentTarget.contains(J.relatedTarget)&&(I.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||I.current||(I.current=!0,P.current=J.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{U||$(!1)},onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},C.filter(J=>!J.position&&F===0||J.position===z).map((J,Z)=>{var E,N;return oe.createElement(P2,{key:J.id,icons:v,index:Z,toast:J,defaultRichColors:u,duration:(E=y?.duration)!=null?E:h,className:y?.className,descriptionClassName:y?.descriptionClassName,invert:t,visibleToasts:f,closeButton:(N=y?.closeButton)!=null?N:o,interacting:U,position:z,style:y?.style,unstyled:y?.unstyled,classNames:y?.classNames,cancelButtonStyle:y?.cancelButtonStyle,actionButtonStyle:y?.actionButtonStyle,removeToast:R,toasts:C.filter(O=>O.position==J.position),heights:S.filter(O=>O.position==J.position),setHeights:A,expandByDefault:a,gap:x,loadingIcon:b,expanded:T,pauseWhenPageIsHidden:p,cn:j})}))})):null};const A2=({...e})=>{const{theme:t="system"}=i2();return s.jsx(R2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var I2=Rv.useId||(()=>{}),M2=0;function gr(e){const[t,r]=d.useState(I2());return kt(()=>{e||r(n=>n??String(M2++))},[e]),e||(t?`radix-${t}`:"")}const O2=["top","right","bottom","left"],Gn=Math.min,er=Math.max,Hl=Math.round,Bi=Math.floor,Yn=e=>({x:e,y:e}),D2={left:"right",right:"left",bottom:"top",top:"bottom"},L2={start:"end",end:"start"};function rh(e,t,r){return er(e,Gn(t,r))}function pn(e,t){return typeof e=="function"?e(t):e}function gn(e){return e.split("-")[0]}function za(e){return e.split("-")[1]}function $f(e){return e==="x"?"y":"x"}function Ff(e){return e==="y"?"height":"width"}function Qn(e){return["top","bottom"].includes(gn(e))?"y":"x"}function zf(e){return $f(Qn(e))}function $2(e,t,r){r===void 0&&(r=!1);const n=za(e),a=zf(e),o=Ff(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Wl(i)),[i,Wl(i)]}function F2(e){const t=Wl(e);return[nh(e),t,nh(t)]}function nh(e){return e.replace(/start|end/g,t=>L2[t])}function z2(e,t,r){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function U2(e,t,r,n){const a=za(e);let o=z2(gn(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(nh)))),o}function Wl(e){return e.replace(/left|right|bottom|top/g,t=>D2[t])}function B2(e){return{top:0,right:0,bottom:0,left:0,...e}}function S0(e){return typeof e!="number"?B2(e):{top:e,right:e,bottom:e,left:e}}function ql(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function hg(e,t,r){let{reference:n,floating:a}=e;const o=Qn(t),i=zf(t),l=Ff(i),c=gn(t),u=o==="y",h=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-a.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-a.width,y:m};break;default:y={x:n.x,y:n.y}}switch(za(t)){case"start":y[i]-=f*(r&&u?-1:1);break;case"end":y[i]+=f*(r&&u?-1:1);break}return y}const V2=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:m}=hg(u,n,c),f=n,y={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:v}=l[x],{x:g,y:p,data:j,reset:C}=await v({x:h,y:m,initialPlacement:n,placement:f,strategy:a,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});h=g??h,m=p??m,y={...y,[b]:{...y[b],...j}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:h,y:m}=hg(u,f,c)),x=-1)}return{x:h,y:m,placement:f,strategy:a,middlewareData:y}};async function Wo(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:f=!1,padding:y=0}=pn(t,e),w=S0(y),b=l[f?m==="floating"?"reference":"floating":m],v=ql(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),g=m==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,p=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(p))?await(o.getScale==null?void 0:o.getScale(p))||{x:1,y:1}:{x:1,y:1},C=ql(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:p,strategy:c}):g);return{top:(v.top-C.top+w.top)/j.y,bottom:(C.bottom-v.bottom+w.bottom)/j.y,left:(v.left-C.left+w.left)/j.x,right:(C.right-v.right+w.right)/j.x}}const H2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=pn(e,t)||{};if(u==null)return{};const m=S0(h),f={x:r,y:n},y=zf(a),w=Ff(y),x=await i.getDimensions(u),b=y==="y",v=b?"top":"left",g=b?"bottom":"right",p=b?"clientHeight":"clientWidth",j=o.reference[w]+o.reference[y]-f[y]-o.floating[w],C=f[y]-o.reference[y],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=_?_[p]:0;(!k||!await(i.isElement==null?void 0:i.isElement(_)))&&(k=l.floating[p]||o.floating[w]);const S=j/2-C/2,A=k/2-x[w]/2-1,T=Gn(m[v],A),$=Gn(m[g],A),U=T,Y=k-x[w]-$,L=k/2-x[w]/2+S,re=rh(U,L,Y),W=!c.arrow&&za(a)!=null&&L!==re&&o.reference[w]/2-(L<U?T:$)-x[w]/2<0,q=W?L<U?L-U:L-Y:0;return{[y]:f[y]+q,data:{[y]:re,centerOffset:L-re-q,...W&&{alignmentOffset:q}},reset:W}}}),W2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=pn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=gn(a),g=Qn(l),p=gn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=f||(p||!x?[Wl(l)]:F2(l)),_=w!=="none";!f&&_&&C.push(...U2(l,x,w,j));const k=[l,...C],S=await Wo(t,b),A=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&A.push(S[v]),m){const L=$2(a,i,j);A.push(S[L[0]],S[L[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every(L=>L<=0)){var $,U;const L=((($=o.flip)==null?void 0:$.index)||0)+1,re=k[L];if(re)return{data:{index:L,overflows:T},reset:{placement:re}};let W=(U=T.filter(q=>q.overflows[0]<=0).sort((q,P)=>q.overflows[1]-P.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(y){case"bestFit":{var Y;const q=(Y=T.filter(P=>{if(_){const I=Qn(P.placement);return I===g||I==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(I=>I>0).reduce((I,R)=>I+R,0)]).sort((P,I)=>P[1]-I[1])[0])==null?void 0:Y[0];q&&(W=q);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function fg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mg(e){return O2.some(t=>e[t]>=0)}const q2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=pn(e,t);switch(n){case"referenceHidden":{const o=await Wo(t,{...a,elementContext:"reference"}),i=fg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:mg(i)}}}case"escaped":{const o=await Wo(t,{...a,altBoundary:!0}),i=fg(o,r.floating);return{data:{escapedOffsets:i,escaped:mg(i)}}}default:return{}}}}};async function K2(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=gn(r),l=za(r),c=Qn(r)==="y",u=["left","top"].includes(i)?-1:1,h=o&&c?-1:1,m=pn(t,e);let{mainAxis:f,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:f*u}:{x:f*u,y:y*h}}const G2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await K2(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},Y2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:g}=b;return{x:v,y:g}}},...c}=pn(e,t),u={x:r,y:n},h=await Wo(t,c),m=Qn(gn(a)),f=$f(m);let y=u[f],w=u[m];if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=y+h[b],p=y-h[v];y=rh(g,y,p)}if(i){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",g=w+h[b],p=w-h[v];w=rh(g,w,p)}const x=l.fn({...t,[f]:y,[m]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[f]:o,[m]:i}}}}}},Q2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pn(e,t),h={x:r,y:n},m=Qn(a),f=$f(m);let y=h[f],w=h[m];const x=pn(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const p=f==="y"?"height":"width",j=o.reference[f]-o.floating[p]+b.mainAxis,C=o.reference[f]+o.reference[p]-b.mainAxis;y<j?y=j:y>C&&(y=C)}if(u){var v,g;const p=f==="y"?"width":"height",j=["top","left"].includes(gn(a)),C=o.reference[m]-o.floating[p]+(j&&((v=i.offset)==null?void 0:v[m])||0)+(j?0:b.crossAxis),_=o.reference[m]+o.reference[p]+(j?0:((g=i.offset)==null?void 0:g[m])||0)-(j?b.crossAxis:0);w<C?w=C:w>_&&(w=_)}return{[f]:y,[m]:w}}}},J2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=pn(e,t),h=await Wo(t,u),m=gn(a),f=za(a),y=Qn(a)==="y",{width:w,height:x}=o.floating;let b,v;m==="top"||m==="bottom"?(b=m,v=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,b=f==="end"?"top":"bottom");const g=x-h.top-h.bottom,p=w-h.left-h.right,j=Gn(x-h[b],g),C=Gn(w-h[v],p),_=!t.middlewareData.shift;let k=j,S=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=p),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=g),_&&!f){const T=er(h.left,0),$=er(h.right,0),U=er(h.top,0),Y=er(h.bottom,0);y?S=w-2*(T!==0||$!==0?T+$:er(h.left,h.right)):k=x-2*(U!==0||Y!==0?U+Y:er(h.top,h.bottom))}await c({...t,availableWidth:S,availableHeight:k});const A=await i.getDimensions(l.floating);return w!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Cc(){return typeof window<"u"}function Ua(e){return k0(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yr(e){var t;return(t=(k0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function k0(e){return Cc()?e instanceof Node||e instanceof ar(e).Node:!1}function Dr(e){return Cc()?e instanceof Element||e instanceof ar(e).Element:!1}function Gr(e){return Cc()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function pg(e){return!Cc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}function ci(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function X2(e){return["table","td","th"].includes(Ua(e))}function Sc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uf(e){const t=Bf(),r=Dr(e)?Lr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Z2(e){let t=Jn(e);for(;Gr(t)&&!Pa(t);){if(Uf(t))return t;if(Sc(t))return null;t=Jn(t)}return null}function Bf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pa(e){return["html","body","#document"].includes(Ua(e))}function Lr(e){return ar(e).getComputedStyle(e)}function kc(e){return Dr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jn(e){if(Ua(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pg(e)&&e.host||Yr(e);return pg(t)?t.host:t}function E0(e){const t=Jn(e);return Pa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gr(t)&&ci(t)?t:E0(t)}function qo(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=E0(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=ar(a);if(o){const l=sh(i);return t.concat(i,i.visualViewport||[],ci(a)?a:[],l&&r?qo(l):[])}return t.concat(a,qo(a,[],r))}function sh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T0(e){const t=Lr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Gr(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=Hl(r)!==o||Hl(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Vf(e){return Dr(e)?e:e.contextElement}function xa(e){const t=Vf(e);if(!Gr(t))return Yn(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=T0(t);let i=(o?Hl(r.width):r.width)/n,l=(o?Hl(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const eE=Yn(0);function P0(e){const t=ar(e);return!Bf()||!t.visualViewport?eE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tE(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ar(e)?!1:t}function Ss(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=Vf(e);let i=Yn(1);t&&(n?Dr(n)&&(i=xa(n)):i=xa(e));const l=tE(o,r,n)?P0(o):Yn(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,h=a.width/i.x,m=a.height/i.y;if(o){const f=ar(o),y=n&&Dr(n)?ar(n):n;let w=f,x=sh(w);for(;x&&n&&y!==w;){const b=xa(x),v=x.getBoundingClientRect(),g=Lr(x),p=v.left+(x.clientLeft+parseFloat(g.paddingLeft))*b.x,j=v.top+(x.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,m*=b.y,c+=p,u+=j,w=ar(x),x=sh(w)}}return ql({width:h,height:m,x:c,y:u})}function rE(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=Yr(n),l=t?Sc(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Yn(1);const h=Yn(0),m=Gr(n);if((m||!m&&!o)&&((Ua(n)!=="body"||ci(i))&&(c=kc(n)),Gr(n))){const f=Ss(n);u=xa(n),h.x=f.x+n.clientLeft,h.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x,y:r.y*u.y-c.scrollTop*u.y+h.y}}function nE(e){return Array.from(e.getClientRects())}function ah(e,t){const r=kc(e).scrollLeft;return t?t.left+r:Ss(Yr(e)).left+r}function sE(e){const t=Yr(e),r=kc(e),n=e.ownerDocument.body,a=er(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=er(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+ah(e);const l=-r.scrollTop;return Lr(n).direction==="rtl"&&(i+=er(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function aE(e,t){const r=ar(e),n=Yr(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=Bf();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function oE(e,t){const r=Ss(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Gr(e)?xa(e):Yn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function gg(e,t,r){let n;if(t==="viewport")n=aE(e,r);else if(t==="document")n=sE(Yr(e));else if(Dr(t))n=oE(t,r);else{const a=P0(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return ql(n)}function R0(e,t){const r=Jn(e);return r===t||!Dr(r)||Pa(r)?!1:Lr(r).position==="fixed"||R0(r,t)}function iE(e,t){const r=t.get(e);if(r)return r;let n=qo(e,[],!1).filter(l=>Dr(l)&&Ua(l)!=="body"),a=null;const o=Lr(e).position==="fixed";let i=o?Jn(e):e;for(;Dr(i)&&!Pa(i);){const l=Lr(i),c=Uf(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ci(i)&&!c&&R0(e,i))?n=n.filter(h=>h!==i):a=l,i=Jn(i)}return t.set(e,n),n}function lE(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Sc(t)?[]:iE(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const m=gg(t,h,a);return u.top=er(m.top,u.top),u.right=Gn(m.right,u.right),u.bottom=Gn(m.bottom,u.bottom),u.left=er(m.left,u.left),u},gg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cE(e){const{width:t,height:r}=T0(e);return{width:t,height:r}}function dE(e,t,r){const n=Gr(t),a=Yr(t),o=r==="fixed",i=Ss(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Yn(0);if(n||!n&&!o)if((Ua(t)!=="body"||ci(a))&&(l=kc(t)),n){const y=Ss(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else a&&(c.x=ah(a));let u=0,h=0;if(a&&!n&&!o){const y=a.getBoundingClientRect();h=y.top+l.scrollTop,u=y.left+l.scrollLeft-ah(a,y)}const m=i.left+l.scrollLeft-c.x-u,f=i.top+l.scrollTop-c.y-h;return{x:m,y:f,width:i.width,height:i.height}}function Md(e){return Lr(e).position==="static"}function vg(e,t){if(!Gr(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yr(e)===r&&(r=r.ownerDocument.body),r}function A0(e,t){const r=ar(e);if(Sc(e))return r;if(!Gr(e)){let a=Jn(e);for(;a&&!Pa(a);){if(Dr(a)&&!Md(a))return a;a=Jn(a)}return r}let n=vg(e,t);for(;n&&X2(n)&&Md(n);)n=vg(n,t);return n&&Pa(n)&&Md(n)&&!Uf(n)?r:n||Z2(e)||r}const uE=async function(e){const t=this.getOffsetParent||A0,r=this.getDimensions,n=await r(e.floating);return{reference:dE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function hE(e){return Lr(e).direction==="rtl"}const fE={convertOffsetParentRelativeRectToViewportRelativeRect:rE,getDocumentElement:Yr,getClippingRect:lE,getOffsetParent:A0,getElementRects:uE,getClientRects:nE,getDimensions:cE,getScale:xa,isElement:Dr,isRTL:hE};function mE(e,t){let r=null,n;const a=Yr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:h,width:m,height:f}=e.getBoundingClientRect();if(l||t(),!m||!f)return;const y=Bi(h),w=Bi(a.clientWidth-(u+m)),x=Bi(a.clientHeight-(h+f)),b=Bi(u),g={rootMargin:-y+"px "+-w+"px "+-x+"px "+-b+"px",threshold:er(0,Gn(1,c))||1};let p=!0;function j(C){const _=C[0].intersectionRatio;if(_!==c){if(!p)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}p=!1}try{r=new IntersectionObserver(j,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,g)}r.observe(e)}return i(!0),o}function pE(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Vf(e),h=a||o?[...u?qo(u):[],...qo(t)]:[];h.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const m=u&&l?mE(u,r):null;let f=-1,y=null;i&&(y=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var p;(p=y)==null||p.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?Ss(e):null;c&&b();function b(){const v=Ss(e);x&&(v.x!==x.x||v.y!==x.y||v.width!==x.width||v.height!==x.height)&&r(),x=v,w=requestAnimationFrame(b)}return r(),()=>{var v;h.forEach(g=>{a&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),m?.(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const gE=G2,vE=Y2,xE=W2,yE=J2,wE=q2,xg=H2,bE=Q2,jE=(e,t,r)=>{const n=new Map,a={platform:fE,...r},o={...a.platform,_c:n};return V2(e,t,{...a,platform:o})};var hl=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Kl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Kl(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Kl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function I0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yg(e,t){const r=I0(e);return Math.round(t*r)/r}function Od(e){const t=d.useRef(e);return hl(()=>{t.current=e}),t}function _E(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,m]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,y]=d.useState(n);Kl(f,n)||y(n);const[w,x]=d.useState(null),[b,v]=d.useState(null),g=d.useCallback(P=>{P!==_.current&&(_.current=P,x(P))},[]),p=d.useCallback(P=>{P!==k.current&&(k.current=P,v(P))},[]),j=o||w,C=i||b,_=d.useRef(null),k=d.useRef(null),S=d.useRef(h),A=c!=null,T=Od(c),$=Od(a),U=Od(u),Y=d.useCallback(()=>{if(!_.current||!k.current)return;const P={placement:t,strategy:r,middleware:f};$.current&&(P.platform=$.current),jE(_.current,k.current,P).then(I=>{const R={...I,isPositioned:U.current!==!1};L.current&&!Kl(S.current,R)&&(S.current=R,Rs.flushSync(()=>{m(R)}))})},[f,t,r,$,U]);hl(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[u]);const L=d.useRef(!1);hl(()=>(L.current=!0,()=>{L.current=!1}),[]),hl(()=>{if(j&&(_.current=j),C&&(k.current=C),j&&C){if(T.current)return T.current(j,C,Y);Y()}},[j,C,Y,T,A]);const re=d.useMemo(()=>({reference:_,floating:k,setReference:g,setFloating:p}),[g,p]),W=d.useMemo(()=>({reference:j,floating:C}),[j,C]),q=d.useMemo(()=>{const P={position:r,left:0,top:0};if(!W.floating)return P;const I=yg(W.floating,h.x),R=yg(W.floating,h.y);return l?{...P,transform:"translate("+I+"px, "+R+"px)",...I0(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:R}},[r,l,W.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:Y,refs:re,elements:W,floatingStyles:q}),[h,Y,re,W,q])}const NE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xg({element:n.current,padding:a}).fn(r):{}:n?xg({element:n,padding:a}).fn(r):{}}}},CE=(e,t)=>({...gE(e),options:[e,t]}),SE=(e,t)=>({...vE(e),options:[e,t]}),kE=(e,t)=>({...bE(e),options:[e,t]}),EE=(e,t)=>({...xE(e),options:[e,t]}),TE=(e,t)=>({...yE(e),options:[e,t]}),PE=(e,t)=>({...wE(e),options:[e,t]}),RE=(e,t)=>({...NE(e),options:[e,t]});var AE="Arrow",M0=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(we.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});M0.displayName=AE;var IE=M0;function ME(e,t=[]){let r=[];function n(o,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:y,...w}=m,x=f?.[e][c]||l,b=d.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:b,children:y})}function h(m,f){const y=f?.[e][c]||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,OE(a,...t)]}function OE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Hf(e){const[t,r]=d.useState(void 0);return kt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Wf="Popper",[O0,ts]=ME(Wf),[DE,D0]=O0(Wf),L0=e=>{const{__scopePopper:t,children:r}=e,[n,a]=d.useState(null);return s.jsx(DE,{scope:t,anchor:n,onAnchorChange:a,children:r})};L0.displayName=Wf;var $0="PopperAnchor",F0=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=D0($0,r),i=d.useRef(null),l=Re(t,i);return d.useEffect(()=>{o.onAnchorChange(n?.current||i.current)}),n?null:s.jsx(we.div,{...a,ref:l})});F0.displayName=$0;var qf="PopperContent",[LE,$E]=O0(qf),z0=d.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,b=D0(qf,r),[v,g]=d.useState(null),p=Re(t,Z=>g(Z)),[j,C]=d.useState(null),_=Hf(j),k=_?.width??0,S=_?.height??0,A=n+(o!=="center"?"-"+o:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(u)?u:[u],U=$.length>0,Y={padding:T,boundary:$.filter(zE),altBoundary:U},{refs:L,floatingStyles:re,placement:W,isPositioned:q,middlewareData:P}=_E({strategy:"fixed",placement:A,whileElementsMounted:(...Z)=>pE(...Z,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[CE({mainAxis:a+S,alignmentAxis:i}),c&&SE({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?kE():void 0,...Y}),c&&EE({...Y}),TE({...Y,apply:({elements:Z,rects:E,availableWidth:N,availableHeight:O})=>{const{width:Q,height:se}=E.reference,fe=Z.floating.style;fe.setProperty("--radix-popper-available-width",`${N}px`),fe.setProperty("--radix-popper-available-height",`${O}px`),fe.setProperty("--radix-popper-anchor-width",`${Q}px`),fe.setProperty("--radix-popper-anchor-height",`${se}px`)}}),j&&RE({element:j,padding:l}),UE({arrowWidth:k,arrowHeight:S}),f&&PE({strategy:"referenceHidden",...Y})]}),[I,R]=V0(W),z=Ot(w);kt(()=>{q&&z?.()},[q,z]);const F=P.arrow?.x,X=P.arrow?.y,ce=P.arrow?.centerOffset!==0,[ge,J]=d.useState();return kt(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:q?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(LE,{scope:r,placedSide:I,onArrowChange:C,arrowX:F,arrowY:X,shouldHideArrow:ce,children:s.jsx(we.div,{"data-side":I,"data-align":R,...x,ref:p,style:{...x.style,animation:q?void 0:"none"}})})})});z0.displayName=qf;var U0="PopperArrow",FE={top:"bottom",right:"left",bottom:"top",left:"right"},B0=d.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=$E(U0,n),i=FE[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(IE,{...a,ref:r,style:{...a.style,display:"block"}})})});B0.displayName=U0;function zE(e){return e!==null}var UE=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,i=a.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=V0(r),m={start:"0%",center:"50%",end:"100%"}[h],f=(a.arrow?.x??0)+l/2,y=(a.arrow?.y??0)+c/2;let w="",x="";return u==="bottom"?(w=i?m:`${f}px`,x=`${-c}px`):u==="top"?(w=i?m:`${f}px`,x=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?m:`${y}px`):u==="left"&&(w=`${n.floating.width+c}px`,x=i?m:`${y}px`),{data:{x:w,y:x}}}});function V0(e){const[t,r="center"]=e.split("-");return[t,r]}var Kf=L0,di=F0,Ec=z0,Tc=B0,[Pc,k3]=jr("Tooltip",[ts]),Gf=ts(),H0="TooltipProvider",BE=700,wg="tooltip.open",[VE,W0]=Pc(H0),q0=e=>{const{__scopeTooltip:t,delayDuration:r=BE,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=d.useState(!0),c=d.useRef(!1),u=d.useRef(0);return d.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),s.jsx(VE,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:d.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:o})};q0.displayName=H0;var K0="Tooltip",[E3,Rc]=Pc(K0),oh="TooltipTrigger",HE=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Rc(oh,r),o=W0(oh,r),i=Gf(r),l=d.useRef(null),c=Re(t,l,a.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),m=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(di,{asChild:!0,...i,children:s.jsx(we.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ae(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ae(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ae(e.onBlur,a.onClose),onClick:ae(e.onClick,a.onClose)})})});HE.displayName=oh;var WE="TooltipPortal",[T3,qE]=Pc(WE,{forceMount:void 0}),Ra="TooltipContent",G0=d.forwardRef((e,t)=>{const r=qE(Ra,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=Rc(Ra,e.__scopeTooltip);return s.jsx(Ut,{present:n||i.open,children:i.disableHoverableContent?s.jsx(Y0,{side:a,...o,ref:t}):s.jsx(KE,{side:a,...o,ref:t})})}),KE=d.forwardRef((e,t)=>{const r=Rc(Ra,e.__scopeTooltip),n=W0(Ra,e.__scopeTooltip),a=d.useRef(null),o=Re(t,a),[i,l]=d.useState(null),{trigger:c,onClose:u}=r,h=a.current,{onPointerInTransitChange:m}=n,f=d.useCallback(()=>{l(null),m(!1)},[m]),y=d.useCallback((w,x)=>{const b=w.currentTarget,v={x:w.clientX,y:w.clientY},g=JE(v,b.getBoundingClientRect()),p=XE(v,g),j=ZE(x.getBoundingClientRect()),C=tT([...p,...j]);l(C),m(!0)},[m]);return d.useEffect(()=>()=>f(),[f]),d.useEffect(()=>{if(c&&h){const w=b=>y(b,h),x=b=>y(b,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[c,h,y,f]),d.useEffect(()=>{if(i){const w=x=>{const b=x.target,v={x:x.clientX,y:x.clientY},g=c?.contains(b)||h?.contains(b),p=!eT(v,i);g?f():p&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,i,u,f]),s.jsx(Y0,{...e,ref:o})}),[GE,YE]=Pc(K0,{isInside:!1}),Y0=d.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Rc(Ra,r),u=Gf(r),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(wg,h),()=>document.removeEventListener(wg,h)),[h]),d.useEffect(()=>{if(c.trigger){const m=f=>{f.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),s.jsx(As,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:s.jsxs(Ec,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Pf,{children:n}),s.jsx(GE,{scope:r,isInside:!0,children:s.jsx(PS,{id:c.contentId,role:"tooltip",children:a||n})})]})})});G0.displayName=Ra;var Q0="TooltipArrow",QE=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Gf(r);return YE(Q0,r).isInside?null:s.jsx(Tc,{...a,...n,ref:t})});QE.displayName=Q0;function JE(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function XE(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ZE(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function eT(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,h=t[i].y;c>n!=h>n&&r<(u-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function tT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),rT(t)}function rT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var nT=q0,J0=G0;const sT=nT,aT=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(J0,{ref:n,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));aT.displayName=J0.displayName;var Ac=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ic=typeof window>"u"||"Deno"in globalThis;function kr(){}function oT(e,t){return typeof e=="function"?e(t):e}function iT(e){return typeof e=="number"&&e>=0&&e!==1/0}function lT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bg(e,t){return typeof e=="function"?e(t):e}function cT(e,t){return typeof e=="function"?e(t):e}function jg(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Yf(i,t.options))return!1}else if(!Go(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function _g(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ko(t.options.mutationKey)!==Ko(o))return!1}else if(!Go(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Yf(e,t){return(t?.queryKeyHashFn||Ko)(e)}function Ko(e){return JSON.stringify(e,(t,r)=>ih(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Go(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Go(e[r],t[r])):!1}function X0(e,t){if(e===t)return e;const r=Ng(e)&&Ng(t);if(r||ih(e)&&ih(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const h=r?u:o[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=X0(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function Ng(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ih(e){if(!Cg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Cg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cg(e){return Object.prototype.toString.call(e)==="[object Object]"}function dT(e){return new Promise(t=>{setTimeout(t,e)})}function uT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?X0(e,t):t}function hT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function fT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Qf=Symbol();function Z0(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Qf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var mT=class extends Ac{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Ic&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ew=new mT,pT=class extends Ac{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Ic&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Gl=new pT;function gT(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function vT(e){return Math.min(1e3*2**e,3e4)}function tw(e){return(e??"online")==="online"?Gl.isOnline():!0}var rw=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Dd(e){return e instanceof rw}function nw(e){let t=!1,r=0,n=!1,a;const o=gT(),i=x=>{n||(f(new rw(x)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>ew.isFocused()&&(e.networkMode==="always"||Gl.isOnline())&&e.canRun(),h=()=>tw(e.networkMode)&&e.canRun(),m=x=>{n||(n=!0,e.onSuccess?.(x),a?.(),o.resolve(x))},f=x=>{n||(n=!0,e.onError?.(x),a?.(),o.reject(x))},y=()=>new Promise(x=>{a=b=>{(n||u())&&x(b)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),w=()=>{if(n)return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(m).catch(v=>{if(n)return;const g=e.retry??(Ic?0:3),p=e.retryDelay??vT,j=typeof p=="function"?p(r,v):p,C=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!C){f(v);return}r++,e.onFail?.(r,v),dT(j).then(()=>u()?void 0:y()).then(()=>{t?f(v):w()})})};return{promise:o,cancel:i,continue:()=>(a?.(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():y().then(w),o)}}function xT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Lt=xT(),sw=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iT(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ic?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},yT=class extends sw{#e;#t;#r;#n;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=bT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=uT(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>cT(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!lT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const l=Z0(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return n(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const i=l=>{Dd(l)&&l.silent||this.#s({type:"error",error:l}),Dd(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=nw({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){i(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:i,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wT(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Dd(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Lt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function wT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jT=class extends Ac{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??Yf(n,t);let o=this.get(a);return o||(o=new yT({cache:this,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>jg(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>jg(e,r)):t}notify(e){Lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_T=class extends sw{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||NT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=nw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,a)=>{this.#n({type:"failed",failureCount:n,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Lt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function NT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var CT=class extends Ac{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new _T({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=Vi(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=Vi(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Vi(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Vi(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>_g(t,r))}findAll(e={}){return this.getAll().filter(t=>_g(e,t))}notify(e){Lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Lt.batch(()=>Promise.all(e.map(t=>t.continue().catch(kr))))}};function Vi(e){return e.options.scope?.id??String(e.mutationId)}function Sg(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},f=Z0(t.options,t.fetchOptions),y=async(w,x,b)=>{if(h)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const v={queryKey:t.queryKey,pageParam:x,direction:b?"backward":"forward",meta:t.options.meta};m(v);const g=await f(v),{maxPages:p}=t.options,j=b?fT:hT;return{pages:j(w.pages,g,p),pageParams:j(w.pageParams,x,p)}};if(a&&o.length){const w=a==="backward",x=w?ST:kg,b={pages:o,pageParams:i},v=x(n,b);l=await y(b,v,w)}else{const w=e??o.length;do{const x=c===0?i[0]??n.initialPageParam:kg(n,l);if(c>0&&x==null)break;l=await y(l,x),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function kg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ST(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var kT=class{#e;#t;#r;#n;#o;#a;#s;#i;constructor(e={}){this.#e=e.queryCache||new jT,this.#t=e.mutationCache||new CT,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=ew.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Gl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=this.#e.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(bg(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(n.queryHash)?.state.data,i=oT(t,o);if(i!==void 0)return this.#e.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Lt.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Lt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return Lt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Lt.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(kr).catch(kr)}invalidateQueries(e={},t={}){return Lt.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},n=Lt.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(kr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(bg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kr).catch(kr)}fetchInfiniteQuery(e){return e.behavior=Sg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kr).catch(kr)}ensureInfiniteQueryData(e){return e.behavior=Sg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ko(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let r={};return t.forEach(n=>{Go(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){this.#o.set(Ko(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let r={};return t.forEach(n=>{Go(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Qf&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ET=d.createContext(void 0),TT=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ET.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}var On;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(On||(On={}));const Eg="popstate";function PT(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return lh("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ow(a)}return AT(t,r,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RT(){return Math.random().toString(36).substr(2,8)}function Tg(e,t){return{usr:e.state,key:e.key,idx:t}}function lh(e,t,r,n){return r===void 0&&(r=null),Yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ba(t):t,{state:r,key:t&&t.key||n||RT()})}function ow(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ba(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function AT(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=On.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Yo({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function m(){l=On.Pop;let b=h(),v=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:v})}function f(b,v){l=On.Push;let g=lh(x.location,b,v);u=h()+1;let p=Tg(g,u),j=x.createHref(g);try{i.pushState(p,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(j)}o&&c&&c({action:l,location:x.location,delta:1})}function y(b,v){l=On.Replace;let g=lh(x.location,b,v);u=h();let p=Tg(g,u),j=x.createHref(g);i.replaceState(p,"",j),o&&c&&c({action:l,location:x.location,delta:0})}function w(b){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:ow(b);return g=g.replace(/ $/,"%20"),ut(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return l},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Eg,m),c=b,()=>{a.removeEventListener(Eg,m),c=null}},createHref(b){return t(a,b)},createURL:w,encodeLocation(b){let v=w(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:y,go(b){return i.go(b)}};return x}var Pg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pg||(Pg={}));function IT(e,t,r){return r===void 0&&(r="/"),MT(e,t,r,!1)}function MT(e,t,r,n){let a=typeof t=="string"?Ba(t):t,o=cw(a.pathname||"/",r);if(o==null)return null;let i=iw(e);OT(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=qT(o);l=HT(i[c],u,n)}return l}function iw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ws([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iw(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:BT(u,o.index),routesMeta:h})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of lw(o.path))a(o,i,c)}),t}function lw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=lw(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function OT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DT=/^:[\w-]+$/,LT=3,$T=2,FT=1,zT=10,UT=-2,Rg=e=>e==="*";function BT(e,t){let r=e.split("/"),n=r.length;return r.some(Rg)&&(n+=UT),t&&(n+=$T),r.filter(a=>!Rg(a)).reduce((a,o)=>a+(DT.test(o)?LT:o===""?FT:zT),n)}function VT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function HT(e,t,r){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=o==="/"?t:t.slice(o.length)||"/",m=Ag({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Ag({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:ws([o,m.pathname]),pathnameBase:XT(ws([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=ws([o,m.pathnameBase]))}return i}function Ag(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WT(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:f,isOptional:y}=h;if(f==="*"){let x=l[m]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[m];return y&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function WT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),aw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function KT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ba(e):e;return{pathname:r?r.startsWith("/")?r:GT(r,t):t,search:ZT(n),hash:eP(a)}}function GT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ld(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function QT(e,t){let r=YT(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function JT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ba(e):(a=Yo({},e),ut(!a.pathname||!a.pathname.includes("?"),Ld("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Ld("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Ld("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=KT(a,l),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ws=e=>e.join("/").replace(/\/\/+/g,"/"),XT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dw=["post","put","patch","delete"];new Set(dw);const rP=["get",...dw];new Set(rP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}const Jf=d.createContext(null),nP=d.createContext(null),Mc=d.createContext(null),Oc=d.createContext(null),Va=d.createContext({outlet:null,matches:[],isDataRoute:!1}),uw=d.createContext(null);function Dc(){return d.useContext(Oc)!=null}function Lc(){return Dc()||ut(!1),d.useContext(Oc).location}function hw(e){d.useContext(Mc).static||d.useLayoutEffect(e)}function sP(){let{isDataRoute:e}=d.useContext(Va);return e?vP():aP()}function aP(){Dc()||ut(!1);let e=d.useContext(Jf),{basename:t,future:r,navigator:n}=d.useContext(Mc),{matches:a}=d.useContext(Va),{pathname:o}=Lc(),i=JSON.stringify(QT(a,r.v7_relativeSplatPath)),l=d.useRef(!1);return hw(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=JT(u,JSON.parse(i),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ws([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,i,o,e])}function oP(e,t){return iP(e,t)}function iP(e,t,r,n){Dc()||ut(!1);let{navigator:a}=d.useContext(Mc),{matches:o}=d.useContext(Va),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Lc(),h;if(t){var m;let b=typeof t=="string"?Ba(t):t;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||ut(!1),h=b}else h=u;let f=h.pathname||"/",y=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=IT(e,{pathname:y}),x=hP(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ws([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ws([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&x?d.createElement(Oc.Provider,{value:{location:Qo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:On.Pop}},x):x}function lP(){let e=gP(),t=tP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:a},r):null,null)}const cP=d.createElement(lP,null);class dP extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?d.createElement(Va.Provider,{value:this.props.routeContext},d.createElement(uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uP(e){let{routeContext:t,match:r,children:n}=e,a=d.useContext(Jf);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(Va.Provider,{value:t},n)}function hP(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);h>=0||ut(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:f,errors:y}=r,w=m.route.loader&&f[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,f)=>{let y,w=!1,x=null,b=null;r&&(y=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||cP,c&&(u<0&&f===0?(w=!0,b=null):u===f&&(w=!0,b=m.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),g=()=>{let p;return y?p=x:w?p=b:m.route.Component?p=d.createElement(m.route.Component,null):m.route.element?p=m.route.element:p=h,d.createElement(uP,{match:m,routeContext:{outlet:h,matches:v,isDataRoute:r!=null},children:p})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?d.createElement(dP,{location:r.location,revalidation:r.revalidation,component:x,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var fw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fw||{}),Yl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yl||{});function fP(e){let t=d.useContext(Jf);return t||ut(!1),t}function mP(e){let t=d.useContext(nP);return t||ut(!1),t}function pP(e){let t=d.useContext(Va);return t||ut(!1),t}function mw(e){let t=pP(),r=t.matches[t.matches.length-1];return r.route.id||ut(!1),r.route.id}function gP(){var e;let t=d.useContext(uw),r=mP(Yl.UseRouteError),n=mw(Yl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function vP(){let{router:e}=fP(fw.UseNavigateStable),t=mw(Yl.UseNavigateStable),r=d.useRef(!1);return hw(()=>{r.current=!0}),d.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Qo({fromRouteId:t},o)))},[e,t])}function Ks(e){ut(!1)}function xP(e){let{basename:t="/",children:r=null,location:n,navigationType:a=On.Pop,navigator:o,static:i=!1,future:l}=e;Dc()&&ut(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:i,future:Qo({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Ba(n));let{pathname:h="/",search:m="",hash:f="",state:y=null,key:w="default"}=n,x=d.useMemo(()=>{let b=cw(h,c);return b==null?null:{location:{pathname:b,search:m,hash:f,state:y,key:w},navigationType:a}},[c,h,m,f,y,w,a]);return x==null?null:d.createElement(Mc.Provider,{value:u},d.createElement(Oc.Provider,{children:r,value:x}))}function yP(e){let{children:t,location:r}=e;return oP(ch(t),r)}new Promise(()=>{});function ch(e,t){t===void 0&&(t=[]);let r=[];return d.Children.forEach(e,(n,a)=>{if(!d.isValidElement(n))return;let o=[...t,a];if(n.type===d.Fragment){r.push.apply(r,ch(n.props.children,o));return}n.type!==Ks&&ut(!1),!n.props.index||!n.props.children||ut(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ch(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function wP(e,t){let r=dh(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const bP="6";try{window.__reactRouterVersion=bP}catch{}const jP="startTransition",Ig=Rv[jP];function _P(e){let{basename:t,children:r,future:n,window:a}=e,o=d.useRef();o.current==null&&(o.current=PT({window:a,v5Compat:!0}));let i=o.current,[l,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},h=d.useCallback(m=>{u&&Ig?Ig(()=>c(m)):c(m)},[c,u]);return d.useLayoutEffect(()=>i.listen(h),[i,h]),d.createElement(xP,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var Mg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mg||(Mg={}));var Og;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Og||(Og={}));function NP(e){let t=d.useRef(dh(e)),r=d.useRef(!1),n=Lc(),a=d.useMemo(()=>wP(n.search,r.current?null:t.current),[n.search]),o=sP(),i=d.useCallback((l,c)=>{const u=dh(typeof l=="function"?l(a):l);r.current=!0,o("?"+u,c)},[o,a]);return[a,i]}const CP="modulepreload",SP=function(e){return"/"+e},Dg={},ui=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=Promise.allSettled(r.map(c=>{if(c=SP(c),c in Dg)return;Dg[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":CP,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,y)=>{m.addEventListener("load",f),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},kP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Ha);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class EP extends Xf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lg extends Xf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $g extends Xf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uh||(uh={}));var TP=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class PP{constructor(t,{headers:r={},customFetch:n,region:a=uh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=kP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return TP(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=i):typeof i=="string"?(l["Content-Type"]="text/plain",h=i):typeof FormData<"u"&&i instanceof FormData?h=i:(l["Content-Type"]="application/json",h=JSON.stringify(i)));const m=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:h}).catch(x=>{throw new EP(x)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new Lg(m);if(!m.ok)throw new $g(m);let y=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield m.json():y==="application/octet-stream"?w=yield m.blob():y==="text/event-stream"?w=m:y==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof $g||a instanceof Lg?a.context:void 0}}})}}var qt={},Zf={},$c={},hi={},Fc={},zc={},RP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Aa=RP();const AP=Aa.fetch,pw=Aa.fetch.bind(Aa),gw=Aa.Headers,IP=Aa.Request,MP=Aa.Response,Ha=Object.freeze(Object.defineProperty({__proto__:null,Headers:gw,Request:IP,Response:MP,default:pw,fetch:AP},Symbol.toStringTag,{value:"Module"})),OP=T_(Ha);var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});let DP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uc.default=DP;var vw=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});const LP=vw(OP),$P=vw(Uc);let FP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,h=null,m=null,f=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=v:h=JSON.parse(v))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(h=[],u=null,f=200,y="OK")}catch{o.status===404&&x===""?(f=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new $P.default(u)}return{error:u,data:h,count:m,status:f,statusText:y}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o?.name)!==null&&i!==void 0?i:"FetchError"}: ${o?.message}`,details:`${(l=o?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};zc.default=FP;var zP=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fc,"__esModule",{value:!0});const UP=zP(zc);let BP=class extends UP.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fc.default=BP;var VP=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});const HP=VP(Fc);let WP=class extends HP.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};hi.default=WP;var qP=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const so=qP(hi);let KP=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new so.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new so.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new so.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new so.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new so.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$c.default=KP;var Bc={},Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.version=void 0;Vc.version="0.0.0-automated";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.DEFAULT_HEADERS=void 0;const GP=Vc;Bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${GP.version}`};var xw=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zf,"__esModule",{value:!0});const YP=xw($c),QP=xw(hi),JP=Bc;let XP=class yw{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},JP.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new YP.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{l.searchParams.append(h,m)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new QP.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Zf.default=XP;var Wa=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const ww=Wa(Zf);qt.PostgrestClient=ww.default;const bw=Wa($c);qt.PostgrestQueryBuilder=bw.default;const jw=Wa(hi);qt.PostgrestFilterBuilder=jw.default;const _w=Wa(Fc);qt.PostgrestTransformBuilder=_w.default;const Nw=Wa(zc);qt.PostgrestBuilder=Nw.default;const Cw=Wa(Uc);qt.PostgrestError=Cw.default;var ZP=qt.default={PostgrestClient:ww.default,PostgrestQueryBuilder:bw.default,PostgrestFilterBuilder:jw.default,PostgrestTransformBuilder:_w.default,PostgrestBuilder:Nw.default,PostgrestError:Cw.default};const{PostgrestClient:eR,PostgrestQueryBuilder:O3,PostgrestFilterBuilder:D3,PostgrestTransformBuilder:L3,PostgrestBuilder:$3,PostgrestError:F3}=ZP;function tR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const rR=tR(),nR="2.11.15",sR=`realtime-js/${nR}`,aR="1.0.0",Sw=1e4,oR=1e3;var Co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Co||(Co={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var Tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tr||(Tr={}));var hh;(function(e){e.websocket="websocket"})(hh||(hh={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class iR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class kw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const Fg=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=lR(i,e,t,a),o),{})},lR=(e,t,r,n)=>{const a=t.find(l=>l.name===e),o=a?.type,i=r[e];return o&&!n.includes(o)?Ew(o,i):fh(i)},Ew=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hR(t,r)}switch(e){case qe.bool:return cR(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return dR(t);case qe.json:case qe.jsonb:return uR(t);case qe.timestamp:return fR(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return fh(t);default:return fh(t)}},fh=e=>e,cR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Ew(t,l))}return e},fR=e=>typeof e=="string"?e.replace(" ","T"):e,Tw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $d{constructor(t,r,n={},a=Sw){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zg||(zg={}));class So{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=So.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=So.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=So.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const m=o[u];if(m){const f=h.map(b=>b.presence_ref),y=m.map(b=>b.presence_ref),w=h.filter(b=>y.indexOf(b.presence_ref)<0),x=m.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=h}),this.syncDiff(o,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const m=t[l].map(y=>y.presence_ref),f=h.filter(y=>m.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ug;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ug||(Ug={}));var Bg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bg||(Bg={}));var Zr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class em{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $d(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new kw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new So(this),this.broadcastEndpointURL=Tw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(h=>t?.(Zr.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Zr.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t?.(Zr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(m=f?.length)!==null&&m!==void 0?m:0,w=[];for(let x=0;x<y;x++){const b=f[x],{filter:{event:v,schema:g,table:p,filter:j}}=b,C=h&&h[x];if(C&&C.event===v&&C.schema===g&&C.table===p&&C.filter===j)w.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Pt.errored,t?.(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Zr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Pt.errored,t?.(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new $d(this,Tr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new $d(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Tr;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var w,x,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=y.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(y=>y.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(y=>{var w,x,b,v,g,p;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const j=y.id,C=(w=y.filter)===null||w===void 0?void 0:w.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(C==="*"||C?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(g=(v=y?.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((p=r?.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:x,table:b,commit_timestamp:v,type:g,errors:p}=w;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:v,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(w))}y.callback(f,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&em.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tr.close,{},t)}_onError(t){this._on(Tr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fg(t.columns,t.old_record)),r}}const Vg=()=>{},mR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pR{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vg,this.ref=0,this.logger=Vg,this.conn=null,this.sendBuffer=[],this.serializer=new iR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>ui(async()=>{const{default:c}=await Promise.resolve().then(()=>Ha);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${hh.websocket}`,this.httpEndpoint=Tw(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r?.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=rR),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Co.connecting:return us.Connecting;case Co.open:return us.Open;case Co.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new em(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:sR};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Tr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(oR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:o,ref:i}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class tm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gR extends tm{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mh extends tm{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vR=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Pw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Ha);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xR=()=>vR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ui(()=>Promise.resolve().then(()=>Ha),void 0)).Response:Response}),ph=e=>{if(Array.isArray(e))return e.map(r=>ph(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=ph(n)}),t};var Is=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yR=(e,t,r)=>Is(void 0,void 0,void 0,function*(){const n=yield xR();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{t(new gR(Fd(a),e.status||500))}).catch(a=>{t(new mh(Fd(a),a))}):t(new mh(Fd(e),e))}),wR=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function fi(e,t,r,n,a,o){return Is(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,wR(t,n,a,o)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>yR(c,l,n))})})}function Ql(e,t,r,n){return Is(this,void 0,void 0,function*(){return fi(e,"GET",t,r,n)})}function En(e,t,r,n,a){return Is(this,void 0,void 0,function*(){return fi(e,"POST",t,n,a,r)})}function bR(e,t,r,n,a){return Is(this,void 0,void 0,function*(){return fi(e,"PUT",t,n,a,r)})}function jR(e,t,r,n){return Is(this,void 0,void 0,function*(){return fi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rw(e,t,r,n,a){return Is(this,void 0,void 0,function*(){return fi(e,"DELETE",t,n,a,r)})}var Ht=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _R={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NR{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pw(a)}uploadOrUpdate(t,r,n,a){return Ht(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Hg),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:o,headers:l},i?.duplex?{duplex:i.duplex}:{})),f=yield m.json();return m.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ht(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Hg.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:h}),f=yield m.json();return m.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const o=yield En(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new tm("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ht(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield En(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ht(this,void 0,void 0,function*(){try{const a=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}download(t,r){return Ht(this,void 0,void 0,function*(){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ql(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}info(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ql(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ph(n),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}exists(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield jR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pt(n)&&n instanceof mh){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ht(this,void 0,void 0,function*(){try{return{data:yield Rw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ht(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},_R),r),{prefix:t||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const CR="2.7.1",SR={"X-Client-Info":`storage-js/${CR}`};var Ls=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class kR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},SR),r),this.fetch=Pw(n)}listBuckets(){return Ls(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ls(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ls(this,void 0,void 0,function*(){try{return{data:yield bR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield Rw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}}class ER extends kR{constructor(t,r={},n){super(t,r,n)}from(t){return new NR(this.url,this.headers,t,this.fetch)}}const TR="2.52.1";let uo="";typeof Deno<"u"?uo="deno":typeof document<"u"?uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uo="react-native":uo="node";const PR={"X-Client-Info":`supabase-js-${uo}/${TR}`},RR={headers:PR},AR={schema:"public"},IR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MR={};var OR=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const DR=e=>{let t;return e?t=e:typeof fetch>"u"?t=pw:t=fetch,(...r)=>t(...r)},LR=()=>typeof Headers>"u"?gw:Headers,$R=(e,t,r)=>{const n=DR(r),a=LR();return(o,i)=>OR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(i?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var FR=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function zR(e){return e.endsWith("/")?e:e+"/"}function UR(e,t){var r,n;const{db:a,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:m}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},h),i),global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>FR(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Aw="2.71.1",Gs=30*1e3,gh=3,zd=gh*Gs,BR="http://localhost:9999",VR="supabase.auth.token",HR={"X-Client-Info":`gotrue-js/${Aw}`},vh="X-Supabase-Api-Version",Iw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qR=10*60*1e3;class rm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KR extends rm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GR(e){return Te(e)&&e.name==="AuthApiError"}class Mw extends rm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class rs extends rm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Nn extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YR(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Hi extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wi extends rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qi extends rs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QR(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wg extends rs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xh extends rs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ud(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class qg extends rs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yh extends rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kg=` 	
\r=`.split(""),JR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kg.length;t+=1)e[Kg[t].charCodeAt(0)]=-2;for(let t=0;t<Jl.length;t+=1)e[Jl[t].charCodeAt(0)]=t;return e})();function Gg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jl[n]),t.queuedBits-=6}}function Ow(e,t,r){const n=JR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yg(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{e4(i,n,r)};for(let i=0;i<e.length;i+=1)Ow(e.charCodeAt(i),a,o);return t.join("")}function XR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}XR(n,t)}}function e4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function t4(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Ow(e.charCodeAt(a),r,n);return new Uint8Array(t)}function r4(e){const t=[];return ZR(e,r=>t.push(r)),new Uint8Array(t)}function n4(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Gg(a,r,n)),Gg(null,r,n),t.join("")}function s4(e){return Math.round(Date.now()/1e3)+e}function a4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nr=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},Dw=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function o4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Lw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Ha);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},i4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ys=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},is=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_n=async(e,t)=>{await e.removeItem(t)};class Hc{constructor(){this.promise=new Hc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Hc.promiseConstructor=Promise;function Bd(e){const t=e.split(".");if(t.length!==3)throw new yh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!WR.test(t[n]))throw new yh("JWT not in base64url format");return{header:JSON.parse(Yg(t[0])),payload:JSON.parse(Yg(t[1])),signature:t4(t[2]),raw:{header:t[0],payload:t[1]}}}async function l4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function c4(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function d4(e){return("0"+e.toString(16)).substr(-2)}function u4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,d4).join("")}async function h4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function f4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await h4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,r=!1){const n=u4();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ys(e,`${t}-code-verifier`,a);const o=await f4(n);return[o,n===o?"plain":"s256"]}const m4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p4(e){const t=e.headers.get(vh);if(!t||!t.match(m4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function g4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function v4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(e){if(!x4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qg(e){return JSON.parse(JSON.stringify(e))}var y4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w4=[502,503,504];async function Jg(e){var t;if(!i4(e))throw new xh(ds(e),0);if(w4.includes(e.status))throw new xh(ds(e),e.status);let r;try{r=await e.json()}catch(o){throw new Mw(ds(o),o)}let n;const a=p4(e);if(a&&a.getTime()>=Iw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qg(ds(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new qg(ds(r),e.status,r.weak_password.reasons);throw new KR(ds(r),e.status||500,n)}const b4=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const o=Object.assign({},n?.headers);o[vh]||(o[vh]=Iw["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await j4(e,t,r+l,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function j4(e,t,r,n,a,o){const i=b4(t,n,a,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new xh(ds(c),0)}if(l.ok||await Jg(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await Jg(c)}}function Jr(e){var t;let r=null;S4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=s4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xg(e){const t=Jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _4(e){return{data:e,error:null}}function N4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,i=y4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function C4(e){return e}function S4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hd=["global","local","others"];var k4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class E4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Lw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hd[0]){if(Hd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hd.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:An})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=k4(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:N4,redirectTo:r?.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:C4});if(h.error)throw h.error;const m=await h.json(),f=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fs(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fs(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:An})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fs(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:An})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fs(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fs(t.userId),Fs(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}function Zg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function T4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zs={debug:!!(globalThis&&Dw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $w extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class P4 extends $w{}async function R4(e,t,r){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new P4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}T4();const A4={url:BR,storageKey:VR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ev(e,t,r){return await r()}const Us={};class Jo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jo.nextInstanceID,Jo.nextInstanceID+=1,this.instanceID>0&&Nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},A4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new E4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Lw(a.fetch),this.lock=a.lock||ev,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Nr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=R4:this.lock=ev,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Dw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Zg(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Us[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Us[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Aw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=o4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QR(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new Mw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Jr}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:h,password:m,options:f}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await $s(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:m,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:w},xform:Jr})}else if("phone"in t){const{phone:h,password:m,options:f}=t;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(a=f?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Jr})}else throw new Wi("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Xg})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Xg})}else throw new Wi("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,o,i,l,c,u,h,m,f,y;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:b,wallet:v,statement:g,options:p}=t;let j;if(Nr())if(typeof v=="object")j=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!p?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const C=new URL((r=p?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),g?{statement:g}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=p?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=p?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((i=p?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((m=(h=p?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:b,error:v}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:n4(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Jr});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Hi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(Te(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await is(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jr});if(await _n(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Hi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=t,l=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Jr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await $s(this.storage,this.storageKey));const{error:m}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(i=c?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new Wi("You must provide either an email or phone number.")}catch(l){if(Te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Jr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await $s(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:_4})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nn;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:i}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:i,error:l}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:l}}throw new Wi("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await is(this.userStorage,this.storageKey+"-user");i?.user?t.user=i.user:t.user=Vd()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async r=>{var n,a,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:An})})}catch(r){if(Te(r))return YR(r)&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Nn;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $s(this.storage,this.storageKey));const{data:u,error:h}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:An});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=Bd(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Nn;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nr())throw new qi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wg("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new qi("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let f=h+m;c&&(f=parseInt(c));const y=f-h;y*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const w=f-m;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,h);const{data:x,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:f,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(GR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=a4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await $s(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,l,c,u,h;const{data:m,error:f}=o;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Nr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await c4(async a=>(a>0&&await l4(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jr})),(a,o)=>{const i=200*Math.pow(2,a);return o&&Ud(o)&&Date.now()+i-n<Gs})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await is(this.storage,this.storageKey);if(a&&this.userStorage){let i=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Ys(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i?.user)!==null&&t!==void 0?t:Vd()}else if(a&&!a.user&&!a.user){const i=await is(this.storage,this.storageKey+"-user");i&&i?.user?(a.user=i.user,await _n(this.storage,this.storageKey+"-user"),await Ys(this.storage,this.storageKey,a)):a.user=Vd()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${zd}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Ud(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&i?.user?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Hc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),Te(o)){const i={session:null,error:o};return Ud(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ys(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=Qg(a);await Ys(this.storage,this.storageKey,o)}else{const a=Qg(r);await Ys(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await _n(this.storage,this.storageKey),await _n(this.storage,this.storageKey+"-code-verifier"),await _n(this.storage,this.storageKey+"-user"),this.userStorage&&await _n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Gs}ms, refresh threshold is ${gh} ticks`),a<=gh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $w)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await $s(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bd(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+qR>a)return n;const{data:o,error:i}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=Bd(n);r?.allowExpired||g4(o.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:a,signature:i},error:null}}const h=v4(a.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,i,r4(`${l}.${c}`)))throw new yh("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}Jo.nextInstanceID=0;const I4=Jo;class M4 extends I4{constructor(t){super(t)}}var O4=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(m){i(m)}}function c(h){try{u(n.throw(h))}catch(m){i(m)}}function u(h){h.done?o(h.value):a(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class D4{constructor(t,r,n){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=zR(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:AR,realtime:MR,auth:Object.assign(Object.assign({},IR),{storageKey:u}),global:RR},m=UR(n??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=m.auth)!==null&&i!==void 0?i:{},this.headers,m.global.fetch),this.fetch=$R(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new eR(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new PP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ER(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return O4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:i,lock:l,debug:c},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M4({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L4=(e,t,r)=>new D4(e,t,r);function $4(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F4="https://mixifcnokcmxarpzwfiy.supabase.co",z4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1peGlmY25va2NteGFycHp3Zml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NjYwNTEsImV4cCI6MjA2OTA0MjA1MX0.-4uIuzcHcDGS20-dtKbjVFOtpBSmwYhT9Bgt6KA-dXI",K=L4(F4,z4,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Fw=d.createContext(void 0),zw=()=>{const e=d.useContext(Fw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},U4=({children:e})=>{const[t,r]=d.useState(null),[n,a]=d.useState(!0);d.useEffect(()=>{o();const{data:{subscription:u}}=K.auth.onAuthStateChange((h,m)=>{m?.user?r({email:m.user.email,authenticated:!0,id:m.user.id}):r(null),a(!1)});return()=>{u.unsubscribe()}},[]);const o=async()=>{try{const{data:{session:u}}=await K.auth.getSession();u?.user&&r({email:u.user.email,authenticated:!0,id:u.user.id})}catch(u){console.error("Auth check failed:",u)}finally{a(!1)}},c={user:t,login:async(u,h)=>{try{const{data:m,error:f}=await K.auth.signInWithPassword({email:u,password:h});return f?(console.error("Login failed:",f.message),!1):m.user?(r({email:m.user.email,authenticated:!0,id:m.user.id}),!0):!1}catch(m){return console.error("Login failed:",m),!1}},logout:async()=>{try{await K.auth.signOut(),r(null)}catch(u){console.error("Logout failed:",u)}},isLoading:n};return s.jsx(Fw.Provider,{value:c,children:e})},nm=li("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=d.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?fn:"button";return s.jsx(i,{className:he(nm({variant:t,size:r,className:e})),ref:o,...a})});D.displayName="Button";const be=d.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";var B4="Label",Uw=d.forwardRef((e,t)=>s.jsx(we.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Uw.displayName=B4;var Bw=Uw;const V4=li("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=d.forwardRef(({className:e,...t},r)=>s.jsx(Bw,{ref:r,className:he(V4(),e),...t}));H.displayName=Bw.displayName;const _e=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const Be=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",e),...t}));Be.displayName="CardHeader";const Ve=d.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const ot=d.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));ot.displayName="CardDescription";const Ee=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const Vw=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",e),...t}));Vw.displayName="CardFooter";const H4=li("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hw=d.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:he(H4({variant:t}),e),...r}));Hw.displayName="Alert";const W4=d.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:he("mb-1 font-medium leading-none tracking-tight",e),...t}));W4.displayName="AlertTitle";const Ww=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("text-sm [&_p]:leading-relaxed",e),...t}));Ww.displayName="AlertDescription";const q4=()=>{const[e,t]=d.useState(""),[r,n]=d.useState(""),[a,o]=d.useState(""),[i,l]=d.useState(!1),{login:c}=zw(),u=async h=>{h.preventDefault(),o(""),l(!0),await c(e,r)||o("Invalid email or password. Please try again."),l(!1)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-email-background to-background flex items-center justify-center p-6",children:s.jsxs(_e,{className:"w-full max-w-md border-email-muted bg-card/80 backdrop-blur-sm",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 bg-email-primary/10 rounded-full w-fit",children:s.jsx(ck,{className:"h-8 w-8 text-email-primary"})}),s.jsx(Ve,{className:"text-2xl font-bold text-email-primary",children:"Email Campaign Manager"}),s.jsx(ot,{className:"text-muted-foreground",children:"Sign in to access your campaign dashboard"})]}),s.jsx(Ee,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",className:"text-email-secondary font-medium",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ps,{className:"absolute left-3 top-3 h-4 w-4 text-email-accent"}),s.jsx(be,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:h=>t(h.target.value),className:"pl-10 border-email-muted focus:border-email-primary",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"password",className:"text-email-secondary font-medium",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rn,{className:"absolute left-3 top-3 h-4 w-4 text-email-accent"}),s.jsx(be,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),className:"pl-10 border-email-muted focus:border-email-primary",required:!0})]})]}),a&&s.jsx(Hw,{className:"border-red-200 bg-red-50",children:s.jsx(Ww,{className:"text-red-600",children:a})}),s.jsx(D,{type:"submit",className:"w-full bg-email-primary hover:bg-email-primary/90 text-white",disabled:i,children:i?"Signing in...":"Sign In"})]})})]})})},K4=({children:e})=>{const{user:t,isLoading:r}=zw();return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-email-background to-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-email-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-email-secondary",children:"Loading..."})]})}):!t||!t.authenticated?s.jsx(q4,{}):s.jsx(s.Fragment,{children:e})},Oe="550e8400-e29b-41d4-a716-446655440000",tv=e=>{const t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255,a=Math.max(t,r,n),o=Math.min(t,r,n);let i,l,c=(a+o)/2;if(a===o)i=l=0;else{const u=a-o;switch(l=c>.5?u/(2-a-o):u/(a+o),a){case t:i=(r-n)/u+(r<n?6:0);break;case r:i=(n-t)/u+2;break;case n:i=(t-r)/u+4;break;default:i=0}i/=6}return[Math.round(i*360),Math.round(l*100),Math.round(c*100)]},Wd=(e,t,r)=>{const n=document.documentElement,a=(o,i)=>{if(!i||!/^#([0-9a-f]{3}){1,2}$/i.test(i))return;const[l,c,u]=tv(i);n.style.setProperty(`--${o}`,`${l} ${c}% ${u}%`),n.style.setProperty(`--email-${o}`,`${l} ${c}% ${u}%`);const h=u<55?"0 0% 100%":"220 15% 25%";n.style.setProperty(`--${o}-foreground`,h),n.style.setProperty(`--email-${o}-foreground`,h)};if(a("primary",e),a("secondary",t),a("accent",r),e){const[o,i,l]=tv(e);n.style.setProperty("--email-background",`${o} ${Math.max(i-70,5)}% ${Math.min(l+30,98)}%`),n.style.setProperty("--email-muted",`${o} ${Math.max(i-60,10)}% ${Math.min(l+20,95)}%`)}};let rt={primary:"#374151",secondary:"#fed7aa",accent:"#0e4a6e",initialized:!1};const Wc=()=>{const[e,t]=d.useState(rt),r=a=>{rt={...rt,...a},t(rt),Wd(rt.primary,rt.secondary,rt.accent)},n=async()=>{if(!rt.initialized)try{const{data:a,error:o}=await K.from("style_guides").select("page_theme_primary, page_theme_secondary, page_theme_accent").eq("user_id",Oe).order("created_at",{ascending:!1}).limit(1);if(o){console.error("Database error loading theme:",o),rt.initialized=!0;return}if(a&&a.length>0){const i=a[0];console.log("Loading saved theme:",i),rt={primary:i.page_theme_primary||rt.primary,secondary:i.page_theme_secondary||rt.secondary,accent:i.page_theme_accent||rt.accent,initialized:!0},Wd(rt.primary,rt.secondary,rt.accent),t({...rt})}else console.log("No saved theme found, using defaults"),rt.initialized=!0,Wd(rt.primary,rt.secondary,rt.accent)}catch(a){console.error("Error loading theme:",a),rt.initialized=!0}};return d.useEffect(()=>{n()},[]),{themeColors:e,updateTheme:r,initializeTheme:n}};function G4(e,t=[]){let r=[];function n(o,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:y,...w}=m,x=f?.[e][c]||l,b=d.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:b,children:y})}function h(m,f){const y=f?.[e][c]||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Y4(a,...t)]}function Y4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Q4=d.createContext(void 0);function qc(e){const t=d.useContext(Q4);return e||t||"ltr"}var qd="rovingFocusGroup.onEntryFocus",J4={bubbles:!1,cancelable:!0},Kc="RovingFocusGroup",[wh,qw,X4]=jc(Kc),[Z4,Gc]=G4(Kc,[X4]),[eA,tA]=Z4(Kc),Kw=d.forwardRef((e,t)=>s.jsx(wh.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(wh.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(rA,{...e,ref:t})})}));Kw.displayName=Kc;var rA=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,f=d.useRef(null),y=Re(t,f),w=qc(o),[x=null,b]=Or({prop:i,defaultProp:l,onChange:c}),[v,g]=d.useState(!1),p=Ot(u),j=qw(r),C=d.useRef(!1),[_,k]=d.useState(0);return d.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(qd,p),()=>S.removeEventListener(qd,p)},[p]),s.jsx(eA,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:x,onItemFocus:d.useCallback(S=>b(S),[b]),onItemShiftTab:d.useCallback(()=>g(!0),[]),onFocusableItemAdd:d.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:d.useCallback(()=>k(S=>S-1),[]),children:s.jsx(we.div,{tabIndex:v||_===0?-1:0,"data-orientation":n,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{C.current=!0}),onFocus:ae(e.onFocus,S=>{const A=!C.current;if(S.target===S.currentTarget&&A&&!v){const T=new CustomEvent(qd,J4);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const $=j().filter(W=>W.focusable),U=$.find(W=>W.active),Y=$.find(W=>W.id===x),re=[U,Y,...$].filter(Boolean).map(W=>W.ref.current);Qw(re,h)}}C.current=!1}),onBlur:ae(e.onBlur,()=>g(!1))})})}),Gw="RovingFocusGroupItem",Yw=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,...i}=e,l=gr(),c=o||l,u=tA(Gw,r),h=u.currentTabStopId===c,m=qw(r),{onFocusableItemAdd:f,onFocusableItemRemove:y}=u;return d.useEffect(()=>{if(n)return f(),()=>y()},[n,f,y]),s.jsx(wh.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(we.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:ae(e.onMouseDown,w=>{n?u.onItemFocus(c):w.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ae(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=aA(w,u.orientation,u.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=m().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const g=v.indexOf(w.currentTarget);v=u.loop?oA(v,g+1):v.slice(g+1)}setTimeout(()=>Qw(v))}})})})});Yw.displayName=Gw;var nA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function aA(e,t,r){const n=sA(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nA[n]}function Qw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function oA(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Jw=Kw,Xw=Yw,sm="Tabs",[iA,z3]=jr(sm,[Gc]),Zw=Gc(),[lA,am]=iA(sm),eb=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=qc(l),[m,f]=Or({prop:n,onChange:a,defaultProp:o});return s.jsx(lA,{scope:r,baseId:gr(),value:m,onValueChange:f,orientation:i,dir:h,activationMode:c,children:s.jsx(we.div,{dir:h,"data-orientation":i,...u,ref:t})})});eb.displayName=sm;var tb="TabsList",rb=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=am(tb,r),i=Zw(r);return s.jsx(Jw,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(we.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});rb.displayName=tb;var nb="TabsTrigger",sb=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=am(nb,r),l=Zw(r),c=ib(i.baseId,n),u=lb(i.baseId,n),h=n===i.value;return s.jsx(Xw,{asChild:!0,...l,focusable:!a,active:h,children:s.jsx(we.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ae(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(n):m.preventDefault()}),onKeyDown:ae(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(n)}),onFocus:ae(e.onFocus,()=>{const m=i.activationMode!=="manual";!h&&!a&&m&&i.onValueChange(n)})})})});sb.displayName=nb;var ab="TabsContent",ob=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,l=am(ab,r),c=ib(l.baseId,n),u=lb(l.baseId,n),h=n===l.value,m=d.useRef(h);return d.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Ut,{present:a||h,children:({present:f})=>s.jsx(we.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});ob.displayName=ab;function ib(e,t){return`${e}-trigger-${t}`}function lb(e,t){return`${e}-content-${t}`}var cA=eb,cb=rb,db=sb,ub=ob;const om=cA,Yc=d.forwardRef(({className:e,...t},r)=>s.jsx(cb,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Yc.displayName=cb.displayName;const ur=d.forwardRef(({className:e,...t},r)=>s.jsx(db,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ur.displayName=db.displayName;const tr=d.forwardRef(({className:e,...t},r)=>s.jsx(ub,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tr.displayName=ub.displayName;var Kd=0;function Qc(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rv()),document.body.insertAdjacentElement("beforeend",e[1]??rv()),Kd++,()=>{Kd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kd--}},[])}function rv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gd="focusScope.autoFocusOnMount",Yd="focusScope.autoFocusOnUnmount",nv={bubbles:!1,cancelable:!0},dA="FocusScope",mi=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=d.useState(null),u=Ot(a),h=Ot(o),m=d.useRef(null),f=Re(t,x=>c(x)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let x=function(p){if(y.paused||!l)return;const j=p.target;l.contains(j)?m.current=j:Cn(m.current,{select:!0})},b=function(p){if(y.paused||!l)return;const j=p.relatedTarget;j!==null&&(l.contains(j)||Cn(m.current,{select:!0}))},v=function(p){if(document.activeElement===document.body)for(const C of p)C.removedNodes.length>0&&Cn(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),g.disconnect()}}},[n,l,y.paused]),d.useEffect(()=>{if(l){av.add(y);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(Gd,nv);l.addEventListener(Gd,u),l.dispatchEvent(v),v.defaultPrevented||(uA(gA(hb(l)),{select:!0}),document.activeElement===x&&Cn(l))}return()=>{l.removeEventListener(Gd,u),setTimeout(()=>{const v=new CustomEvent(Yd,nv);l.addEventListener(Yd,h),l.dispatchEvent(v),v.defaultPrevented||Cn(x??document.body,{select:!0}),l.removeEventListener(Yd,h),av.remove(y)},0)}}},[l,u,h,y]);const w=d.useCallback(x=>{if(!r&&!n||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(b&&v){const g=x.currentTarget,[p,j]=hA(g);p&&j?!x.shiftKey&&v===j?(x.preventDefault(),r&&Cn(p,{select:!0})):x.shiftKey&&v===p&&(x.preventDefault(),r&&Cn(j,{select:!0})):v===g&&x.preventDefault()}},[r,n,y.paused]);return s.jsx(we.div,{tabIndex:-1,...i,ref:f,onKeyDown:w})});mi.displayName=dA;function uA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cn(n,{select:t}),document.activeElement!==r)return}function hA(e){const t=hb(e),r=sv(t,e),n=sv(t.reverse(),e);return[r,n]}function hb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sv(e,t){for(const r of e)if(!fA(r,{upTo:t}))return r}function fA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mA(e){return e instanceof HTMLInputElement&&"select"in e}function Cn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&mA(e)&&t&&e.select()}}var av=pA();function pA(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=ov(e,t),e.unshift(t)},remove(t){e=ov(e,t),e[0]?.resume()}}}function ov(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function gA(e){return e.filter(t=>t.tagName!=="A")}var vA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bs=new WeakMap,Ki=new WeakMap,Gi={},Qd=0,fb=function(e){return e&&(e.host||fb(e.parentNode))},xA=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=fb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},yA=function(e,t,r,n){var a=xA(t,Array.isArray(e)?e:[e]);Gi[r]||(Gi[r]=new WeakMap);var o=Gi[r],i=[],l=new Set,c=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))h(f);else try{var y=f.getAttribute(n),w=y!==null&&y!=="false",x=(Bs.get(f)||0)+1,b=(o.get(f)||0)+1;Bs.set(f,x),o.set(f,b),i.push(f),x===1&&w&&Ki.set(f,!0),b===1&&f.setAttribute(r,"true"),w||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return h(t),l.clear(),Qd++,function(){i.forEach(function(m){var f=Bs.get(m)-1,y=o.get(m)-1;Bs.set(m,f),o.set(m,y),f||(Ki.has(m)||m.removeAttribute(n),Ki.delete(m)),y||m.removeAttribute(r)}),Qd--,Qd||(Bs=new WeakMap,Bs=new WeakMap,Ki=new WeakMap,Gi={})}},Jc=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=vA(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),yA(n,a,r,"aria-hidden")):function(){return null}},Wr=function(){return Wr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wr.apply(this,arguments)};function mb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wA(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var fl="right-scroll-bar-position",ml="width-before-scroll-bar",bA="with-scroll-bars-hidden",jA="--removed-body-scroll-bar-size";function Jd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _A(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var NA=typeof window<"u"?d.useLayoutEffect:d.useEffect,iv=new WeakMap;function CA(e,t){var r=_A(null,function(n){return e.forEach(function(a){return Jd(a,n)})});return NA(function(){var n=iv.get(r);if(n){var a=new Set(n),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||Jd(l,null)}),o.forEach(function(l){a.has(l)||Jd(l,i)})}iv.set(r,e)},[e]),r}function SA(e){return e}function kA(e,t){t===void 0&&(t=SA);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return a}function EA(e){e===void 0&&(e={});var t=kA(null);return t.options=Wr({async:!0,ssr:!1},e),t}var pb=function(e){var t=e.sideCar,r=mb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,Wr({},r))};pb.isSideCarExport=!0;function TA(e,t){return e.useMedium(t),pb}var gb=EA(),Xd=function(){},Xc=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:Xd,onWheelCapture:Xd,onTouchMoveCapture:Xd}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,f=e.sideCar,y=e.noIsolation,w=e.inert,x=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,g=e.gapMode,p=mb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,C=CA([r,t]),_=Wr(Wr({},p),a);return d.createElement(d.Fragment,null,h&&d.createElement(j,{sideCar:gb,removeScrollBar:u,shards:m,noIsolation:y,inert:w,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:g}),i?d.cloneElement(d.Children.only(l),Wr(Wr({},_),{ref:C})):d.createElement(v,Wr({},_,{className:c,ref:C}),l))});Xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xc.classNames={fullWidth:ml,zeroRight:fl};var PA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PA();return t&&e.setAttribute("nonce",t),e}function AA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RA())&&(AA(t,r),IA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},OA=function(){var e=MA();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vb=function(){var e=OA(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},DA={left:0,top:0,right:0,gap:0},Zd=function(e){return parseInt(e||"",10)||0},LA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Zd(r),Zd(n),Zd(a)]},$A=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DA;var t=LA(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},FA=vb(),ya="data-scroll-locked",zA=function(e,t,r,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(bA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ya,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ml,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(fl," .").concat(fl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ml," .").concat(ml,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ya,`] {
    `).concat(jA,": ").concat(l,`px;
  }
`)},lv=function(){var e=parseInt(document.body.getAttribute(ya)||"0",10);return isFinite(e)?e:0},UA=function(){d.useEffect(function(){return document.body.setAttribute(ya,(lv()+1).toString()),function(){var e=lv()-1;e<=0?document.body.removeAttribute(ya):document.body.setAttribute(ya,e.toString())}},[])},BA=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;UA();var o=d.useMemo(function(){return $A(a)},[a]);return d.createElement(FA,{styles:zA(o,!t,a,r?"":"!important")})},bh=!1;if(typeof window<"u")try{var Yi=Object.defineProperty({},"passive",{get:function(){return bh=!0,!0}});window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{bh=!1}var Vs=bh?{passive:!1}:!1,VA=function(e){return e.tagName==="TEXTAREA"},xb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!VA(e)&&r[t]==="visible")},HA=function(e){return xb(e,"overflowY")},WA=function(e){return xb(e,"overflowX")},cv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=yb(e,n);if(a){var o=wb(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qA=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},KA=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},yb=function(e,t){return e==="v"?HA(t):WA(t)},wb=function(e,t){return e==="v"?qA(t):KA(t)},GA=function(e,t){return e==="h"&&t==="rtl"?-1:1},YA=function(e,t,r,n,a){var o=GA(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,h=i>0,m=0,f=0;do{var y=wb(e,l),w=y[0],x=y[1],b=y[2],v=x-b-o*w;(w||v)&&yb(e,l)&&(m+=v,f+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(m)<1||!a)||!h&&(Math.abs(f)<1||!a))&&(u=!0),u},Qi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dv=function(e){return[e.deltaX,e.deltaY]},uv=function(e){return e&&"current"in e?e.current:e},QA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XA=0,Hs=[];function ZA(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),a=d.useState(XA++)[0],o=d.useState(vb)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=wA([e.lockRef.current],(e.shards||[]).map(uv),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=Qi(x),g=r.current,p="deltaX"in x?x.deltaX:g[0]-v[0],j="deltaY"in x?x.deltaY:g[1]-v[1],C,_=x.target,k=Math.abs(p)>Math.abs(j)?"h":"v";if("touches"in x&&k==="h"&&_.type==="range")return!1;var S=cv(k,_);if(!S)return!0;if(S?C=k:(C=k==="v"?"h":"v",S=cv(k,_)),!S)return!1;if(!n.current&&"changedTouches"in x&&(p||j)&&(n.current=C),!C)return!0;var A=n.current||C;return YA(A,b,x,A==="h"?p:j,!0)},[]),c=d.useCallback(function(x){var b=x;if(!(!Hs.length||Hs[Hs.length-1]!==o)){var v="deltaY"in b?dv(b):Qi(b),g=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&QA(C.delta,v)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var p=(i.current.shards||[]).map(uv).filter(Boolean).filter(function(C){return C.contains(b.target)}),j=p.length>0?l(b,p[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(x,b,v,g){var p={name:x,delta:b,target:v,should:g,shadowParent:eI(v)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(j){return j!==p})},1)},[]),h=d.useCallback(function(x){r.current=Qi(x),n.current=void 0},[]),m=d.useCallback(function(x){u(x.type,dv(x),x.target,l(x,e.lockRef.current))},[]),f=d.useCallback(function(x){u(x.type,Qi(x),x.target,l(x,e.lockRef.current))},[]);d.useEffect(function(){return Hs.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Vs),document.addEventListener("touchmove",c,Vs),document.addEventListener("touchstart",h,Vs),function(){Hs=Hs.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Vs),document.removeEventListener("touchmove",c,Vs),document.removeEventListener("touchstart",h,Vs)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(o,{styles:JA(a)}):null,y?d.createElement(BA,{gapMode:e.gapMode}):null)}function eI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tI=TA(gb,ZA);var pi=d.forwardRef(function(e,t){return d.createElement(Xc,Wr({},e,{ref:t,sideCar:tI}))});pi.classNames=Xc.classNames;var jh=["Enter"," "],rI=["ArrowDown","PageUp","Home"],bb=["ArrowUp","PageDown","End"],nI=[...rI,...bb],sI={ltr:[...jh,"ArrowRight"],rtl:[...jh,"ArrowLeft"]},aI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gi="Menu",[Xo,oI,iI]=jc(gi),[Ms,jb]=jr(gi,[iI,ts,Gc]),Zc=ts(),_b=Gc(),[lI,Os]=Ms(gi),[cI,vi]=Ms(gi),Nb=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=Zc(t),[c,u]=d.useState(null),h=d.useRef(!1),m=Ot(o),f=qc(a);return d.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(Kf,{...l,children:s.jsx(lI,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:u,children:s.jsx(cI,{scope:t,onClose:d.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:f,modal:i,children:n})})})};Nb.displayName=gi;var dI="MenuAnchor",im=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Zc(r);return s.jsx(di,{...a,...n,ref:t})});im.displayName=dI;var lm="MenuPortal",[uI,Cb]=Ms(lm,{forceMount:void 0}),Sb=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=Os(lm,t);return s.jsx(uI,{scope:t,forceMount:r,children:s.jsx(Ut,{present:r||o.open,children:s.jsx(La,{asChild:!0,container:a,children:n})})})};Sb.displayName=lm;var vr="MenuContent",[hI,cm]=Ms(vr),kb=d.forwardRef((e,t)=>{const r=Cb(vr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=Os(vr,e.__scopeMenu),i=vi(vr,e.__scopeMenu);return s.jsx(Xo.Provider,{scope:e.__scopeMenu,children:s.jsx(Ut,{present:n||o.open,children:s.jsx(Xo.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(fI,{...a,ref:t}):s.jsx(mI,{...a,ref:t})})})})}),fI=d.forwardRef((e,t)=>{const r=Os(vr,e.__scopeMenu),n=d.useRef(null),a=Re(t,n);return d.useEffect(()=>{const o=n.current;if(o)return Jc(o)},[]),s.jsx(dm,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),mI=d.forwardRef((e,t)=>{const r=Os(vr,e.__scopeMenu);return s.jsx(dm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dm=d.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,onDismiss:y,disableOutsideScroll:w,...x}=e,b=Os(vr,r),v=vi(vr,r),g=Zc(r),p=_b(r),j=oI(r),[C,_]=d.useState(null),k=d.useRef(null),S=Re(t,k,b.onContentChange),A=d.useRef(0),T=d.useRef(""),$=d.useRef(0),U=d.useRef(null),Y=d.useRef("right"),L=d.useRef(0),re=w?pi:d.Fragment,W=w?{as:fn,allowPinchZoom:!0}:void 0,q=I=>{const R=T.current+I,z=j().filter(Z=>!Z.disabled),F=document.activeElement,X=z.find(Z=>Z.ref.current===F)?.textValue,ce=z.map(Z=>Z.textValue),ge=SI(ce,R,X),J=z.find(Z=>Z.textValue===ge)?.ref.current;(function Z(E){T.current=E,window.clearTimeout(A.current),E!==""&&(A.current=window.setTimeout(()=>Z(""),1e3))})(R),J&&setTimeout(()=>J.focus())};d.useEffect(()=>()=>window.clearTimeout(A.current),[]),Qc();const P=d.useCallback(I=>Y.current===U.current?.side&&EI(I,U.current?.area),[]);return s.jsx(hI,{scope:r,searchRef:T,onItemEnter:d.useCallback(I=>{P(I)&&I.preventDefault()},[P]),onItemLeave:d.useCallback(I=>{P(I)||(k.current?.focus(),_(null))},[P]),onTriggerLeave:d.useCallback(I=>{P(I)&&I.preventDefault()},[P]),pointerGraceTimerRef:$,onPointerGraceIntentChange:d.useCallback(I=>{U.current=I},[]),children:s.jsx(re,{...W,children:s.jsx(mi,{asChild:!0,trapped:a,onMountAutoFocus:ae(o,I=>{I.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(As,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,onDismiss:y,children:s.jsx(Jw,{asChild:!0,...p,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:_,onEntryFocus:ae(c,I=>{v.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ec,{role:"menu","aria-orientation":"vertical","data-state":Vb(b.open),"data-radix-menu-content":"",dir:v.dir,...g,...x,ref:S,style:{outline:"none",...x.style},onKeyDown:ae(x.onKeyDown,I=>{const z=I.target.closest("[data-radix-menu-content]")===I.currentTarget,F=I.ctrlKey||I.altKey||I.metaKey,X=I.key.length===1;z&&(I.key==="Tab"&&I.preventDefault(),!F&&X&&q(I.key));const ce=k.current;if(I.target!==ce||!nI.includes(I.key))return;I.preventDefault();const J=j().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);bb.includes(I.key)&&J.reverse(),NI(J)}),onBlur:ae(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:ae(e.onPointerMove,Zo(I=>{const R=I.target,z=L.current!==I.clientX;if(I.currentTarget.contains(R)&&z){const F=I.clientX>L.current?"right":"left";Y.current=F,L.current=I.clientX}}))})})})})})})});kb.displayName=vr;var pI="MenuGroup",um=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(we.div,{role:"group",...n,ref:t})});um.displayName=pI;var gI="MenuLabel",Eb=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(we.div,{...n,ref:t})});Eb.displayName=gI;var Xl="MenuItem",hv="menu.itemSelect",ed=d.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=d.useRef(null),i=vi(Xl,e.__scopeMenu),l=cm(Xl,e.__scopeMenu),c=Re(t,o),u=d.useRef(!1),h=()=>{const m=o.current;if(!r&&m){const f=new CustomEvent(hv,{bubbles:!0,cancelable:!0});m.addEventListener(hv,y=>n?.(y),{once:!0}),Rf(m,f),f.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(Tb,{...a,ref:c,disabled:r,onClick:ae(e.onClick,h),onPointerDown:m=>{e.onPointerDown?.(m),u.current=!0},onPointerUp:ae(e.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:ae(e.onKeyDown,m=>{const f=l.searchRef.current!=="";r||f&&m.key===" "||jh.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});ed.displayName=Xl;var Tb=d.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,i=cm(Xl,r),l=_b(r),c=d.useRef(null),u=Re(t,c),[h,m]=d.useState(!1),[f,y]=d.useState("");return d.useEffect(()=>{const w=c.current;w&&y((w.textContent??"").trim())},[o.children]),s.jsx(Xo.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:s.jsx(Xw,{asChild:!0,...l,focusable:!n,children:s.jsx(we.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ae(e.onPointerMove,Zo(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,Zo(w=>i.onItemLeave(w))),onFocus:ae(e.onFocus,()=>m(!0)),onBlur:ae(e.onBlur,()=>m(!1))})})})}),vI="MenuCheckboxItem",Pb=d.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(Ob,{scope:e.__scopeMenu,checked:r,children:s.jsx(ed,{role:"menuitemcheckbox","aria-checked":Zl(r)?"mixed":r,...a,ref:t,"data-state":fm(r),onSelect:ae(a.onSelect,()=>n?.(Zl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Pb.displayName=vI;var Rb="MenuRadioGroup",[xI,yI]=Ms(Rb,{value:void 0,onValueChange:()=>{}}),Ab=d.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=Ot(n);return s.jsx(xI,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx(um,{...a,ref:t})})});Ab.displayName=Rb;var Ib="MenuRadioItem",Mb=d.forwardRef((e,t)=>{const{value:r,...n}=e,a=yI(Ib,e.__scopeMenu),o=r===a.value;return s.jsx(Ob,{scope:e.__scopeMenu,checked:o,children:s.jsx(ed,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":fm(o),onSelect:ae(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Mb.displayName=Ib;var hm="MenuItemIndicator",[Ob,wI]=Ms(hm,{checked:!1}),Db=d.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=wI(hm,r);return s.jsx(Ut,{present:n||Zl(o.checked)||o.checked===!0,children:s.jsx(we.span,{...a,ref:t,"data-state":fm(o.checked)})})});Db.displayName=hm;var bI="MenuSeparator",Lb=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Lb.displayName=bI;var jI="MenuArrow",$b=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Zc(r);return s.jsx(Tc,{...a,...n,ref:t})});$b.displayName=jI;var _I="MenuSub",[U3,Fb]=Ms(_I),ho="MenuSubTrigger",zb=d.forwardRef((e,t)=>{const r=Os(ho,e.__scopeMenu),n=vi(ho,e.__scopeMenu),a=Fb(ho,e.__scopeMenu),o=cm(ho,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(im,{asChild:!0,...u,children:s.jsx(Tb,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Vb(r.open),...e,ref:bc(t,a.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,Zo(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:ae(e.onPointerLeave,Zo(m=>{h();const f=r.content?.getBoundingClientRect();if(f){const y=r.content?.dataset.side,w=y==="right",x=w?-5:5,b=f[w?"left":"right"],v=f[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:b,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:b,y:f.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,m=>{const f=o.searchRef.current!=="";e.disabled||f&&m.key===" "||sI[n.dir].includes(m.key)&&(r.onOpenChange(!0),r.content?.focus(),m.preventDefault())})})})});zb.displayName=ho;var Ub="MenuSubContent",Bb=d.forwardRef((e,t)=>{const r=Cb(vr,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=Os(vr,e.__scopeMenu),i=vi(vr,e.__scopeMenu),l=Fb(Ub,e.__scopeMenu),c=d.useRef(null),u=Re(t,c);return s.jsx(Xo.Provider,{scope:e.__scopeMenu,children:s.jsx(Ut,{present:n||o.open,children:s.jsx(Xo.Slot,{scope:e.__scopeMenu,children:s.jsx(dm,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{i.isUsingKeyboardRef.current&&c.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ae(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:ae(e.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),f=aI[i.dir].includes(h.key);m&&f&&(o.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});Bb.displayName=Ub;function Vb(e){return e?"open":"closed"}function Zl(e){return e==="indeterminate"}function fm(e){return Zl(e)?"indeterminate":e?"checked":"unchecked"}function NI(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function CI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function SI(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=CI(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function kI(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,h=t[i].y;c>n!=h>n&&r<(u-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function EI(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return kI(r,t)}function Zo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var TI=Nb,PI=im,RI=Sb,AI=kb,II=um,MI=Eb,OI=ed,DI=Pb,LI=Ab,$I=Mb,FI=Db,zI=Lb,UI=$b,BI=zb,VI=Bb,mm="DropdownMenu",[HI,B3]=jr(mm,[jb]),Bt=jb(),[WI,Hb]=HI(mm),Wb=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Bt(t),u=d.useRef(null),[h=!1,m]=Or({prop:a,defaultProp:o,onChange:i});return s.jsx(WI,{scope:t,triggerId:gr(),triggerRef:u,contentId:gr(),open:h,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(f=>!f),[m]),modal:l,children:s.jsx(TI,{...c,open:h,onOpenChange:m,dir:n,modal:l,children:r})})};Wb.displayName=mm;var qb="DropdownMenuTrigger",Kb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=Hb(qb,r),i=Bt(r);return s.jsx(PI,{asChild:!0,...i,children:s.jsx(we.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:bc(t,o.triggerRef),onPointerDown:ae(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ae(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Kb.displayName=qb;var qI="DropdownMenuPortal",Gb=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Bt(t);return s.jsx(RI,{...n,...r})};Gb.displayName=qI;var Yb="DropdownMenuContent",Qb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Hb(Yb,r),o=Bt(r),i=d.useRef(!1);return s.jsx(AI,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,l=>{i.current||a.triggerRef.current?.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!a.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qb.displayName=Yb;var KI="DropdownMenuGroup",GI=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(II,{...a,...n,ref:t})});GI.displayName=KI;var YI="DropdownMenuLabel",Jb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(MI,{...a,...n,ref:t})});Jb.displayName=YI;var QI="DropdownMenuItem",Xb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(OI,{...a,...n,ref:t})});Xb.displayName=QI;var JI="DropdownMenuCheckboxItem",Zb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(DI,{...a,...n,ref:t})});Zb.displayName=JI;var XI="DropdownMenuRadioGroup",ZI=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(LI,{...a,...n,ref:t})});ZI.displayName=XI;var eM="DropdownMenuRadioItem",ej=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx($I,{...a,...n,ref:t})});ej.displayName=eM;var tM="DropdownMenuItemIndicator",tj=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(FI,{...a,...n,ref:t})});tj.displayName=tM;var rM="DropdownMenuSeparator",rj=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(zI,{...a,...n,ref:t})});rj.displayName=rM;var nM="DropdownMenuArrow",sM=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(UI,{...a,...n,ref:t})});sM.displayName=nM;var aM="DropdownMenuSubTrigger",nj=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(BI,{...a,...n,ref:t})});nj.displayName=aM;var oM="DropdownMenuSubContent",sj=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Bt(r);return s.jsx(VI,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sj.displayName=oM;var iM=Wb,lM=Kb,cM=Gb,aj=Qb,oj=Jb,ij=Xb,lj=Zb,cj=ej,dj=tj,uj=rj,hj=nj,fj=sj;const dM=iM,uM=lM,hM=d.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(hj,{ref:a,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Of,{className:"ml-auto h-4 w-4"})]}));hM.displayName=hj.displayName;const fM=d.forwardRef(({className:e,...t},r)=>s.jsx(fj,{ref:r,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fM.displayName=fj.displayName;const mj=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(cM,{children:s.jsx(aj,{ref:n,sideOffset:t,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));mj.displayName=aj.displayName;const Qs=d.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(ij,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Qs.displayName=ij.displayName;const mM=d.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(lj,{ref:a,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dj,{children:s.jsx(Hr,{className:"h-4 w-4"})})}),t]}));mM.displayName=lj.displayName;const pM=d.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(cj,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dj,{children:s.jsx(rk,{className:"h-2 w-2 fill-current"})})}),t]}));pM.displayName=cj.displayName;const gM=d.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(oj,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));gM.displayName=oj.displayName;const vM=d.forwardRef(({className:e,...t},r)=>s.jsx(uj,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));vM.displayName=uj.displayName;const xr=d.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));xr.displayName="Textarea";const xM=li("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return s.jsx("div",{className:he(xM({variant:t}),e),...r})}function fv(e,[t,r]){return Math.min(r,Math.max(t,e))}function pm(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yM=[" ","Enter","ArrowUp","ArrowDown"],wM=[" ","Enter"],xi="Select",[td,rd,bM]=jc(xi),[qa,V3]=jr(xi,[bM,ts]),nd=ts(),[jM,ns]=qa(xi),[_M,NM]=qa(xi),pj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:m,disabled:f,required:y,form:w}=e,x=nd(t),[b,v]=d.useState(null),[g,p]=d.useState(null),[j,C]=d.useState(!1),_=qc(u),[k=!1,S]=Or({prop:n,defaultProp:a,onChange:o}),[A,T]=Or({prop:i,defaultProp:l,onChange:c}),$=d.useRef(null),U=b?w||!!b.closest("form"):!0,[Y,L]=d.useState(new Set),re=Array.from(Y).map(W=>W.props.value).join(";");return s.jsx(Kf,{...x,children:s.jsxs(jM,{required:y,scope:t,trigger:b,onTriggerChange:v,valueNode:g,onValueNodeChange:p,valueNodeHasChildren:j,onValueNodeHasChildrenChange:C,contentId:gr(),value:A,onValueChange:T,open:k,onOpenChange:S,dir:_,triggerPointerDownPosRef:$,disabled:f,children:[s.jsx(td.Provider,{scope:t,children:s.jsx(_M,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(W=>{L(q=>new Set(q).add(W))},[]),onNativeOptionRemove:d.useCallback(W=>{L(q=>{const P=new Set(q);return P.delete(W),P})},[]),children:r})}),U?s.jsxs(zj,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:m,value:A,onChange:W=>T(W.target.value),disabled:f,form:w,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(Y)]},re):null]})})};pj.displayName=xi;var gj="SelectTrigger",vj=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=nd(r),i=ns(gj,r),l=i.disabled||n,c=Re(t,i.onTriggerChange),u=rd(r),h=d.useRef("touch"),[m,f,y]=Uj(x=>{const b=u().filter(p=>!p.disabled),v=b.find(p=>p.value===i.value),g=Bj(b,x,v);g!==void 0&&i.onValueChange(g.value)}),w=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(di,{asChild:!0,...o,children:s.jsx(we.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Fj(i.value)?"":void 0,...a,ref:c,onClick:ae(a.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:ae(a.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:ae(a.onKeyDown,x=>{const b=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(b&&x.key===" ")&&yM.includes(x.key)&&(w(),x.preventDefault())})})})});vj.displayName=gj;var xj="SelectValue",yj=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...l}=e,c=ns(xj,r),{onValueNodeHasChildrenChange:u}=c,h=o!==void 0,m=Re(t,c.onValueNodeChange);return kt(()=>{u(h)},[u,h]),s.jsx(we.span,{...l,ref:m,style:{pointerEvents:"none"},children:Fj(c.value)?s.jsx(s.Fragment,{children:i}):o})});yj.displayName=xj;var CM="SelectIcon",wj=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(we.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});wj.displayName=CM;var SM="SelectPortal",bj=e=>s.jsx(La,{asChild:!0,...e});bj.displayName=SM;var ks="SelectContent",jj=d.forwardRef((e,t)=>{const r=ns(ks,e.__scopeSelect),[n,a]=d.useState();if(kt(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?Rs.createPortal(s.jsx(_j,{scope:e.__scopeSelect,children:s.jsx(td.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(Nj,{...e,ref:t})});jj.displayName=ks;var Cr=10,[_j,ss]=qa(ks),kM="SelectContentImpl",Nj=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:f,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b,...v}=e,g=ns(ks,r),[p,j]=d.useState(null),[C,_]=d.useState(null),k=Re(t,Z=>j(Z)),[S,A]=d.useState(null),[T,$]=d.useState(null),U=rd(r),[Y,L]=d.useState(!1),re=d.useRef(!1);d.useEffect(()=>{if(p)return Jc(p)},[p]),Qc();const W=d.useCallback(Z=>{const[E,...N]=U().map(se=>se.ref.current),[O]=N.slice(-1),Q=document.activeElement;for(const se of Z)if(se===Q||(se?.scrollIntoView({block:"nearest"}),se===E&&C&&(C.scrollTop=0),se===O&&C&&(C.scrollTop=C.scrollHeight),se?.focus(),document.activeElement!==Q))return},[U,C]),q=d.useCallback(()=>W([S,p]),[W,S,p]);d.useEffect(()=>{Y&&q()},[Y,q]);const{onOpenChange:P,triggerPointerDownPosRef:I}=g;d.useEffect(()=>{if(p){let Z={x:0,y:0};const E=O=>{Z={x:Math.abs(Math.round(O.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(O.pageY)-(I.current?.y??0))}},N=O=>{Z.x<=10&&Z.y<=10?O.preventDefault():p.contains(O.target)||P(!1),document.removeEventListener("pointermove",E),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",E),document.addEventListener("pointerup",N,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",N,{capture:!0})}}},[p,P,I]),d.useEffect(()=>{const Z=()=>P(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[P]);const[R,z]=Uj(Z=>{const E=U().filter(Q=>!Q.disabled),N=E.find(Q=>Q.ref.current===document.activeElement),O=Bj(E,Z,N);O&&setTimeout(()=>O.ref.current.focus())}),F=d.useCallback((Z,E,N)=>{const O=!re.current&&!N;(g.value!==void 0&&g.value===E||O)&&(A(Z),O&&(re.current=!0))},[g.value]),X=d.useCallback(()=>p?.focus(),[p]),ce=d.useCallback((Z,E,N)=>{const O=!re.current&&!N;(g.value!==void 0&&g.value===E||O)&&$(Z)},[g.value]),ge=n==="popper"?_h:Cj,J=ge===_h?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:f,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return s.jsx(_j,{scope:r,content:p,viewport:C,onViewportChange:_,itemRefCallback:F,selectedItem:S,onItemLeave:X,itemTextRefCallback:ce,focusSelectedItem:q,selectedItemText:T,position:n,isPositioned:Y,searchRef:R,children:s.jsx(pi,{as:fn,allowPinchZoom:!0,children:s.jsx(mi,{asChild:!0,trapped:g.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ae(a,Z=>{g.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:s.jsx(As,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Z=>Z.preventDefault(),...v,...J,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ae(v.onKeyDown,Z=>{const E=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!E&&Z.key.length===1&&z(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let O=U().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Q=Z.target,se=O.indexOf(Q);O=O.slice(se+1)}setTimeout(()=>W(O)),Z.preventDefault()}})})})})})})});Nj.displayName=kM;var EM="SelectItemAlignedPosition",Cj=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=ns(ks,r),i=ss(ks,r),[l,c]=d.useState(null),[u,h]=d.useState(null),m=Re(t,k=>h(k)),f=rd(r),y=d.useRef(!1),w=d.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:v,focusSelectedItem:g}=i,p=d.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&b&&v){const k=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(o.dir!=="rtl"){const Q=T.left-S.left,se=A.left-Q,fe=k.left-se,ne=k.width+fe,ye=Math.max(ne,S.width),Ne=window.innerWidth-Cr,Fe=fv(se,[Cr,Math.max(Cr,Ne-ye)]);l.style.minWidth=ne+"px",l.style.left=Fe+"px"}else{const Q=S.right-T.right,se=window.innerWidth-A.right-Q,fe=window.innerWidth-k.right-se,ne=k.width+fe,ye=Math.max(ne,S.width),Ne=window.innerWidth-Cr,Fe=fv(se,[Cr,Math.max(Cr,Ne-ye)]);l.style.minWidth=ne+"px",l.style.right=Fe+"px"}const $=f(),U=window.innerHeight-Cr*2,Y=x.scrollHeight,L=window.getComputedStyle(u),re=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),q=parseInt(L.borderBottomWidth,10),P=parseInt(L.paddingBottom,10),I=re+W+Y+P+q,R=Math.min(b.offsetHeight*5,I),z=window.getComputedStyle(x),F=parseInt(z.paddingTop,10),X=parseInt(z.paddingBottom,10),ce=k.top+k.height/2-Cr,ge=U-ce,J=b.offsetHeight/2,Z=b.offsetTop+J,E=re+W+Z,N=I-E;if(E<=ce){const Q=$.length>0&&b===$[$.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-x.offsetTop-x.offsetHeight,fe=Math.max(ge,J+(Q?X:0)+se+q),ne=E+fe;l.style.height=ne+"px"}else{const Q=$.length>0&&b===$[0].ref.current;l.style.top="0px";const fe=Math.max(ce,re+x.offsetTop+(Q?F:0)+J)+N;l.style.height=fe+"px",x.scrollTop=E-ce+x.offsetTop}l.style.margin=`${Cr}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>y.current=!0)}},[f,o.trigger,o.valueNode,l,u,x,b,v,o.dir,n]);kt(()=>p(),[p]);const[j,C]=d.useState();kt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const _=d.useCallback(k=>{k&&w.current===!0&&(p(),g?.(),w.current=!1)},[p,g]);return s.jsx(PM,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(we.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Cj.displayName=EM;var TM="SelectPopperPosition",_h=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Cr,...o}=e,i=nd(r);return s.jsx(Ec,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_h.displayName=TM;var[PM,gm]=qa(ks,{}),Nh="SelectViewport",Sj=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=ss(Nh,r),i=gm(Nh,r),l=Re(t,o.onViewportChange),c=d.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(td.Slot,{scope:r,children:s.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ae(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=i;if(f?.current&&m){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-Cr*2,x=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),v=Math.max(x,b);if(v<w){const g=v+y,p=Math.min(w,g),j=g-p;m.style.height=p+"px",m.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Sj.displayName=Nh;var kj="SelectGroup",[RM,AM]=qa(kj),IM=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=gr();return s.jsx(RM,{scope:r,id:a,children:s.jsx(we.div,{role:"group","aria-labelledby":a,...n,ref:t})})});IM.displayName=kj;var Ej="SelectLabel",Tj=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=AM(Ej,r);return s.jsx(we.div,{id:a.id,...n,ref:t})});Tj.displayName=Ej;var ec="SelectItem",[MM,Pj]=qa(ec),Rj=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,l=ns(ec,r),c=ss(ec,r),u=l.value===n,[h,m]=d.useState(o??""),[f,y]=d.useState(!1),w=Re(t,g=>c.itemRefCallback?.(g,n,a)),x=gr(),b=d.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(MM,{scope:r,value:n,disabled:a,textId:x,isSelected:u,onItemTextChange:d.useCallback(g=>{m(p=>p||(g?.textContent??"").trim())},[]),children:s.jsx(td.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:s.jsx(we.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:w,onFocus:ae(i.onFocus,()=>y(!0)),onBlur:ae(i.onBlur,()=>y(!1)),onClick:ae(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ae(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ae(i.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:ae(i.onPointerMove,g=>{b.current=g.pointerType,a?c.onItemLeave?.():b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(i.onPointerLeave,g=>{g.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ae(i.onKeyDown,g=>{c.searchRef?.current!==""&&g.key===" "||(wM.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});Rj.displayName=ec;var fo="SelectItemText",Aj=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=ns(fo,r),l=ss(fo,r),c=Pj(fo,r),u=NM(fo,r),[h,m]=d.useState(null),f=Re(t,v=>m(v),c.onItemTextChange,v=>l.itemTextRefCallback?.(v,c.value,c.disabled)),y=h?.textContent,w=d.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return kt(()=>(x(w),()=>b(w)),[x,b,w]),s.jsxs(s.Fragment,{children:[s.jsx(we.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Rs.createPortal(o.children,i.valueNode):null]})});Aj.displayName=fo;var Ij="SelectItemIndicator",Mj=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Pj(Ij,r).isSelected?s.jsx(we.span,{"aria-hidden":!0,...n,ref:t}):null});Mj.displayName=Ij;var Ch="SelectScrollUpButton",Oj=d.forwardRef((e,t)=>{const r=ss(Ch,e.__scopeSelect),n=gm(Ch,e.__scopeSelect),[a,o]=d.useState(!1),i=Re(t,n.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Lj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Oj.displayName=Ch;var Sh="SelectScrollDownButton",Dj=d.forwardRef((e,t)=>{const r=ss(Sh,e.__scopeSelect),n=gm(Sh,e.__scopeSelect),[a,o]=d.useState(!1),i=Re(t,n.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;o(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Lj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Dj.displayName=Sh;var Lj=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=ss("SelectScrollButton",r),i=d.useRef(null),l=rd(r),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),kt(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(we.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ae(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ae(a.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ae(a.onPointerLeave,()=>{c()})})}),OM="SelectSeparator",$j=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(we.div,{"aria-hidden":!0,...n,ref:t})});$j.displayName=OM;var kh="SelectArrow",DM=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=nd(r),o=ns(kh,r),i=ss(kh,r);return o.open&&i.position==="popper"?s.jsx(Tc,{...a,...n,ref:t}):null});DM.displayName=kh;function Fj(e){return e===""||e===void 0}var zj=d.forwardRef((e,t)=>{const{value:r,...n}=e,a=d.useRef(null),o=Re(t,a),i=pm(r);return d.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[i,r]),s.jsx(ii,{asChild:!0,children:s.jsx("select",{...n,ref:o,defaultValue:r})})});zj.displayName="BubbleSelect";function Uj(e){const t=Ot(e),r=d.useRef(""),n=d.useRef(0),a=d.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function Bj(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=LM(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function LM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $M=pj,Vj=vj,FM=yj,zM=wj,UM=bj,Hj=jj,BM=Sj,Wj=Tj,qj=Rj,VM=Aj,HM=Mj,Kj=Oj,Gj=Dj,Yj=$j;const At=$M,It=FM,jt=d.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Vj,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(zM,{asChild:!0,children:s.jsx($a,{className:"h-4 w-4 opacity-50"})})]}));jt.displayName=Vj.displayName;const Qj=d.forwardRef(({className:e,...t},r)=>s.jsx(Kj,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l0,{className:"h-4 w-4"})}));Qj.displayName=Kj.displayName;const Jj=d.forwardRef(({className:e,...t},r)=>s.jsx(Gj,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($a,{className:"h-4 w-4"})}));Jj.displayName=Gj.displayName;const _t=d.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(UM,{children:s.jsxs(Hj,{ref:a,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Qj,{}),s.jsx(BM,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Jj,{})]})}));_t.displayName=Hj.displayName;const WM=d.forwardRef(({className:e,...t},r)=>s.jsx(Wj,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));WM.displayName=Wj.displayName;const Se=d.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qj,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(HM,{children:s.jsx(Hr,{className:"h-4 w-4"})})}),s.jsx(VM,{children:t})]}));Se.displayName=qj.displayName;const qM=d.forwardRef(({className:e,...t},r)=>s.jsx(Yj,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));qM.displayName=Yj.displayName;const KM=({htmlContent:e,onContentUpdate:t})=>{const r=d.useRef(null);d.useRef(e);const n=d.useRef(null),[a,o]=d.useState("desktop"),[i,l]=d.useState(!1),[c,u]=d.useState(!1),[h,m]=d.useState(!1),[f,y]=d.useState([]),[w,x]=d.useState([]),[b,v]=d.useState("Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"),[g,p]=d.useState("16"),[j,C]=d.useState("1.6"),_=["","","","","","","","","","","","","","","",""],k=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500"],S=[{value:"Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",label:"Inter (Modern)"},{value:"system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif",label:"System UI"},{value:"'Helvetica Neue', Helvetica, Arial, sans-serif",label:"Helvetica"},{value:"Georgia, 'Times New Roman', Times, serif",label:"Georgia (Serif)"},{value:"'Courier New', Courier, monospace",label:"Courier (Monospace)"},{value:"'Arial Black', Arial, sans-serif",label:"Arial Black"},{value:"'Trebuchet MS', Arial, sans-serif",label:"Trebuchet"}],A=()=>{const R=r.current;if(!R)return;const z=R.contentDocument||R.contentWindow?.document;if(!z)return;const F=z.documentElement.outerHTML;y(X=>[...X.slice(-9),F]),x([])},T=(R,z)=>{const F=r.current;if(!F)return;const X=F.contentDocument||F.contentWindow?.document;if(!X)return;A(),W(),X.execCommand(R,!1,z);const ce=X.documentElement.outerHTML;t(ce)},$=()=>{if(f.length===0)return;const R=r.current;if(!R)return;const z=R.contentDocument||R.contentWindow?.document;if(!z)return;const F=z.documentElement.outerHTML,X=f[f.length-1];x(ce=>[F,...ce.slice(0,9)]),y(ce=>ce.slice(0,-1)),z.open(),z.write(X),z.close(),t(X)},U=()=>{if(w.length===0)return;const R=r.current;if(!R)return;const z=R.contentDocument||R.contentWindow?.document;if(!z)return;const F=z.documentElement.outerHTML,X=w[0];y(ce=>[...ce,F]),x(ce=>ce.slice(1)),z.open(),z.write(X),z.close(),t(X)},Y=()=>{const R=r.current;if(!R)return;const z=R.contentDocument||R.contentWindow?.document;if(!z)return;W();const F=z.getSelection();if(F&&F.rangeCount>0){const X=F.getRangeAt(0),ce=X.toString()||"New bullet point",ge=z.createElement("ul");ge.style.marginLeft="20px",ge.style.marginBottom="10px";const J=z.createElement("li");J.textContent=ce,J.style.marginBottom="5px",ge.appendChild(J),X.deleteContents(),X.insertNode(ge),X.setStartAfter(ge),X.collapse(!0),F.removeAllRanges(),F.addRange(X);const Z=z.documentElement.outerHTML;t(Z)}},L=R=>{A(),T("insertText",R),l(!1)},re=R=>{A(),W(),T("foreColor",R),u(!1)},W=()=>{const R=r.current;if(!R)return;const z=R.contentDocument||R.contentWindow?.document;if(!z)return;const F=z.getSelection();if(n.current&&F){z.body.focus();try{F.removeAllRanges(),F.addRange(n.current)}catch{}}},q=R=>{const z=r.current;if(!z)return;const F=z.contentDocument||z.contentWindow?.document;if(!F)return;A(),W();try{F.execCommand("styleWithCSS",!1,"true")}catch{}F.execCommand("fontSize",!1,"7"),F.querySelectorAll('font[size="7"]').forEach(ge=>{const J=F.createElement("span");J.style.fontSize=`${R}px`,J.innerHTML=ge.innerHTML,ge.replaceWith(J)});const ce=F.documentElement.outerHTML;t(ce)},P=R=>{const z=r.current;if(!z)return;const F=z.contentDocument||z.contentWindow?.document;if(!F)return;const X=F.getSelection();let ce=16;if(X&&X.anchorNode){const J=X.anchorNode.nodeType===1?X.anchorNode:X.anchorNode.parentElement;if(J){const E=(F.defaultView||window).getComputedStyle(J).fontSize.match(/(\d+\.?\d*)px/);E&&(ce=parseFloat(E[1]))}}const ge=Math.min(40,Math.max(10,Math.round(ce+R)));q(ge)},I=()=>{const R=r.current;if(!R)return;const z=R.contentDocument||R.contentWindow?.document;if(z)try{const F=z.getElementById("global-font-settings");F&&F.remove();const X=z.createElement("style");X.id="global-font-settings",X.type="text/css";const ce=`
        body { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        p { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        div { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        span { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        td { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        th { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        li { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        a { font-family: ${b} !important; font-size: ${g}px !important; line-height: ${j} !important; }
        h1 { font-family: ${b} !important; font-size: ${Math.round(parseInt(g)*1.8)}px !important; line-height: 1.3 !important; }
        h2 { font-family: ${b} !important; font-size: ${Math.round(parseInt(g)*1.6)}px !important; line-height: 1.3 !important; }
        h3 { font-family: ${b} !important; font-size: ${Math.round(parseInt(g)*1.4)}px !important; line-height: 1.3 !important; }
        h4 { font-family: ${b} !important; font-size: ${Math.round(parseInt(g)*1.2)}px !important; line-height: 1.3 !important; }
        h5 { font-family: ${b} !important; font-size: ${parseInt(g)}px !important; line-height: 1.3 !important; }
        h6 { font-family: ${b} !important; font-size: ${Math.round(parseInt(g)*.9)}px !important; line-height: 1.3 !important; }
      `;X.textContent=ce,z.head?z.head.appendChild(X):z.body&&z.body.insertAdjacentElement("afterbegin",X);const ge=e;if(ge&&!ge.includes('id="global-font-settings"')){let J=ge;const Z=`<style id="global-font-settings" type="text/css">${ce}</style>`;J.includes("</head>")?J=J.replace("</head>",`${Z}</head>`):J.includes("<body")?J=J.replace("<body",`${Z}<body`):J=`${Z}${J}`,t(J)}B.success(`Font applied: ${b.split(",")[0].replace(/['"]/g,"")}, ${g}px`),m(!1)}catch(F){console.error("Error applying font settings:",F),B.error("Failed to apply font settings")}};return d.useEffect(()=>{const R=r.current;if(!R)return;const z=()=>{const F=R.contentDocument||R.contentWindow?.document;if(!F)return;F.designMode="on";const X=F.body;X.setAttribute("contenteditable","true"),X.style.outline="none";try{F.execCommand("styleWithCSS",!1,"true")}catch{}const ce=F.createElement("style");ce.textContent="*,*::before,*::after{animation:none!important;transition:none!important} a{pointer-events:none!important}",F.head.appendChild(ce);let ge;const J=()=>{ge&&clearTimeout(ge),ge=window.setTimeout(()=>{const Q=F.documentElement.outerHTML;t(Q)},500)},Z=()=>{const Q=F.getSelection();if(Q&&Q.rangeCount>0)try{n.current=Q.getRangeAt(0).cloneRange()}catch{}},E=()=>J(),N=Q=>{Q.preventDefault();const se=Q.clipboardData?.getData("text/plain")||"";F.execCommand("insertText",!1,se),J()},O=Q=>{if(Q.ctrlKey||Q.metaKey)switch(Q.key.toLowerCase()){case"b":Q.preventDefault(),F.execCommand("bold",!1),J();break;case"i":Q.preventDefault(),F.execCommand("italic",!1),J();break}Q.key==="Enter"&&(Q.preventDefault(),F.execCommand("insertHTML",!1,"<br><br>"),J())};F.addEventListener("selectionchange",Z),X.addEventListener("input",E),X.addEventListener("paste",N),X.addEventListener("keydown",O)};return R.addEventListener("load",z),R.contentDocument?.readyState==="complete"&&z(),()=>{R.removeEventListener("load",z)}},[t]),s.jsxs("div",{className:"w-full px-2 sm:px-4",children:[s.jsxs("div",{className:"bg-muted/20 p-2 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Email Template Editor"}),s.jsxs("div",{className:"flex gap-1 bg-background p-0.5 rounded border",children:[s.jsx(D,{size:"sm",variant:a==="mobile"?"default":"ghost",onClick:()=>o("mobile"),className:"h-6 px-2 text-xs",children:s.jsx(gk,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:a==="desktop"?"default":"ghost",onClick:()=>o("desktop"),className:"h-6 px-2 text-xs",children:s.jsx(hk,{className:"h-3 w-3"})})]})]}),s.jsx("div",{className:"bg-background p-1.5 rounded border mb-2 overflow-x-auto",children:s.jsxs("div",{className:"flex items-center gap-1 min-w-max",children:[s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:$,disabled:f.length===0,children:s.jsx(yk,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:U,disabled:w.length===0,children:s.jsx(mk,{className:"h-3 w-3"})}),s.jsx("div",{className:"h-4 w-px bg-border mx-1"}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:()=>T("bold"),children:s.jsx(ZS,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:()=>T("italic"),children:s.jsx(ik,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:()=>P(2),children:s.jsx(mn,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:()=>P(-2),children:s.jsx(uk,{className:"h-3 w-3"})}),s.jsx("div",{className:"h-4 w-px bg-border mx-1"}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:R=>{R.stopPropagation(),m(!h),u(!1),l(!1)},children:s.jsx(xk,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:R=>{R.stopPropagation(),u(!c),l(!1),m(!1)},children:s.jsx(zl,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:Y,children:s.jsx(Ta,{className:"h-3 w-3"})}),s.jsx(D,{size:"sm",variant:"ghost",className:"h-7 px-2",onMouseDown:R=>R.preventDefault(),onClick:R=>{R.stopPropagation(),l(!i),u(!1),m(!1)},children:""}),s.jsx("span",{className:"text-xs text-muted-foreground ml-2 hidden lg:inline",children:"Select text and use font controls, or apply global settings with the Type button"})]})}),s.jsxs("div",{className:"bg-background rounded",children:[s.jsxs("div",{className:"bg-muted/20 px-2 py-1 text-xs text-muted-foreground border-b flex items-center justify-between",children:[s.jsx("span",{children:a==="mobile"?"Mobile (375px)":"Desktop (1100px)"}),s.jsx("span",{className:"hidden sm:inline",children:"Click text to edit  Use toolbar for formatting"})]}),s.jsx("div",{className:`mx-auto ${a==="mobile"?"w-full max-w-[375px]":"w-full max-w-[1100px]"}`,children:s.jsx("iframe",{ref:r,sandbox:"allow-same-origin allow-scripts",onLoad:()=>{r.current?.contentWindow&&(r.current.contentWindow.onerror=()=>!1)},srcDoc:e,className:`w-full border-0 ${a==="mobile"?"h-[400px]":"h-[500px]"}`,title:"Email Editor",style:{colorScheme:"normal"}},`${a}-${e.length}`)})]})]}),h&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",onClick:()=>m(!1),children:s.jsx("div",{className:"bg-background border rounded-lg shadow-xl p-6 w-96 max-w-[90vw] max-h-[80vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Font Settings"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>m(!1),children:""})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Font Family"}),s.jsxs(At,{value:b,onValueChange:v,children:[s.jsx(jt,{className:"h-10",children:s.jsx(It,{})}),s.jsx(_t,{children:S.map(R=>s.jsx(Se,{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Font Size"}),s.jsxs(At,{value:g,onValueChange:p,children:[s.jsx(jt,{className:"h-10",children:s.jsx(It,{})}),s.jsx(_t,{children:["12","13","14","15","16","17","18","20","22","24","28","32"].map(R=>s.jsxs(Se,{value:R,children:[R,"px"]},R))})]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Line Height"}),s.jsxs(At,{value:j,onValueChange:C,children:[s.jsx(jt,{className:"h-10",children:s.jsx(It,{})}),s.jsx(_t,{children:["1.2","1.3","1.4","1.5","1.6","1.7","1.8","2.0"].map(R=>s.jsx(Se,{value:R,children:R},R))})]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(D,{onClick:I,className:"w-full bg-primary hover:bg-primary/80",children:"Apply Font Settings to Entire Email"})})]})})}),c&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",onClick:()=>u(!1),children:s.jsx("div",{className:"bg-background border rounded-lg shadow-xl p-6 w-80 max-w-[90vw]",onClick:R=>R.stopPropagation(),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Text Colors"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:k.map((R,z)=>s.jsx("button",{className:"w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-gray-400 hover:scale-105 transition-all duration-200 shadow-sm",style:{backgroundColor:R},onClick:F=>{F.stopPropagation(),re(R)},title:`Apply ${R}`},z))}),s.jsx("div",{className:"pt-4 border-t text-sm text-muted-foreground text-center",children:"Select text first, then choose a color"})]})})}),i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",onClick:()=>l(!1),children:s.jsx("div",{className:"bg-background border rounded-lg shadow-xl p-6 w-80 max-w-[90vw] max-h-[80vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Insert Emoji"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:""})]}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:_.map((R,z)=>s.jsx("button",{className:"w-10 h-10 hover:bg-muted rounded-lg text-xl transition-colors duration-200 flex items-center justify-center",onClick:F=>{F.stopPropagation(),L(R)},title:`Insert ${R}`,children:R},z))}),s.jsx("div",{className:"pt-4 border-t text-sm text-muted-foreground text-center",children:"Click an emoji to insert it at cursor position"})]})})})]})};var vm="Dialog",[Xj,Zj]=jr(vm),[GM,$r]=Xj(vm),e1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u=!1,h]=Or({prop:n,defaultProp:a,onChange:o});return s.jsx(GM,{scope:t,triggerRef:l,contentRef:c,contentId:gr(),titleId:gr(),descriptionId:gr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(m=>!m),[h]),modal:i,children:r})};e1.displayName=vm;var t1="DialogTrigger",r1=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$r(t1,r),o=Re(t,a.triggerRef);return s.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wm(a.open),...n,ref:o,onClick:ae(e.onClick,a.onOpenToggle)})});r1.displayName=t1;var xm="DialogPortal",[YM,n1]=Xj(xm,{forceMount:void 0}),s1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=$r(xm,t);return s.jsx(YM,{scope:t,forceMount:r,children:d.Children.map(n,i=>s.jsx(Ut,{present:r||o.open,children:s.jsx(La,{asChild:!0,container:a,children:i})}))})};s1.displayName=xm;var tc="DialogOverlay",a1=d.forwardRef((e,t)=>{const r=n1(tc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=$r(tc,e.__scopeDialog);return o.modal?s.jsx(Ut,{present:n||o.open,children:s.jsx(QM,{...a,ref:t})}):null});a1.displayName=tc;var QM=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$r(tc,r);return s.jsx(pi,{as:fn,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(we.div,{"data-state":wm(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Es="DialogContent",o1=d.forwardRef((e,t)=>{const r=n1(Es,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=$r(Es,e.__scopeDialog);return s.jsx(Ut,{present:n||o.open,children:o.modal?s.jsx(JM,{...a,ref:t}):s.jsx(XM,{...a,ref:t})})});o1.displayName=Es;var JM=d.forwardRef((e,t)=>{const r=$r(Es,e.__scopeDialog),n=d.useRef(null),a=Re(t,r.contentRef,n);return d.useEffect(()=>{const o=n.current;if(o)return Jc(o)},[]),s.jsx(i1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault())})}),XM=d.forwardRef((e,t)=>{const r=$r(Es,e.__scopeDialog),n=d.useRef(!1),a=d.useRef(!1);return s.jsx(i1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),i1=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=$r(Es,r),c=d.useRef(null),u=Re(t,c);return Qc(),s.jsxs(s.Fragment,{children:[s.jsx(mi,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(As,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wm(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(eO,{titleId:l.titleId}),s.jsx(rO,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ym="DialogTitle",l1=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$r(ym,r);return s.jsx(we.h2,{id:a.titleId,...n,ref:t})});l1.displayName=ym;var c1="DialogDescription",d1=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$r(c1,r);return s.jsx(we.p,{id:a.descriptionId,...n,ref:t})});d1.displayName=c1;var u1="DialogClose",h1=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$r(u1,r);return s.jsx(we.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});h1.displayName=u1;function wm(e){return e?"open":"closed"}var f1="DialogTitleWarning",[ZM,m1]=hS(f1,{contentName:Es,titleName:ym,docsSlug:"dialog"}),eO=({titleId:e})=>{const t=m1(f1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},tO="DialogDescriptionWarning",rO=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m1(tO).contentName}}.`;return d.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},p1=e1,g1=r1,v1=s1,bm=a1,jm=o1,_m=l1,Nm=d1,Cm=h1;const Nt=p1,ei=g1,nO=v1,x1=d.forwardRef(({className:e,...t},r)=>s.jsx(bm,{ref:r,className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));x1.displayName=bm.displayName;const vt=d.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nO,{children:[s.jsx(x1,{}),s.jsxs(jm,{ref:n,className:he("fixed left-[50%] top-[50%] z-[100] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Cm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vt.displayName=jm.displayName;const xt=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xt.displayName="DialogHeader";const y1=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});y1.displayName="DialogFooter";const yt=d.forwardRef(({className:e,...t},r)=>s.jsx(_m,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));yt.displayName=_m.displayName;const mr=d.forwardRef(({className:e,...t},r)=>s.jsx(Nm,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));mr.displayName=Nm.displayName;function sO(e,t=[]){let r=[];function n(o,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:y,...w}=m,x=f?.[e][c]||l,b=d.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:b,children:y})}function h(m,f){const y=f?.[e][c]||l,w=d.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,aO(a,...t)]}function aO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Sm="Progress",km=100,[oO,H3]=sO(Sm),[iO,lO]=oO(Sm),w1=d.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=cO,...i}=e;(a||a===0)&&!mv(a)&&console.error(dO(`${a}`,"Progress"));const l=mv(a)?a:km;n!==null&&!pv(n,l)&&console.error(uO(`${n}`,"Progress"));const c=pv(n,l)?n:null,u=rc(c)?o(c,l):void 0;return s.jsx(iO,{scope:r,value:c,max:l,children:s.jsx(we.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":rc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":_1(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});w1.displayName=Sm;var b1="ProgressIndicator",j1=d.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=lO(b1,r);return s.jsx(we.div,{"data-state":_1(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});j1.displayName=b1;function cO(e,t){return`${Math.round(e/t*100)}%`}function _1(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function rc(e){return typeof e=="number"}function mv(e){return rc(e)&&!isNaN(e)&&e>0}function pv(e,t){return rc(e)&&!isNaN(e)&&e<=t&&e>=0}function dO(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${km}\`.`}function uO(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${km} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var N1=w1,hO=j1;const nc=d.forwardRef(({className:e,value:t,...r},n)=>s.jsx(N1,{ref:n,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(hO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));nc.displayName=N1.displayName;const Ji={async createCampaign(e){try{const{data:t,error:r}=await K.from("campaigns").insert({user_id:"550e8400-e29b-41d4-a716-446655440000",name:e.title,subject:e.subject,html_content:e.html_content,list_ids:e.selected_lists,sender_sequence_number:e.sender_sequence,webhook_url:e.webhook_url,status:"draft",total_recipients:0,sent_count:0}).select().maybeSingle();if(r||!t)throw r||new Error("Failed to create campaign");const{error:n}=await K.functions.invoke("send-campaign",{body:{campaignId:t.id,webhookUrl:e.webhook_url,title:e.subject,html:e.html_content,name:e.title,senderSequenceNumber:e.sender_sequence,emailsPerSequence:e.emails_per_sequence||10,maxSenderSequences:e.max_sender_sequences||3}});if(n)throw n;return{ok:!0,json:async()=>t}}catch(t){return console.error("Campaign creation error:",t),{ok:!1,status:500,text:async()=>t instanceof Error?t.message:"Unknown error"}}},async getCampaign(e){try{const{data:t,error:r}=await K.from("campaigns").select("*").eq("id",e).maybeSingle();if(r||!t)throw r||new Error("Campaign not found");return{ok:!0,json:async()=>t}}catch(t){return console.error("Get campaign error:",t),{ok:!1,status:500,statusText:t instanceof Error?t.message:"Unknown error"}}},async pauseCampaign(e){try{const{error:t}=await K.from("campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;return{ok:!0}}catch(t){return console.error("Pause campaign error:",t),{ok:!1,status:500,statusText:t.message}}},async resumeCampaign(e){try{const{error:t}=await K.from("campaigns").update({status:"sending"}).eq("id",e);if(t)throw t;return{ok:!0}}catch(t){return console.error("Resume campaign error:",t),{ok:!1,status:500,statusText:t.message}}}},fO=({isOpen:e,onClose:t,subject:r,htmlContent:n,selectedLists:a})=>{const[o,i]=d.useState(r),[l,c]=d.useState("Campaign "+new Date().toLocaleDateString()),[u,h]=d.useState(1),[m,f]=d.useState(!1),[y,w]=d.useState(null),[x,b]=d.useState(0),[v,g]=d.useState("idle"),[p,j]=d.useState(0),[C,_]=d.useState(0),[k,S]=d.useState(0),[A,T]=d.useState(null);d.useState("");const[$,U]=d.useState(1),[Y,L]=d.useState(""),[re,W]=d.useState(""),[q,P]=d.useState(null),[I,R]=d.useState(2),[z,F]=d.useState(10),[X,ce]=d.useState(3),[ge,J]=d.useState([]),[Z,E]=d.useState([]),[N,O]=d.useState([]),[Q,se]=d.useState(!1),fe=d.useMemo(()=>ge.filter(ue=>ue.status==="sent").length,[ge]),ne=d.useMemo(()=>ge.filter(ue=>ue.status==="failed").length,[ge]),ye=d.useMemo(()=>ge.length>0?ge.length:p,[ge,p]),Ne=d.useMemo(()=>Math.max(fe,C),[fe,C]),Fe=d.useMemo(()=>Math.max(ye,p),[ye,p]),G=d.useMemo(()=>ye>0?fe/ye*100:0,[fe,ye]),ie=d.useMemo(()=>p>0?C/p*100:0,[C,p]),xe=d.useMemo(()=>Math.min(Math.max(G,ie,x),100),[G,ie,x]);d.useEffect(()=>{e&&a.length>0&&ke()},[e,a]);const ke=async()=>{try{const{data:ue,error:Ae}=await K.from("email_lists").select("name").in("id",a);if(Ae)throw Ae;E(ue.map($e=>$e.name));const{data:Le,error:ze}=await K.from("contact_lists").select(`
          contacts!inner (
            email,
            first_name,
            last_name,
            status
          )
        `).in("list_id",a);if(ze)throw ze;const V=(Le?.filter($e=>$e.contacts.status==="subscribed").map($e=>{const mt=$e.contacts,Fr=mt.first_name||mt.email.split("@")[0],yn=mt.last_name||"";return{email:mt.email,name:yn?`${Fr} ${yn}`:Fr}})||[]).filter(($e,mt,Fr)=>Fr.findIndex(yn=>yn.email===$e.email)===mt);O(V),j(V.length);const me=(V.length-1)*I,ee=V.length*2,le=me+ee,ve=Math.floor(le/60),je=le%60;W(ve>0?`${ve}m ${je}s`:`${je}s`)}catch(ue){console.error("Error loading list details and contacts:",ue)}},Ge=async()=>{if(a.length===0){B.error("Please select at least one email list");return}const{data:ue,error:Ae}=await K.from("user_settings").select("webhook_url").eq("user_id",Oe).maybeSingle();if(Ae){console.error("Failed to load settings",Ae),B.error("Failed to load settings");return}const Le=ue?.webhook_url||void 0;if(!Le){B.error("Please set webhook URL in Settings first");return}f(!0),P(new Date);try{console.log(" Starting campaign with:",{campaignName:l,selectedLists:a,webhookUrl:Le});const ze=await Ji.createCampaign({title:l,subject:o,html_content:n,selected_lists:a,sender_sequence:u,webhook_url:Le,emails_per_sequence:z,max_sender_sequences:X});if(!ze.ok){const ee=await ze.text();throw new Error(`Backend API failed: ${ze.status} - ${ee}`)}const M=await ze.json();console.log(" Campaign created:",M),w(M.id),g("sending"),B.success("Campaign started! Sending in background...");const V=He(M.id),me=setInterval(async()=>{try{console.log(" Polling campaign status...");const ee=await Ji.getCampaign(M.id);if(ee.ok){const le=await ee.json();if(console.log(" Polled campaign data:",le),j(le.total_recipients||0),_(le.sent_count||0),g(le.status),le.total_recipients>0){const ve=Math.min((le.sent_count||0)/le.total_recipients*100,100);b(ve)}(le.status==="sent"||le.status==="failed")&&(console.log(" Campaign finished via polling:",le.status),clearInterval(me),B.success(` Campaign ${le.status}! Sent ${le.sent_count} emails.`),setTimeout(()=>We(M.id),100),setTimeout(()=>We(M.id),1e3),setTimeout(()=>Jt(),1500))}}catch(ee){console.log("Polling error:",ee)}},2e3);return setTimeout(()=>We(M.id),1e3),()=>{V&&V(),clearInterval(me)}}catch(ze){console.error(" Error starting campaign:",ze),B.error(`Failed to start: ${ze.message}`),g("failed"),T(ze.message||"Unknown error occurred")}finally{f(!1)}},He=d.useCallback(ue=>{console.log(" Starting real-time monitoring for campaign:",ue);const Ae=K.channel(`campaign-${ue}`).on("postgres_changes",{event:"*",schema:"public",table:"campaigns",filter:`id=eq.${ue}`},ze=>{console.log(" Campaign real-time update:",ze);const M=ze.new;if(M){console.log("Campaign status:",M.status,"Sent:",M.sent_count,"Total:",M.total_recipients),j(M.total_recipients??0),_(M.sent_count??0),U(M.sender_sequence_number??1),g(M.status),T(M.error_message);const V=M.total_recipients??0,me=M.sent_count??0;if(V>0){const ee=Math.min(me/V*100,100);b(ee),console.log(`Progress update: ${me}/${V} (${ee.toFixed(1)}%)`)}if(M.status==="sent"||M.status==="failed"){const ee=M.status==="sent"?` Campaign completed! Sent to ${me} recipients.`:` Campaign failed: ${M.error_message||"Unknown error"}`;B.success(ee),console.log(" Campaign finished:",M.status),setTimeout(()=>We(ue),100),setTimeout(()=>We(ue),1e3),setTimeout(()=>Jt(),1500)}}}).subscribe(ze=>{console.log("Campaign subscription status:",ze)}),Le=K.channel(`campaign-sends-${ue}`).on("postgres_changes",{event:"*",schema:"public",table:"campaign_sends",filter:`campaign_id=eq.${ue}`},ze=>{console.log(" Send real-time update:",ze),setTimeout(()=>{We(ue)},200)}).subscribe(ze=>{console.log("Campaign sends subscription status:",ze)});return()=>{Ae.unsubscribe(),Le.unsubscribe()}},[]),We=d.useCallback(async ue=>{try{const{data:Ae,error:Le}=await K.from("campaign_sends").select("contact_email, status, sent_at, error_message").eq("campaign_id",ue).order("created_at",{ascending:!0});if(Le){console.error("Error loading campaign sends:",Le);return}const{data:ze}=await K.from("contacts").select("email, first_name, last_name").in("email",Ae?.map(V=>V.contact_email)||[]),M=Ae?.map(V=>{const me=ze?.find(je=>je.email===V.contact_email),ee=me?.first_name||V.contact_email.split("@")[0],le=me?.last_name||"",ve=le?`${ee} ${le}`:ee;return{email:V.contact_email,name:ve,status:V.status,timestamp:V.sent_at||void 0,error:V.error_message||void 0}})||[];J(V=>{if(!(JSON.stringify(M)!==JSON.stringify(V)))return V;const ee=M.find(le=>le.status==="pending");return ee&&ee.email!==Y&&L(ee.email),M})}catch(Ae){console.error("Error loading campaign sends:",Ae)}},[Y]),Jt=d.useCallback(()=>{J(ue=>!ue.length||!ue.some(Le=>Le.status==="pending"||Le.status==="sending")?ue:ue.map(Le=>Le.status==="pending"||Le.status==="sending"?{...Le,status:"sent",timestamp:Le.timestamp||new Date().toISOString()}:Le))},[]),it=async()=>{if(y)try{const ue=v==="sending"?"paused":"sending";if(!(ue==="paused"?await Ji.pauseCampaign(y):await Ji.resumeCampaign(y)).ok)throw new Error(`Failed to ${ue==="paused"?"pause":"resume"} campaign`);g(ue),B.success(ue==="paused"?"Campaign paused":"Campaign resumed")}catch(ue){B.error(`Failed to update campaign status: ${ue.message}`)}},st=()=>{g("idle"),b(0),w(null),j(0),_(0),S(0),L(""),T(null),P(null),J([])},ht=()=>{st(),t()},ft=()=>{if(!q)return"";const ue=Math.floor((new Date().getTime()-q.getTime())/1e3),Ae=Math.floor(ue/60),Le=ue%60;return`${Ae}:${Le.toString().padStart(2,"0")}`},Vt=()=>{if(!q||Ne===0)return re;const ue=(new Date().getTime()-q.getTime())/1e3,Ae=Ne/ue,Le=(Fe-Ne)/(Ae||1),ze=Math.floor(Le/60),M=Math.floor(Le%60);return ze>0?`${ze}m ${M}s`:`${M}s`};return s.jsx(Nt,{open:e,onOpenChange:ht,children:s.jsxs(vt,{className:"max-w-3xl max-h-[85vh] overflow-hidden flex flex-col",children:[s.jsx(xt,{className:"flex-shrink-0 px-6 pt-6",children:s.jsxs(yt,{className:"flex items-center gap-2 text-email-primary",children:[s.jsx(Xu,{className:"h-5 w-5"}),"Send Campaign"]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-6 space-y-6",children:[v==="idle"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"title",className:"text-sm font-medium",children:"Campaign Title"}),s.jsx(be,{id:"title",value:o,onChange:ue=>i(ue.target.value),placeholder:"Enter campaign title...",className:"border-email-primary/30 focus:border-email-primary w-full"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"name",className:"text-sm font-medium",children:"Campaign Name"}),s.jsx(be,{id:"name",value:l,onChange:ue=>c(ue.target.value),placeholder:"Enter campaign name...",className:"border-email-primary/30 focus:border-email-primary w-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"sequence",className:"text-sm font-medium",children:"Sender Sequence"}),s.jsx(be,{id:"sequence",type:"number",min:"1",value:u,onChange:ue=>h(parseInt(ue.target.value)||1),className:"w-full"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"delay",className:"text-sm font-medium",children:"Delay Between Emails"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{id:"delay",type:"number",min:"1",max:"30",value:I,onChange:ue=>R(parseInt(ue.target.value)||2),className:"flex-1"}),s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"seconds"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time to wait between individual emails (helps avoid rate limits)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"emailsPerSequence",className:"text-sm font-medium",children:"Emails Per Sequence"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{id:"emailsPerSequence",type:"number",min:"1",max:"100",value:z,onChange:ue=>F(parseInt(ue.target.value)||10),className:"flex-1"}),s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"emails"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of emails before switching to next sequence"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"maxSequences",className:"text-sm font-medium",children:"Max Sender Sequences"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{id:"maxSequences",type:"number",min:"1",max:"10",value:X,onChange:ue=>ce(parseInt(ue.target.value)||3),className:"flex-1"}),s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"sequences"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Will cycle: 123123... (if set to 3)"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-email-primary/10 to-email-accent/10 border border-email-primary/20 rounded-lg p-4 space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-email-primary flex items-center",children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Campaign Summary"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fr,{className:"h-4 w-4 mr-2 text-email-accent"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-email-primary",children:p}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Recipients"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ys,{className:"h-4 w-4 mr-2 text-email-secondary"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-email-primary",children:re}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Time"})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-email-primary/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Target Lists:"}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>se(!0),className:"text-xs h-6 px-2",children:["Preview Recipients (",N.length,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Z.map((ue,Ae)=>s.jsx(Ce,{variant:"outline",className:"text-xs border-email-primary/30 text-email-primary",children:ue},Ae))})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(tk,{className:"h-4 w-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium",children:"Background Processing"}),s.jsx("p",{children:"This campaign will run in the background using the webhook URL from Settings. You can monitor progress in real-time."})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:ht,variant:"outline",className:"flex-1",children:"Cancel"}),s.jsx(D,{onClick:Ge,disabled:m,className:"flex-1 bg-email-primary hover:bg-email-primary/90 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Start Campaign"]})})]})]}),(v==="sending"||v==="paused"||v==="sent"||v==="failed")&&s.jsxs("div",{className:"space-y-4 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-email-primary",children:"Campaign Progress"}),s.jsxs("div",{className:"flex items-center gap-2 min-h-[28px] min-w-[140px] justify-end",children:[v==="sending"&&s.jsx(Ce,{className:"bg-email-accent/20 text-email-accent",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-email-accent rounded-full mr-2 animate-pulse"}),"Sending..."]})}),v==="paused"&&s.jsx(Ce,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Paused"}),v==="sent"&&s.jsxs(Ce,{className:"bg-green-100 text-green-700",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),"Completed"]}),v==="failed"&&s.jsxs(Ce,{variant:"destructive",children:[s.jsx(Df,{className:"h-3 w-3 mr-1"}),"Failed"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-email-primary tabular-nums inline-block w-12 text-right",children:[Math.round(xe),"%"]})]}),s.jsx(nc,{value:xe,className:"h-3"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[Ne," of ",Fe," sent"]}),s.jsx("span",{children:v==="sending"?"Time remaining: "+Vt():ft()})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 text-center",children:[s.jsxs("div",{className:"bg-email-muted/20 rounded-lg p-3 border border-email-primary/10 min-h-[4rem] flex flex-col justify-center",children:[s.jsx("div",{className:"text-2xl font-bold text-email-primary",children:Fe}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200 min-h-[4rem] flex flex-col justify-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ne}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Sent"})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200 min-h-[4rem] flex flex-col justify-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:ne}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200 min-h-[4rem] flex flex-col justify-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:$}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Sender #"})]})]}),v==="sending"&&Y&&s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 border",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Currently Processing:"}),s.jsx("div",{className:"text-sm font-mono",children:Y})]}),v==="sending"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("div",{className:"text-sm font-medium text-blue-800",children:["Campaign Status: ",v.toUpperCase()]}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Progress: ",Ne,"/",Fe," emails sent (",Math.round(xe),"%)"]})]}),s.jsxs("div",{className:"border rounded-lg flex-1 overflow-hidden flex flex-col min-h-[300px]",children:[s.jsx("div",{className:"bg-muted/50 p-3 border-b flex-shrink-0 sticky top-0 z-10 backdrop-blur supports-[backdrop-filter]:bg-muted/50",children:s.jsxs("h4",{className:"font-medium text-sm",children:["Send Progress (",Ne,"/",Fe,")",v==="sent"&&s.jsx("span",{className:"ml-2 text-xs text-green-600",children:" Completed"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:ge.length>0?s.jsx("div",{className:"divide-y",children:ge.map((ue,Ae)=>s.jsx(mO,{recipient:ue,index:Ae},`${ue.email}-${ue.status}`))}):v==="sent"?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(an,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm",children:"Campaign completed successfully!"})]})}):s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:s.jsx("div",{className:"text-center",children:v==="sending"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 mx-auto mb-2 border-2 border-gray-300 border-t-blue-600"}),s.jsx("p",{className:"text-sm font-medium",children:"Preparing recipients..."}),s.jsx("p",{className:"text-xs mt-1 opacity-75",children:"This may take a few moments"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ys,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recipients yet"})]})})})})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0 border-t pt-4",children:[v==="sending"&&s.jsxs(D,{onClick:it,variant:"outline",className:"flex-1 border-orange-500 text-orange-600 hover:bg-orange-50",children:[s.jsx(h0,{className:"h-4 w-4 mr-2"}),"Pause Campaign"]}),v==="paused"&&s.jsxs(D,{onClick:it,className:"flex-1 bg-email-accent hover:bg-email-accent/80",children:[s.jsx(fk,{className:"h-4 w-4 mr-2"}),"Resume Campaign"]}),(v==="sent"||v==="failed")&&s.jsxs(D,{onClick:ht,className:"flex-1 bg-email-primary hover:bg-email-primary/80",children:[s.jsx(an,{className:"h-4 w-4 mr-2"}),"Close"]}),(v==="sending"||v==="paused")&&s.jsx(D,{onClick:ht,variant:"outline",className:"flex-1",children:"Close & Run in Background"})]})]})]}),s.jsx(Nt,{open:Q,onOpenChange:se,children:s.jsxs(vt,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsx(xt,{children:s.jsx(yt,{children:"Campaign Recipients Preview"})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:[N.length," recipients will receive this campaign:"]}),s.jsx("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:N.map((ue,Ae)=>s.jsxs("div",{className:"p-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:ue.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ue.email})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",Ae+1]})]},ue.email))})]})}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(D,{onClick:()=>se(!1),variant:"outline",children:"Close Preview"})})]})})]})})},mO=oe.memo(({recipient:e,index:t})=>s.jsxs("div",{className:"p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.email}),e.timestamp&&s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()}),e.error&&s.jsx("div",{className:"text-xs text-red-600",children:e.error})]}),s.jsxs("div",{className:"ml-2 flex-shrink-0",children:[e.status==="sent"&&s.jsx(an,{className:"h-4 w-4 text-green-600"}),e.status==="failed"&&s.jsx(Df,{className:"h-4 w-4 text-red-600"}),(e.status==="pending"||e.status==="sending")&&s.jsx(ys,{className:"h-4 w-4 text-yellow-600"})]})]})),pO=({onSave:e})=>{const[t,r]=d.useState(""),[n,a]=d.useState(""),[o,i]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState("visual"),[m,f]=d.useState([]),[y,w]=d.useState(!1),[x,b]=d.useState("");d.useState(!1),d.useState([10]),d.useState(0);const[v,g]=d.useState(null),[p,j]=d.useState({primary:"#684cff",secondary:"#22d3ee",accent:"#34d399"});d.useState("desktop");const[C,_]=d.useState(!1),[k,S]=d.useState(null),[A,T]=d.useState([]),[$,U]=d.useState(!1),Y="campaign_draft";d.useEffect(()=>{try{const G=localStorage.getItem(Y);if(G){const ie=JSON.parse(G);typeof ie.subject=="string"&&r(ie.subject),typeof ie.prompt=="string"&&a(ie.prompt),typeof ie.generatedTemplate=="string"&&i(ie.generatedTemplate),Array.isArray(ie.selectedLists)&&f(ie.selectedLists),ie.themeColors&&(j(ie.themeColors),_(!0))}}catch{}},[]),d.useEffect(()=>{const G={subject:t,prompt:n,generatedTemplate:o,selectedLists:m,themeColors:p};try{localStorage.setItem(Y,JSON.stringify(G))}catch{}},[t,n,o,m,p]);const[L,re]=d.useState([]),[W,q]=d.useState([]),[P,I]=d.useState(!1),[R,z]=d.useState({top:0,left:0}),[F,X]=d.useState(null),ce=oe.useRef(null);d.useEffect(()=>{ge(),Z(),J()},[]);const ge=async()=>{try{const{data:G,error:ie}=await K.from("email_lists").select("*").eq("user_id",Oe).order("created_at",{ascending:!1});if(ie)throw ie;re(G||[])}catch(G){console.error("Error loading email lists:",G)}},J=async()=>{try{const{data:G,error:ie}=await K.from("style_guides").select("*").eq("user_id",Oe).order("created_at",{ascending:!1}).limit(1);if(ie)throw ie;if(G&&G.length>0){const xe=G[0];g(xe);let ke=!1;try{const Ge=localStorage.getItem(Y);Ge&&(ke=!!JSON.parse(Ge)?.themeColors)}catch{}!C&&!ke&&(j({primary:xe.primary_color,secondary:xe.secondary_color,accent:xe.accent_color}),_(!0))}}catch(G){console.error("Error loading style guide:",G)}},Z=async()=>{console.log(" Loading products...");try{const{data:G,error:ie}=await K.from("products").select("*").eq("user_id",Oe).order("created_at",{ascending:!1});if(ie){console.error(" Error loading products:",ie);return}console.log(" Products loaded:",G?.length||0),console.log(" Product names:",G?.map(xe=>xe.name)||[]),q(G||[])}catch(G){console.error(" Error loading products:",G)}},E=G=>{if(console.log(" Enhancing prompt with product details"),console.log(" Original prompt:",G),console.log(" Available products:",W.length),!W.length)return console.log(" No products loaded"),G;const ie=W.filter(ke=>{const Ge=G.toLowerCase().includes(ke.name.toLowerCase());return Ge&&console.log(" Found product match:",ke.name),Ge});if(console.log(" Mentioned products found:",ie.length),ie.length===0)return console.log(" No product names found in prompt"),G;let xe=G;return xe+=`

--- PRODUCT DETAILS FOR AI ---
`,xe+=`The following products are mentioned in this email. Please use these exact details when referring to them:

`,ie.forEach(ke=>{xe+=` PRODUCT: ${ke.name}
`,ke.description&&(xe+=`   Description: ${ke.description}
`),ke.price&&(xe+=`   Price: $${ke.price}
`),ke.category&&(xe+=`   Category: ${ke.category}
`),ke.sku&&(xe+=`   SKU: ${ke.sku}
`),xe+=`
`}),console.log(" Enhanced prompt:",xe),xe},N=(G,ie)=>{let xe=ie;for(;xe>0&&/\w/.test(G[xe-1]);)xe--;let ke=ie;for(;ke<G.length&&/\w/.test(G[ke]);)ke++;const Ge=G.substring(xe,ke).toLowerCase();if(Ge.length<3)return null;const He=W.find(We=>We.name.toLowerCase().startsWith(Ge));return He?{product:He,startIndex:xe,partialName:Ge}:null},O=G=>{const ie=G.target.value,xe=G.target.selectionStart;a(ie);const ke=N(ie,xe);if(ke){X(ke),I(!0),G.target;const He=ie.substring(0,ke.startIndex).split(`
`),We=He.length-1,Jt=He[He.length-1].length;z({top:We*24+30,left:Jt*8})}else I(!1),X(null)},Q=()=>{if(!F||!ce.current)return;const G=ce.current,ie=F.product,xe=`${ie.name} (${ie.category} - $${ie.price})`,ke=n.substring(0,F.startIndex),Ge=n.substring(F.startIndex+F.partialName.length),He=ke+xe+Ge;a(He),I(!1),X(null),setTimeout(()=>{G.focus();const We=ke.length+xe.length;G.setSelectionRange(We,We)},0)},se=G=>{P&&(G.key==="Tab"||G.key==="Enter")?(G.preventDefault(),Q()):G.key==="Escape"&&(I(!1),X(null))},fe=G=>{try{let ie=G.trim();return ie.startsWith("```")&&(ie=ie.replace(/^```[a-zA-Z]*\n?/i,""),ie=ie.replace(/```\s*$/i,"")),ie.trim()}catch{return G}},ne=G=>{try{const ie=/<style[^>]*>([\s\S]*?)<\/style>/gi,xe=[];let ke;for(;(ke=ie.exec(G))!==null;)xe.push(ke[1]);if(xe.length===0)return G;const Ge={};xe.forEach(We=>{const Jt=/([^{]+)\{([^}]+)\}/g;let it;for(;(it=Jt.exec(We))!==null;){const st=it[1].trim(),ht=it[2].trim();Ge[st]||(Ge[st]={}),ht.split(";").forEach(ft=>{const[Vt,ue]=ft.split(":").map(Ae=>Ae.trim());Vt&&ue&&(Ge[st][Vt]=ue)})}});let He=G;return He=He.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),Object.keys(Ge).forEach(We=>{const Jt=Ge[We],it=Object.entries(Jt).map(([st,ht])=>`${st}: ${ht}`).join("; ");if(We.startsWith(".")){const st=We.substring(1),ht=new RegExp(`<([^>]+)class=["'][^"']*\\b${st}\\b[^"']*["']([^>]*)>`,"gi");He=He.replace(ht,(ft,Vt,ue)=>{const Ae=ft.match(/style=["']([^"']*)["']/i),Le=Ae?Ae[1]:"",ze=Le?`${Le}; ${it}`:it;return Ae?ft.replace(/style=["'][^"']*["']/i,`style="${ze}"`):ft.replace(">",` style="${it}">`)})}else if(We.match(/^[a-zA-Z]+$/)){const st=new RegExp(`<${We}([^>]*)>`,"gi");He=He.replace(st,(ht,ft)=>{const Vt=ht.match(/style=["']([^"']*)["']/i),ue=Vt?Vt[1]:"",Ae=ue?`${ue}; ${it}`:it;return Vt?ht.replace(/style=["'][^"']*["']/i,`style="${Ae}"`):`<${We}${ft} style="${it}">`})}}),He}catch(ie){return console.error("Error inlining CSS:",ie),G}},ye=(G,ie,xe)=>k;d.useEffect(()=>{if(k){const G=ye(p.primary,p.secondary,p.accent);G&&i(G)}},[p,k]);const Ne=async()=>{if(!t.trim()||!n.trim()){B.error("Please provide both a subject and prompt for the email.");return}c(!0);try{const G=E(n),{data:ie,error:xe}=await K.functions.invoke("generate-email",{body:{prompt:G,subject:t,userId:Oe,regenId:Date.now(),themeColors:p,styleGuide:v?{brandName:v.brand_name,primaryColor:v.primary_color,secondaryColor:v.secondary_color,accentColor:v.accent_color,tone:v.tone,brandVoice:v.brand_voice,logoUrl:v.logo_url,emailSignature:v.email_signature}:void 0,templatePreview:v?.template_preview}});if(xe)throw xe;if(ie?.htmlContent){let ke=fe(ie.htmlContent);ke=ne(ke),S(ke),i(ke),B.success("Your email template has been generated successfully!")}else throw new Error("No content received from AI generator")}catch(G){console.error("Error generating template:",G);const ie=`
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>${t}</title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
                @media only screen and (max-width: 600px) {
                    .container { width: 100% !important; margin: 10px !important; }
                    .header { padding: 30px 20px !important; }
                    .content { padding: 30px 20px !important; }
                    .hero-title { font-size: 24px !important; }
                    .button { width: 90% !important; }
                }
            </style>
        </head>
        <body style="margin: 0; padding: 0; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); min-height: 100vh;">
            <div style="padding: 30px 15px;">
                <table class="container" role="presentation" cellspacing="0" cellpadding="0" border="0" style="max-width: 600px; width: 100%; margin: 0 auto; background: #ffffff; border-radius: 20px; box-shadow: 0 25px 50px rgba(0,0,0,0.1); overflow: hidden;">
                    
                    <!-- Gradient Header -->
                    <tr>
                        <td style="background: linear-gradient(135deg, ${p.primary} 0%, ${p.secondary} 100%); padding: 0; height: 6px;"></td>
                    </tr>
                    
                    <!-- Hero Section -->
                    <tr>
                        <td class="header" style="background: linear-gradient(135deg, ${p.primary}12 0%, ${p.secondary}08 100%); padding: 50px 40px; text-align: center; position: relative;">
                            <div style="position: absolute; top: 20px; right: 30px; width: 32px; height: 32px; background: ${p.accent}25; border-radius: 50%; opacity: 0.6;"></div>
                            
                            <h1 style="margin: 0 0 10px 0; color: #1e293b; font-size: 26px; font-weight: 700; letter-spacing: -0.5px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">${v?.brand_name||"Your Brand"}</h1>
                            <div style="width: 60px; height: 3px; background: linear-gradient(90deg, ${p.primary}, ${p.accent}); margin: 16px auto; border-radius: 2px;"></div>
                            <h2 class="hero-title" style="margin: 20px 0 0 0; color: #334155; font-size: 28px; font-weight: 600; line-height: 1.3; letter-spacing: -0.3px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">${t}</h2>
                        </td>
                    </tr>
                    
                    <!-- Content -->
                    <tr>
                        <td class="content" style="padding: 40px; background: #ffffff;">
                            
                            <!-- Welcome Box -->
                            <div style="background: linear-gradient(135deg, ${p.primary}08 0%, ${p.accent}05 100%); border-radius: 16px; padding: 30px; margin-bottom: 35px; border: 1px solid ${p.primary}15;">
                                <h3 style="margin: 0 0 16px 0; color: #1e293b; font-size: 18px; font-weight: 600; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Hello there! </h3>
                                <p style="margin: 0; font-size: 16px; line-height: 1.6; color: #475569; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">${n}</p>
                            </div>
                            
                            <!-- Value Proposition -->
                            <div style="margin-bottom: 40px;">
                                <p style="margin: 0 0 20px 0; font-size: 16px; line-height: 1.6; color: #475569; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">We're excited to share this with you and believe it will make a meaningful impact. Our team has carefully crafted this experience with you in mind.</p>
                                
                                <div style="display: flex; gap: 15px; margin: 25px 0;">
                                    <div style="flex: 1; background: #f8fafc; border-radius: 12px; padding: 20px; text-align: center; border: 1px solid #e2e8f0;">
                                        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, ${p.primary}, ${p.accent}); border-radius: 10px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                            <span style="color: white; font-size: 16px;"></span>
                                        </div>
                                        <h4 style="margin: 0 0 6px 0; color: #334155; font-size: 13px; font-weight: 600; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Premium</h4>
                                        <p style="margin: 0; color: #64748b; font-size: 12px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Quality first</p>
                                    </div>
                                    <div style="flex: 1; background: #f8fafc; border-radius: 12px; padding: 20px; text-align: center; border: 1px solid #e2e8f0;">
                                        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, ${p.accent}, ${p.secondary}); border-radius: 10px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                            <span style="color: white; font-size: 16px;"></span>
                                        </div>
                                        <h4 style="margin: 0 0 6px 0; color: #334155; font-size: 13px; font-weight: 600; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Fast</h4>
                                        <p style="margin: 0; color: #64748b; font-size: 12px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Built for speed</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- CTA Section -->
                            <div style="text-align: center; margin: 40px 0; padding: 35px 20px; background: linear-gradient(135deg, ${p.primary}05 0%, ${p.secondary}03 100%); border-radius: 18px; border: 1px solid ${p.primary}10;">
                                <h3 style="margin: 0 0 12px 0; color: #1e293b; font-size: 18px; font-weight: 600; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Ready to dive in?</h3>
                                <p style="margin: 0 0 28px 0; color: #64748b; font-size: 14px; line-height: 1.6; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Take the next step and discover what we have to offer.</p>
                                
                                <table role="presentation" cellspacing="0" cellpadding="0" border="0" style="margin: 0 auto;">
                                    <tr>
                                        <td style="border-radius: 50px; background: linear-gradient(135deg, ${p.accent} 0%, ${p.primary} 100%); box-shadow: 0 10px 20px ${p.accent}40;">
                                            <a href="#" class="button" style="display: inline-block; padding: 16px 32px; font-size: 15px; font-weight: 600; color: #ffffff; text-decoration: none; border-radius: 50px; letter-spacing: 0.3px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                                                Take Action Now 
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                                
                                <p style="margin: 20px 0 0 0; color: #94a3b8; font-size: 12px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">No spam, unsubscribe anytime</p>
                            </div>
                            
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); padding: 35px; text-align: center; border-top: 1px solid #e2e8f0;">
                            <div style="margin-bottom: 20px;">
                                <pre style="margin: 0; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 14px; color: #475569; white-space: pre-line; font-weight: 500;">${v?.email_signature||`Best regards,
The Team`}</pre>
                            </div>
                            
                            <div style="border-top: 1px solid #d1d5db; padding-top: 20px;">
                                <p style="margin: 0 0 10px 0; font-size: 13px; color: #64748b; font-weight: 500; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;"> 2024 ${v?.brand_name||"Your Brand"}. All rights reserved.</p>
                                <div style="margin-top: 12px;">
                                    <a href="#" style="color: #6366f1; text-decoration: none; font-size: 12px; font-weight: 500; margin: 0 10px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Preferences</a>
                                    <span style="color: #cbd5e1;">|</span>
                                    <a href="#" style="color: #6366f1; text-decoration: none; font-size: 12px; font-weight: 500; margin: 0 10px; font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Unsubscribe</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </body>
        </html>
      `;S(ie),i(ie),B.success("Used fallback template generator. Your email is ready!")}finally{c(!1)}},Fe=async()=>{if(!x.trim()||!o){B.error("Please provide editing instructions and ensure you have a generated template.");return}w(!0);try{const G=E(x),{data:ie,error:xe}=await K.functions.invoke("edit-email",{body:{htmlContent:o,editInstruction:G,themeColors:p,styleGuide:v?{brandName:v.brand_name,primaryColor:p.primary,secondaryColor:p.secondary,accentColor:p.accent,tone:v.tone,brandVoice:v.brand_voice,logoUrl:v.logo_url,emailSignature:v.email_signature}:void 0}});if(xe)throw xe;if(ie?.htmlContent){let ke=fe(ie.htmlContent);i(ke),b(""),B.success("Your email has been updated successfully!")}else throw new Error("No content received from AI editor")}catch(G){console.error("Error editing with AI:",G),B.error("Failed to apply AI edits. Please try again.")}finally{w(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsx(Ve,{className:"text-email-primary",children:"Email Content"}),s.jsx(ot,{children:"Create your email campaign with AI assistance"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"subject",className:"text-email-primary font-medium",children:"Email Subject"}),s.jsx(be,{id:"subject",value:t,onChange:G=>r(G.target.value),placeholder:"Enter your email subject line...",className:"border-email-primary/30 focus:border-email-primary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"prompt",className:"text-email-primary font-medium",children:"AI Prompt"}),s.jsxs("div",{className:"relative",children:[s.jsx(xr,{ref:ce,id:"prompt",value:n,onChange:O,onKeyDown:se,placeholder:"Describe the email you want to create (e.g., 'Write a promotional email about our new product launch with a 20% discount offer')",rows:4,className:"border-email-primary/30 focus:border-email-primary"}),P&&F&&s.jsxs("div",{className:"absolute z-50 bg-white border border-email-primary/30 rounded-lg shadow-xl p-3 min-w-64",style:{top:`${R.top}px`,left:`${R.left}px`},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Press Tab or Enter to insert"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>I(!1),className:"p-1 h-auto",children:""})]}),s.jsxs("div",{className:"bg-email-primary/5 border border-email-primary/20 rounded-lg p-3",children:[s.jsx("div",{className:"font-medium text-email-primary text-sm",children:F.product.name}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[s.jsx("span",{className:"inline-block mr-3",children:s.jsx(Ce,{variant:"outline",className:"text-xs",children:F.product.category})}),s.jsxs("span",{className:"font-medium text-email-accent",children:["$",F.product.price]})]}),F.product.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:F.product.description})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Will insert: ",s.jsxs("span",{className:"font-mono bg-gray-100 px-1 rounded",children:[F.product.name," (",F.product.category," - $",F.product.price,")"]})]})]})]})]}),s.jsx(D,{onClick:Ne,disabled:l,className:"w-full bg-email-primary hover:bg-email-primary/80 text-primary-foreground",children:l?s.jsxs(s.Fragment,{children:[s.jsx(ig,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ig,{className:"h-4 w-4 mr-2"}),"Generate Email Template"]})})]})]}),o&&s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsx(Ve,{className:"text-email-primary",children:"Email Template"}),s.jsx(ot,{children:"Preview and edit your email template"})]}),s.jsx(Ee,{children:s.jsxs(om,{value:u,onValueChange:G=>h(G),children:[s.jsxs(Yc,{className:"grid w-full grid-cols-2 bg-email-muted/30",children:[s.jsx(ur,{value:"visual",className:"data-[state=active]:bg-email-primary data-[state=active]:text-primary-foreground",children:"Preview"}),s.jsxs(ur,{value:"code",className:"data-[state=active]:bg-email-primary data-[state=active]:text-primary-foreground",children:[s.jsx(nk,{className:"h-4 w-4 mr-2"}),"HTML Code"]})]}),s.jsx(tr,{value:"visual",className:"mt-4",children:s.jsx(KM,{htmlContent:o,onContentUpdate:G=>{i(G)}})}),s.jsx(tr,{value:"code",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(H,{className:"text-email-primary font-medium",children:"HTML Source"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(o),B.success("HTML copied to clipboard!")},className:"border-email-secondary text-email-secondary hover:bg-email-secondary/10",children:"Copy HTML"})]}),s.jsx(xr,{value:o,onChange:G=>i(G.target.value),rows:20,className:"font-mono text-sm border-email-primary/30 focus:border-email-primary"})]})})]})})]}),o&&s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsx(Ve,{className:"text-email-primary",children:"Edit with AI"}),s.jsx(ot,{children:"Make specific changes to the current HTML (uses Claude)"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(xr,{value:x,onChange:G=>b(G.target.value),rows:3,placeholder:"e.g., Add a primary CTA button below the hero, lighten background, increase body text to 16px, replace the second emoji with ",className:"border-email-primary/30 focus:border-email-primary"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(D,{onClick:Fe,disabled:y,className:"bg-email-accent hover:bg-email-accent/80 text-primary-foreground",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),y?"Applying Edits...":"Edit with AI"]})})]})]}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsx(Ve,{className:"text-email-primary",children:"Target Email Lists"}),s.jsx(ot,{children:"Select which email lists to send this campaign to"})]}),s.jsx(Ee,{children:L.length===0?s.jsx("p",{className:"text-muted-foreground",children:"No email lists found. Create some email lists in the Lists tab first."}):s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.map(G=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-email-muted/20 transition-colors border-email-primary/10",children:[s.jsx("input",{type:"checkbox",id:G.id,checked:m.includes(G.id),onChange:()=>{f(ie=>ie.includes(G.id)?ie.filter(xe=>xe!==G.id):[...ie,G.id])},className:"h-4 w-4 text-email-primary focus:ring-email-primary border-gray-300 rounded"}),s.jsxs(H,{htmlFor:G.id,className:"flex-1 cursor-pointer",children:[s.jsx("div",{className:"font-medium text-email-primary",children:G.name}),G.description&&s.jsx("div",{className:"text-sm text-muted-foreground",children:G.description})]})]},G.id))})})]}),o&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs(D,{variant:"outline",onClick:()=>{console.log("Campaign data to save:",{subject:t,htmlContent:o,selectedLists:m,emailElements:A}),B.success("Campaign saved! You can now send it from the Lists tab.")},className:"border-email-secondary text-email-secondary hover:bg-email-secondary/10 w-full sm:w-auto",children:[s.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Save Campaign"]}),s.jsxs(D,{onClick:()=>U(!0),className:"bg-email-accent hover:bg-email-accent/80 text-primary-foreground w-full sm:w-auto",children:[s.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Prepare for Sending"]})]}),s.jsx(fO,{isOpen:$,onClose:()=>U(!1),subject:t,htmlContent:o,selectedLists:m})]})};var Em="Collapsible",[gO,W3]=jr(Em),[vO,Tm]=gO(Em),C1=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=Or({prop:n,defaultProp:a,onChange:i});return s.jsx(vO,{scope:r,disabled:o,contentId:gr(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:s.jsx(we.div,{"data-state":Rm(c),"data-disabled":o?"":void 0,...l,ref:t})})});C1.displayName=Em;var S1="CollapsibleTrigger",k1=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=Tm(S1,r);return s.jsx(we.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Rm(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:ae(e.onClick,a.onOpenToggle)})});k1.displayName=S1;var Pm="CollapsibleContent",E1=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Tm(Pm,e.__scopeCollapsible);return s.jsx(Ut,{present:r||a.open,children:({present:o})=>s.jsx(xO,{...n,ref:t,present:o})})});E1.displayName=Pm;var xO=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...o}=e,i=Tm(Pm,r),[l,c]=d.useState(n),u=d.useRef(null),h=Re(t,u),m=d.useRef(0),f=m.current,y=d.useRef(0),w=y.current,x=i.open||l,b=d.useRef(x),v=d.useRef();return d.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),kt(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const p=g.getBoundingClientRect();m.current=p.height,y.current=p.width,b.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),c(n)}},[i.open,n]),s.jsx(we.div,{"data-state":Rm(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:x&&a})});function Rm(e){return e?"open":"closed"}var yO=C1;const T1=yO,P1=k1,R1=E1,rr=oe.forwardRef(({value:e,onChange:t,suggestions:r=[],placeholder:n,className:a,...o},i)=>{const[l,c]=d.useState(""),[u,h]=d.useState(!1),[m,f]=d.useState([]),y=d.useRef(null),w=e?e.split(",").map(p=>p.trim()).filter(Boolean):[];d.useEffect(()=>{if(l&&r.length>0){const p=r.filter(j=>j.toLowerCase().includes(l.toLowerCase())&&!w.includes(j));f(p),h(p.length>0)}else h(!1),f([])},[l,r,e]);const x=p=>{if(p&&!w.includes(p)){const j=[...w,p];t(j.join(", ")),c(""),h(!1)}},b=p=>{const j=w.filter((C,_)=>_!==p);t(j.join(", "))},v=p=>{p.key==="Enter"||p.key===","?(p.preventDefault(),l.trim()&&x(l.trim())):p.key==="Backspace"&&!l&&w.length>0&&b(w.length-1)},g=p=>{x(p)};return s.jsxs("div",{className:he("relative",a),children:[s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:w.map((p,j)=>s.jsxs(Ce,{variant:"secondary",className:"flex items-center gap-1",children:[p,s.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 text-muted-foreground hover:text-foreground",onClick:()=>b(j),children:s.jsx(Kn,{className:"h-3 w-3"})})]},j))}),s.jsx(be,{ref:i||y,value:l,onChange:p=>c(p.target.value),onKeyDown:v,placeholder:n,...o}),u&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-40 overflow-y-auto",children:m.map((p,j)=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",onClick:()=>g(p),children:p},j))})]})});rr.displayName="TagInput";const wO=({contact:e,isOpen:t,onClose:r,onContactUpdated:n})=>{const[a,o]=d.useState({email:"",firstName:"",lastName:"",tags:"",status:"subscribed"}),[i,l]=d.useState([]),[c,u]=d.useState([]),[h,m]=d.useState(new Set),[f,y]=d.useState({}),[w,x]=d.useState(!1),[b,v]=d.useState(!1),[g,p]=d.useState([]),j=d.useRef(null);d.useEffect(()=>{e&&(o({email:e.email,firstName:e.first_name||"",lastName:e.last_name||"",tags:(e.tags||[]).join(", "),status:e.status}),k())},[e]),d.useEffect(()=>{t&&(C(),_())},[t]),d.useEffect(()=>{const A=T=>{j.current&&!j.current.contains(T.target)&&v(!1)};if(b)return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[b]);const C=async()=>{try{const{data:A,error:T}=await K.from("products").select("*").order("name");if(T)throw T;l(A||[])}catch(A){console.error("Error loading products:",A),B.error("Failed to load products")}},_=async()=>{try{const{data:A,error:T}=await K.from("contacts").select("tags").eq("user_id","550e8400-e29b-41d4-a716-446655440000");if(T)throw T;const{data:$,error:U}=await K.from("tag_rules").select("trigger_tags, add_tags, remove_tags").eq("user_id","550e8400-e29b-41d4-a716-446655440000");if(U)throw U;const Y=new Set;A?.forEach(L=>{L.tags&&L.tags.forEach(re=>Y.add(re.trim()))}),$?.forEach(L=>{L.trigger_tags&&L.trigger_tags.forEach(re=>Y.add(re.trim())),L.add_tags&&L.add_tags.forEach(re=>Y.add(re.trim())),L.remove_tags&&L.remove_tags.forEach(re=>Y.add(re.trim()))}),i.forEach(L=>{Y.add(L.name.trim()),L.category&&Y.add(L.category.trim())}),p(Array.from(Y).filter(Boolean).sort())}catch(A){console.error("Error loading tags:",A)}},k=async()=>{if(e)try{const{data:A,error:T}=await K.from("contact_products").select(`
          *,
          product:products(*)
        `).eq("contact_id",e.id);if(T)throw T;const $=A||[];u($);const U=new Set($.map(L=>L.product_id)),Y={};$.forEach(L=>{Y[L.product_id]=L.price_paid?.toString()||""}),m(U),y(Y)}catch(A){console.error("Error loading contact products:",A),B.error("Failed to load contact products")}},S=async()=>{if(e){x(!0);try{const{error:A}=await K.from("contacts").update({email:a.email.trim(),first_name:a.firstName.trim()||null,last_name:a.lastName.trim()||null,tags:a.tags.split(",").map($=>$.trim()).filter($=>$.length>0),status:a.status}).eq("id",e.id);if(A)throw A;const{error:T}=await K.from("contact_products").delete().eq("contact_id",e.id);if(T)throw T;if(h.size>0){const $=Array.from(h).map(Y=>({contact_id:e.id,product_id:Y,price_paid:f[Y]?parseFloat(f[Y]):null})),{error:U}=await K.from("contact_products").insert($);if(U)throw U}B.success("Contact updated successfully"),n(),r()}catch(A){console.error("Error updating contact:",A),B.error("Failed to update contact")}finally{x(!1)}}};return e?s.jsx(Nt,{open:t,onOpenChange:r,children:s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Edit Contact"}),s.jsx(mr,{children:"Update the contact information and product purchases below."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"email",children:"Email"}),s.jsx(be,{id:"email",type:"email",value:a.email,onChange:A=>o({...a,email:A.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"firstName",children:"First Name"}),s.jsx(be,{id:"firstName",value:a.firstName,onChange:A=>o({...a,firstName:A.target.value}),placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"lastName",children:"Last Name"}),s.jsx(be,{id:"lastName",value:a.lastName,onChange:A=>o({...a,lastName:A.target.value}),placeholder:"Doe"})]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"tags",children:"Tags"}),s.jsx(rr,{value:a.tags,onChange:A=>o({...a,tags:A}),suggestions:g,placeholder:"customer, premium, newsletter"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"status",children:"Status"}),s.jsxs(At,{value:a.status,onValueChange:A=>o({...a,status:A}),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"subscribed",children:"Subscribed"}),s.jsx(Se,{value:"unsubscribed",children:"Unsubscribed"})]})]})]})]})}),s.jsxs(y1,{children:[s.jsx(D,{variant:"outline",onClick:r,disabled:w,children:"Cancel"}),s.jsx(D,{onClick:S,disabled:w||!a.email.trim(),children:w?"Updating...":"Update Contact"})]})]})}):null},bO=()=>{const[e,t]=d.useState([]),[r,n]=d.useState([]),[a,o]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(!0),[h,m]=d.useState([]),[f,y]=d.useState(!1),[w,x]=d.useState(new Set),[b,v]=d.useState(!1),[g,p]=d.useState(!1),[j,C]=d.useState(""),[_,k]=d.useState(""),[S,A]=d.useState([]),[T,$]=d.useState([]),[U,Y]=d.useState([]),[L,re]=d.useState("add"),[W,q]=d.useState("add"),[P,I]=d.useState(!1),[R,z]=d.useState(null),[F,X]=d.useState({}),[ce,ge]=d.useState(!1),[J,Z]=d.useState({name:"",email:"",phone:"",tags:""}),[E,N]=d.useState(!1),[O,Q]=d.useState(null),[se,fe]=d.useState([]),[ne,ye]=d.useState({email:0,name:1,phone:2,tags:3}),[Ne,Fe]=d.useState(!1),[G]=d.useState(()=>"https://mixifcnokcmxarpzwfiy.supabase.co/functions/v1/sync-contacts");d.useEffect(()=>{xe(),ke(),Ge(),He()},[]),d.useEffect(()=>{const M=()=>{console.log(" Reloading contacts due to external update..."),xe()};return window.addEventListener("contactsUpdated",M),()=>window.removeEventListener("contactsUpdated",M)},[]),d.useEffect(()=>{We()},[e,a,i]);const ie=M=>M.split("@")[0].replace(/[._-]/g," ").replace(/\b\w/g,me=>me.toUpperCase()).trim(),xe=async()=>{try{console.log(" Loading contacts from database...");const{data:M,error:V}=await K.from("contacts").select("id, user_id, created_at, updated_at, email, first_name, last_name, status, tags").eq("user_id",Oe).eq("status","subscribed").order("created_at",{ascending:!1});if(console.log(" Contacts query result:",{data:M,error:V,count:M?.length}),V){console.error("Error loading contacts:",V),B.error("Failed to load contacts");return}const me=M||[],ee=me.map(je=>{let $e=[je.first_name,je.last_name].filter(Boolean).join(" ").trim();return!$e&&je.email&&($e=ie(je.email)),{id:je.id,name:$e||"Unknown",email:je.email,phone:"",tags:je.tags??[],created_at:je.created_at}}),le=ee.filter(je=>!(je.tags||[]).some($e=>($e||"").trim().toLowerCase()==="unsub"));t(le),console.log(` Loaded ${ee.length} contacts successfully`);const ve=new Set;me.forEach(je=>{je.tags?.forEach($e=>ve.add($e))}),m(Array.from(ve))}catch(M){console.error("Error loading contacts:",M),B.error("Failed to load contacts")}finally{u(!1)}},ke=async()=>{try{const{data:M,error:V}=await K.from("email_lists").select("*").eq("user_id",Oe).order("created_at",{ascending:!1});if(V){console.error("Error loading email lists:",V);return}A(M||[])}catch(M){console.error("Error loading email lists:",M)}},Ge=async()=>{try{const{data:M,error:V}=await K.from("contact_lists").select(`
          contact_id,
          email_lists!inner(id, name, list_type)
        `);if(V){console.error("Error loading contact lists:",V);return}const me={};M?.forEach(ee=>{me[ee.contact_id]||(me[ee.contact_id]=[]),me[ee.contact_id].push(ee.email_lists)}),X(me)}catch(M){console.error("Error loading contact lists:",M)}},He=async()=>{try{const{data:M,error:V}=await K.from("contacts").select("tags").eq("user_id",Oe);if(V)throw V;const{data:me,error:ee}=await K.from("tag_rules").select("trigger_tags, add_tags, remove_tags").eq("user_id",Oe);if(ee)throw ee;const le=new Set;M?.forEach(ve=>{ve.tags&&ve.tags.forEach(je=>le.add(je.trim()))}),me?.forEach(ve=>{ve.trigger_tags&&ve.trigger_tags.forEach(je=>le.add(je.trim())),ve.add_tags&&ve.add_tags.forEach(je=>le.add(je.trim())),ve.remove_tags&&ve.remove_tags.forEach(je=>le.add(je.trim()))}),m(Array.from(le).filter(Boolean).sort())}catch(M){console.error("Error loading tags:",M)}},We=()=>{let M=e;a&&(M=M.filter(V=>V.name?.toLowerCase().includes(a.toLowerCase())||V.email?.toLowerCase().includes(a.toLowerCase())||V.phone?.includes(a))),i&&(M=M.filter(V=>V.tags?.some(me=>me.toLowerCase().includes(i.toLowerCase())))),n(M)},Jt=async()=>{if(!J.email){B.error("Email is required");return}try{const M=J.tags.split(",").map(le=>le.trim()).filter(le=>le.length>0);let V="",me="";if(J.name.trim()){const le=J.name.trim(),[ve,...je]=le.split(/\s+/);V=ve,me=je.join(" ")}else{const le=ie(J.email),[ve,...je]=le.split(/\s+/);V=ve,me=je.join(" ")}const{error:ee}=await K.from("contacts").insert({user_id:Oe,email:J.email,first_name:V||null,last_name:me||null,tags:M.length?M:null});if(ee){console.error("Error adding contact:",ee),B.error("Failed to add contact");return}B.success("Contact added successfully!"),Z({name:"",email:"",phone:"",tags:""}),ge(!1),xe()}catch(M){console.error("Error adding contact:",M),B.error("Failed to add contact")}},it=async M=>{try{const{error:V}=await K.from("contacts").delete().eq("id",M);if(V){console.error("Error deleting contact:",V),B.error("Failed to delete contact");return}B.success("Contact deleted successfully!"),xe()}catch(V){console.error("Error deleting contact:",V),B.error("Failed to delete contact")}},st=()=>{navigator.clipboard.writeText(G),B.success("Webhook URL copied to clipboard!")},ht=(M,V)=>{const me=new Set(w);V?me.add(M):me.delete(M),x(me)},ft=M=>{x(M?new Set(r.map(V=>V.id)):new Set)},Vt=M=>{const V=M.target.files?.[0];V&&V.type==="text/csv"?(Q(V),ue(V)):B.error("Please select a valid CSV file")},ue=M=>{const V=new FileReader;V.onload=me=>{const ve=(me.target?.result).split(`
`).filter(je=>je.trim()).slice(0,6).map(je=>je.split(",").map($e=>$e.replace(/"/g,"").trim()));fe(ve)},V.readAsText(M)},Ae=async()=>{if(!O){B.error("Please select a CSV file");return}Fe(!0);try{const M=new FileReader;M.onload=async V=>{const le=(V.target?.result).split(`
`).filter($e=>$e.trim()).slice(1);let ve=0,je=0;for(const $e of le)try{const mt=$e.split(",").map(Ka=>Ka.replace(/"/g,"").trim()),Fr=mt[ne.email]||"";let yn=mt[ne.name]||"";const C3=mt[ne.phone]||"",N_=mt[ne.tags]||"";if(!Fr){je++;continue}yn||(yn=ie(Fr));const Dm=N_.split(",").map(Ka=>Ka.trim()).filter(Ka=>Ka.length>0),[C_,...S_]=yn.split(/\s+/),k_=S_.join(" "),{error:Lm}=await K.from("contacts").insert({user_id:Oe,email:Fr,first_name:C_||null,last_name:k_||null,tags:Dm.length?Dm:null});Lm?(console.error("Error importing contact:",Lm),je++):ve++}catch(mt){console.error("Error processing line:",mt),je++}B.success(`Imported ${ve} contacts successfully! ${je} failed.`),N(!1),Q(null),fe([]),xe()},M.readAsText(O)}catch(M){console.error("Error reading CSV file:",M),B.error("Failed to read CSV file")}finally{Fe(!1)}},Le=async()=>{if(w.size===0){B.error("Please select contacts");return}if(L==="add"&&!j.trim()){B.error("Please enter tags to add");return}if(L==="remove"&&!_.trim()){B.error("Please enter tags to remove");return}try{if(L==="add"){const M=j.split(",").map(V=>V.trim()).filter(V=>V.length>0);for(const V of w){const me=e.find(ee=>ee.id===V);if(me){const ee=me.tags||[],le=[...new Set([...ee,...M])],{error:ve}=await K.from("contacts").update({tags:le}).eq("id",V);if(ve)throw ve}}B.success(`Added tags to ${w.size} contacts`)}else{const M=_.split(",").map(V=>V.trim()).filter(V=>V.length>0);for(const V of w){const me=e.find(ee=>ee.id===V);if(me){const le=(me.tags||[]).filter(je=>!M.includes(je)),{error:ve}=await K.from("contacts").update({tags:le}).eq("id",V);if(ve)throw ve}}B.success(`Removed tags from ${w.size} contacts`)}C(""),k(""),x(new Set),v(!1),xe()}catch(M){console.error("Error managing bulk tags:",M),B.error("Failed to manage tags")}},ze=async()=>{if(w.size===0){B.error("Please select contacts");return}if((W==="add"?T:U).length===0){B.error(`Please select lists to ${W}`);return}try{if(W==="add"){const V=[];for(const ee of w)for(const le of T)V.push({contact_id:ee,list_id:le});const{error:me}=await K.from("contact_lists").upsert(V,{onConflict:"contact_id,list_id"});if(me)throw me;B.success(`Added ${w.size} contacts to ${T.length} lists`)}else{for(const V of w)for(const me of U){const{error:ee}=await K.from("contact_lists").delete().eq("contact_id",V).eq("list_id",me);if(ee)throw ee}B.success(`Removed ${w.size} contacts from ${U.length} lists`)}$([]),Y([]),x(new Set),p(!1),Ge()}catch(V){console.error("Error managing contacts in lists:",V),B.error("Failed to manage contacts in lists")}};return c?s.jsx("div",{className:"p-6",children:"Loading contacts..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(_e,{className:"shadow-soft border-email-primary/20 bg-gradient-to-br from-email-background to-background",children:s.jsxs(T1,{open:f,onOpenChange:y,children:[s.jsx(P1,{asChild:!0,children:s.jsxs(Be,{className:"cursor-pointer hover:bg-email-muted/50 transition-colors",children:[s.jsxs(Ve,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ho,{className:"h-5 w-5 text-email-primary"}),s.jsx("span",{className:"text-email-primary",children:"Make.com Integration"})]}),f?s.jsx($a,{className:"h-4 w-4 text-email-primary"}):s.jsx(Of,{className:"h-4 w-4 text-email-primary"})]}),s.jsx(ot,{children:"Use this webhook URL in Make.com to automatically sync contacts from Google Sheets"})]})}),s.jsx(R1,{children:s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{value:G,readOnly:!0,className:"border-email-primary/30"}),s.jsx(D,{onClick:st,variant:"outline",className:"border-email-primary hover:bg-email-primary/10 text-email-primary",children:"Copy"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{children:"Expected JSON format:"})}),s.jsx("pre",{className:"bg-email-muted/30 p-2 rounded text-xs mt-2 border border-email-primary/10",children:`{
  "email": "customer@example.com",
  "name": "John Doe",
  "phone": "+1234567890", 
  "tags": ["customer", "premium", "lazy-motion-library"],
  "action": "create"
}`})]})]})})]})}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(Ve,{className:"flex items-center space-x-2",children:[s.jsx(fr,{className:"h-5 w-5 text-email-secondary"}),s.jsxs("span",{className:"text-email-secondary",children:["Contacts (",r.length,")"]}),w.size>0&&s.jsxs(Ce,{variant:"secondary",className:"bg-email-accent/20 text-email-accent",children:[w.size," selected"]})]}),s.jsx(ot,{children:"Manage your contacts with tag-based organization. Names auto-generated from emails when missing."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>v(!0),className:"border-email-accent text-email-accent hover:bg-email-accent/10",children:[s.jsx(ln,{className:"h-4 w-4 mr-1"}),"Manage Tags"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"border-email-secondary text-email-secondary hover:bg-email-secondary/10",children:[s.jsx(fr,{className:"h-4 w-4 mr-1"}),"Manage Lists"]})]}),s.jsxs(Nt,{open:E,onOpenChange:N,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm",className:"border-email-primary text-email-primary hover:bg-email-primary/10",children:[s.jsx(ak,{className:"h-4 w-4 mr-1"}),"Import CSV"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Import Contacts from CSV"}),s.jsx(mr,{children:"Upload a CSV file with contacts. Names will be auto-generated from emails if missing."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"csv-file",children:"Select CSV File"}),s.jsx(be,{id:"csv-file",type:"file",accept:".csv",onChange:Vt,className:"border-email-primary/30 focus:border-email-primary"})]}),se.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-email-primary",children:"CSV Preview"}),s.jsx("div",{className:"bg-email-muted/20 rounded-lg p-3 border border-email-primary/10 overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:se[0]?.map((M,V)=>s.jsxs("th",{className:"text-left p-2 border-b border-email-primary/20",children:["Column ",V+1]},V))})}),s.jsx("tbody",{children:se.slice(0,5).map((M,V)=>s.jsx("tr",{children:M.map((me,ee)=>s.jsx("td",{className:"p-2 border-b border-email-primary/10",children:me||"-"},ee))},V))})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{children:"Email Column"}),s.jsx("select",{value:ne.email,onChange:M=>ye({...ne,email:parseInt(M.target.value)}),className:"w-full p-2 border border-email-primary/30 rounded-md focus:border-email-primary",children:se[0]?.map((M,V)=>s.jsxs("option",{value:V,children:["Column ",V+1]},V))})]}),s.jsxs("div",{children:[s.jsx(H,{children:"Name Column (Optional)"}),s.jsxs("select",{value:ne.name,onChange:M=>ye({...ne,name:parseInt(M.target.value)}),className:"w-full p-2 border border-email-primary/30 rounded-md focus:border-email-primary",children:[s.jsx("option",{value:-1,children:"Auto-generate from email"}),se[0]?.map((M,V)=>s.jsxs("option",{value:V,children:["Column ",V+1]},V))]})]}),s.jsxs("div",{children:[s.jsx(H,{children:"Phone Column (Optional)"}),s.jsxs("select",{value:ne.phone,onChange:M=>ye({...ne,phone:parseInt(M.target.value)}),className:"w-full p-2 border border-email-primary/30 rounded-md focus:border-email-primary",children:[s.jsx("option",{value:-1,children:"Skip"}),se[0]?.map((M,V)=>s.jsxs("option",{value:V,children:["Column ",V+1]},V))]})]}),s.jsxs("div",{children:[s.jsx(H,{children:"Tags Column (Optional)"}),s.jsxs("select",{value:ne.tags,onChange:M=>ye({...ne,tags:parseInt(M.target.value)}),className:"w-full p-2 border border-email-primary/30 rounded-md focus:border-email-primary",children:[s.jsx("option",{value:-1,children:"Skip"}),se[0]?.map((M,V)=>s.jsxs("option",{value:V,children:["Column ",V+1]},V))]})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{onClick:Ae,disabled:!O||Ne,className:"flex-1 bg-email-primary hover:bg-email-primary/90",children:Ne?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(m0,{className:"h-4 w-4 mr-2"}),"Import Contacts"]})}),s.jsx(D,{variant:"outline",onClick:()=>N(!1),className:"flex-1",disabled:Ne,children:"Cancel"})]})]})]})]}),s.jsxs(Nt,{open:ce,onOpenChange:ge,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(D,{className:"bg-email-primary hover:bg-email-primary/80",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Contact"]})}),s.jsxs(vt,{children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Add New Contact"}),s.jsx(mr,{children:"Add a new contact with tags for better organization. Name will be auto-generated from email if not provided."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",children:"Name (Optional)"}),s.jsx(be,{id:"name",value:J.name,onChange:M=>Z({...J,name:M.target.value}),placeholder:"John Doe (auto-generated from email if empty)",className:"border-email-primary/30 focus:border-email-primary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",children:"Email *"}),s.jsx(be,{id:"email",type:"email",value:J.email,onChange:M=>Z({...J,email:M.target.value}),placeholder:"john.doe@example.com",className:"border-email-primary/30 focus:border-email-primary"}),J.email&&!J.name&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(bk,{className:"h-3 w-3 mr-1"}),"Name will be: ",ie(J.email)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"phone",children:"Phone"}),s.jsx(be,{id:"phone",value:J.phone,onChange:M=>Z({...J,phone:M.target.value}),placeholder:"+1234567890",className:"border-email-primary/30 focus:border-email-primary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"tags",children:"Tags"}),s.jsx(rr,{value:J.tags,onChange:M=>Z({...J,tags:M}),suggestions:h,placeholder:"customer, premium, lazy-motion-library"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{onClick:Jt,className:"flex-1 bg-email-primary hover:bg-email-primary/90",children:"Add Contact"}),s.jsx(D,{variant:"outline",onClick:()=>ge(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row space-y-2 lg:space-y-0 lg:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(be,{placeholder:"Search contacts...",value:a,onChange:M=>o(M.target.value),className:"border-email-primary/30 focus:border-email-primary"})}),s.jsx("div",{className:"flex-1",children:s.jsx(be,{placeholder:"Filter by tag...",value:i,onChange:M=>l(M.target.value),className:"border-email-primary/30 focus:border-email-primary"})})]}),h.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-sm font-medium",children:"Available Tags:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(M=>s.jsxs(Ce,{variant:"outline",className:"cursor-pointer hover:bg-email-accent/10",onClick:()=>l(M),children:[s.jsx(ln,{className:"h-3 w-3 mr-1"}),M]},M))})]}),s.jsxs("div",{className:"space-y-2",children:[r.length>0&&s.jsxs("div",{className:"flex items-center p-3 bg-email-muted/30 rounded-lg border border-email-primary/10",children:[s.jsx("input",{type:"checkbox",checked:w.size===r.length&&r.length>0,onChange:M=>ft(M.target.checked),className:"h-4 w-4 text-email-primary focus:ring-email-primary border-gray-300 rounded"}),s.jsxs(H,{className:"ml-3 text-sm font-medium text-email-primary cursor-pointer",children:["Select All (",r.length,")"]})]}),r.map(M=>s.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg hover:bg-email-muted/20 transition-colors ${w.has(M.id)?"bg-email-primary/10 border-email-primary/30":"border-email-primary/10"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("input",{type:"checkbox",checked:w.has(M.id),onChange:V=>ht(M.id,V.target.checked),className:"h-4 w-4 text-email-primary focus:ring-email-primary border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:M.name}),s.jsx("p",{className:"text-sm text-gray-600 break-all",children:M.email}),M.phone&&s.jsx("p",{className:"text-sm text-gray-500",children:M.phone})]})}),M.tags&&M.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:M.tags.map(V=>s.jsx(Ce,{variant:"secondary",className:"text-xs bg-email-accent/20 text-email-accent",children:V},V))}),F[M.id]&&F[M.id].length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Lists:"}),F[M.id].map(V=>s.jsxs(Ce,{variant:"outline",className:"text-xs border-email-secondary/30 text-email-secondary",children:[s.jsx(fr,{className:"h-3 w-3 mr-1"}),V.name]},V.id))]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{z(M),I(!0)},className:"text-email-primary hover:text-email-primary/80 hover:bg-email-primary/10",children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>it(M.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Ir,{className:"h-4 w-4"})})]})]},M.id)),r.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:e.length===0?s.jsxs("div",{children:[s.jsx(fr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{children:"No contacts yet. Add your first contact or import from CSV!"})]}):"No contacts match your filters"})]})]})]}),s.jsx(Nt,{open:b,onOpenChange:v,children:s.jsxs(vt,{children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Manage Tags for Selected Contacts"}),s.jsxs(mr,{children:["Add or remove tags for ",w.size," selected contacts"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{children:"Operation"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"add-tags",name:"tagOperation",checked:L==="add",onChange:()=>re("add")}),s.jsx(H,{htmlFor:"add-tags",children:"Add Tags"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"remove-tags",name:"tagOperation",checked:L==="remove",onChange:()=>re("remove")}),s.jsx(H,{htmlFor:"remove-tags",children:"Remove Tags"})]})]})]}),L==="add"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"bulkTags",children:"Tags to Add"}),s.jsx(rr,{value:j,onChange:C,suggestions:h,placeholder:"premium, newsletter, product-customer"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"bulkTagsRemove",children:"Tags to Remove"}),s.jsx(rr,{value:_,onChange:k,suggestions:h,placeholder:"premium, newsletter, product-customer"})]}),h.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-sm font-medium",children:"Available Tags:"}),s.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:h.map(M=>s.jsxs(Ce,{variant:"outline",className:"cursor-pointer hover:bg-email-accent/10 border-email-accent/30",onClick:()=>{if(L==="add"){const V=j.split(",").map(me=>me.trim()).filter(me=>me.length>0);V.includes(M)||C(V.length>0?`${j}, ${M}`:M)}else{const V=_.split(",").map(me=>me.trim()).filter(me=>me.length>0);V.includes(M)||k(V.length>0?`${_}, ${M}`:M)}},children:[s.jsx(ln,{className:"h-3 w-3 mr-1"}),M]},M))})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{onClick:Le,className:"flex-1 bg-email-accent hover:bg-email-accent/80",children:L==="add"?"Add Tags":"Remove Tags"}),s.jsx(D,{variant:"outline",onClick:()=>{v(!1),C(""),k("")},className:"flex-1",children:"Cancel"})]})]})]})}),s.jsx(Nt,{open:g,onOpenChange:p,children:s.jsxs(vt,{children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Manage Contacts in Lists"}),s.jsxs(mr,{children:["Add or remove ",w.size," selected contacts from email lists"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{children:"Operation"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"add-to-lists",name:"listOperation",checked:W==="add",onChange:()=>q("add")}),s.jsx(H,{htmlFor:"add-to-lists",children:"Add to Lists"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"remove-from-lists",name:"listOperation",checked:W==="remove",onChange:()=>q("remove")}),s.jsx(H,{htmlFor:"remove-from-lists",children:"Remove from Lists"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Select Lists:"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:S.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No email lists found. Create some lists first."}):S.filter(M=>W==="remove"?Array.from(w).some(V=>F[V]?.some(me=>me.id===M.id)):!0).map(M=>{const V=Array.from(w).some(ee=>F[ee]?.some(le=>le.id===M.id)),me=W==="add"&&V;return s.jsxs("div",{className:`flex items-center space-x-3 ${me?"opacity-50":""}`,children:[s.jsx("input",{type:"checkbox",id:`bulk-list-${W}-${M.id}`,disabled:me,checked:W==="add"?T.includes(M.id):U.includes(M.id),onChange:ee=>{W==="add"?ee.target.checked?$([...T,M.id]):$(T.filter(le=>le!==M.id)):ee.target.checked?Y([...U,M.id]):Y(U.filter(le=>le!==M.id))},className:"h-4 w-4 text-email-primary focus:ring-email-primary border-gray-300 rounded"}),s.jsxs(H,{htmlFor:`bulk-list-${W}-${M.id}`,className:"flex-1 cursor-pointer",children:[s.jsx("div",{className:"font-medium",children:M.name}),M.description&&s.jsx("div",{className:"text-sm text-muted-foreground",children:M.description}),s.jsxs("div",{className:"text-xs text-email-secondary",children:[M.list_type==="dynamic"?"Dynamic":"Static"," List",me&&" (Already added)"]})]})]},M.id)})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{onClick:ze,className:"flex-1 bg-email-secondary hover:bg-email-secondary/80",disabled:W==="add"&&T.length===0||W==="remove"&&U.length===0||S.length===0,children:W==="add"?"Add to Lists":"Remove from Lists"}),s.jsx(D,{variant:"outline",onClick:()=>{p(!1),$([]),Y([])},className:"flex-1",children:"Cancel"})]})]})]})}),R&&s.jsx(wO,{contact:{id:R.id,email:R.email,first_name:R.name.split(" ")[0]||"",last_name:R.name.split(" ").slice(1).join(" ")||null,status:"subscribed",tags:R.tags},isOpen:P,onClose:()=>{I(!1),z(null)},onContactUpdated:()=>{xe(),I(!1),z(null)}})]})};var Am="Checkbox",[jO,q3]=jr(Am),[_O,NO]=jO(Am),A1=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...m}=e,[f,y]=d.useState(null),w=Re(t,j=>y(j)),x=d.useRef(!1),b=f?h||!!f.closest("form"):!0,[v=!1,g]=Or({prop:a,defaultProp:o,onChange:u}),p=d.useRef(v);return d.useEffect(()=>{const j=f?.form;if(j){const C=()=>g(p.current);return j.addEventListener("reset",C),()=>j.removeEventListener("reset",C)}},[f,g]),s.jsxs(_O,{scope:r,state:v,disabled:l,children:[s.jsx(we.button,{type:"button",role:"checkbox","aria-checked":Hn(v)?"mixed":v,"aria-required":i,"data-state":O1(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onKeyDown:ae(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ae(e.onClick,j=>{g(C=>Hn(C)?!0:!C),b&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),b&&s.jsx(CO,{control:f,bubbles:!x.current,name:n,value:c,checked:v,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Hn(o)?!1:o})]})});A1.displayName=Am;var I1="CheckboxIndicator",M1=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=NO(I1,r);return s.jsx(Ut,{present:n||Hn(o.state)||o.state===!0,children:s.jsx(we.span,{"data-state":O1(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});M1.displayName=I1;var CO=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=d.useRef(null),l=pm(r),c=Hf(t);d.useEffect(()=>{const h=i.current,m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&y){const w=new Event("click",{bubbles:n});h.indeterminate=Hn(r),y.call(h,Hn(r)?!1:r),h.dispatchEvent(w)}},[l,r,n]);const u=d.useRef(Hn(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Hn(e){return e==="indeterminate"}function O1(e){return Hn(e)?"indeterminate":e?"checked":"unchecked"}var D1=A1,SO=M1;const sc=d.forwardRef(({className:e,...t},r)=>s.jsx(D1,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(SO,{className:he("flex items-center justify-center text-current"),children:s.jsx(Hr,{className:"h-4 w-4"})})}));sc.displayName=D1.displayName;var Im="Switch",[kO,K3]=jr(Im),[EO,TO]=kO(Im),L1=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...m}=e,[f,y]=d.useState(null),w=Re(t,p=>y(p)),x=d.useRef(!1),b=f?h||!!f.closest("form"):!0,[v=!1,g]=Or({prop:a,defaultProp:o,onChange:u});return s.jsxs(EO,{scope:r,checked:v,disabled:l,children:[s.jsx(we.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":z1(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onClick:ae(e.onClick,p=>{g(j=>!j),b&&(x.current=p.isPropagationStopped(),x.current||p.stopPropagation())})}),b&&s.jsx(PO,{control:f,bubbles:!x.current,name:n,value:c,checked:v,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});L1.displayName=Im;var $1="SwitchThumb",F1=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=TO($1,r);return s.jsx(we.span,{"data-state":z1(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});F1.displayName=$1;var PO=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=d.useRef(null),i=pm(r),l=Hf(t);return d.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&m){const f=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(f)}},[i,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function z1(e){return e?"checked":"unchecked"}var U1=L1,RO=F1;const wa=d.forwardRef(({className:e,...t},r)=>s.jsx(U1,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(RO,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wa.displayName=U1.displayName;const gv=({ruleConfig:e,onRuleChange:t,availableTags:r,availableLists:n})=>{const[a,o]=d.useState(e?.rules||[{id:"1",type:"has_any_tags",values:[]}]),[i,l]=d.useState(e?.globalOperator||"and"),c=(v,g)=>{t({rules:v,globalOperator:g,requiredTags:v.filter(p=>p.type==="has_any_tags").flatMap(p=>p.values)})},u=()=>{const v={id:Date.now().toString(),type:"has_any_tags",values:[]},g=[...a,v];o(g),c(g,i)},h=v=>{const g=a.filter(p=>p.id!==v);o(g),c(g,i)},m=(v,g)=>{const p=a.map(j=>j.id===v?{...j,...g}:j);o(p),c(p,i)},f=(v,g)=>{const p=a.find(j=>j.id===v);p&&!p.values.includes(g)&&m(v,{values:[...p.values,g]})},y=(v,g)=>{const p=a.find(j=>j.id===v);p&&m(v,{values:p.values.filter(j=>j!==g)})},w=v=>{l(v),c(a,v)},x=v=>{switch(v){case"has_any_tags":return"Has any of these tags";case"has_all_tags":return"Has all of these tags";case"not_has_tags":return"Does not have any of these tags";case"in_any_lists":return"Is in any of these lists";case"in_all_lists":return"Is in all of these lists";case"not_in_lists":return"Is not in any of these lists";default:return v}},b=()=>"~50";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{className:"text-base font-medium",children:"Dynamic Rules"}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsxs("span",{children:["Estimated: ",b()," contacts"]})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Contacts matching these rules will automatically be added to this list"}),a.length>1&&s.jsx(_e,{className:"p-3",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(H,{children:"Match:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wa,{checked:i==="and",onCheckedChange:v=>w(v?"and":"or")}),s.jsx(H,{className:"text-sm",children:i==="and"?"All rules must match":"Any rule can match"})]})]})}),s.jsx("div",{className:"space-y-3",children:a.map((v,g)=>s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(H,{className:"text-sm font-medium",children:["Rule ",g+1,a.length>1&&g>0&&s.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:i.toUpperCase()})]}),a.length>1&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>h(v.id),children:s.jsx(Kn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-xs",children:"Condition"}),s.jsxs(At,{value:v.type,onValueChange:p=>m(v.id,{type:p,values:[]}),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{className:"z-[120] bg-background",children:[s.jsx(Se,{value:"has_any_tags",children:"Has any of these tags"}),s.jsx(Se,{value:"has_all_tags",children:"Has all of these tags"}),s.jsx(Se,{value:"not_has_tags",children:"Does not have these tags"}),s.jsx(Se,{value:"in_any_lists",children:"Is in any of these lists"}),s.jsx(Se,{value:"in_all_lists",children:"Is in all of these lists"}),s.jsx(Se,{value:"not_in_lists",children:"Is not in these lists"})]})]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs",children:v.type.includes("lists")?"Select Lists":"Select Tags"}),s.jsxs(At,{onValueChange:p=>f(v.id,p),children:[s.jsx(jt,{children:s.jsx(It,{placeholder:`Add ${v.type.includes("lists")?"list":"tag"}...`})}),s.jsx(_t,{className:"z-[120] bg-background",children:v.type.includes("lists")?n&&n.length>0?n.filter(p=>p&&p.id&&typeof p.id=="string"&&p.id.trim().length>0).map(p=>s.jsx(Se,{value:p.id,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ta,{className:"h-3 w-3"}),s.jsx("span",{children:p.name})]})},p.id)):s.jsx(Se,{value:"no-lists",disabled:!0,children:"No lists available"}):r&&r.length>0?r.filter(p=>p&&typeof p=="string"&&p.trim().length>0).map(p=>s.jsx(Se,{value:p,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ln,{className:"h-3 w-3"}),s.jsx("span",{children:p})]})},p)):s.jsx(Se,{value:"no-tags",disabled:!0,children:"No tags available"})})]})]})]}),v.values.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs",children:"Selected:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.values.map(p=>{const j=v.type.includes("lists")&&n.find(C=>C.id===p)?.name||p;return s.jsxs(Ce,{variant:"secondary",className:"cursor-pointer",onClick:()=>y(v.id,p),children:[v.type.includes("lists")?s.jsx(Ta,{className:"h-3 w-3 mr-1"}):s.jsx(ln,{className:"h-3 w-3 mr-1"}),j," ",s.jsx(Kn,{className:"h-3 w-3 ml-1"})]},p)})})]}),s.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:[x(v.type),v.values.length>0&&s.jsxs("span",{children:[": ",v.values.map(p=>v.type.includes("lists")&&n.find(j=>j.id===p)?.name||p).join(", ")]})]})]})},v.id))}),s.jsxs(D,{variant:"outline",onClick:u,className:"w-full",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Rule"]}),s.jsxs(_e,{className:"p-3",children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Quick Templates:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{const v=[{id:"1",type:"has_any_tags",values:[]}];o(v),c(v,"or")},children:"Tag-based"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{const v=[{id:"1",type:"has_any_tags",values:[]},{id:"2",type:"not_has_tags",values:[]}];o(v),l("and"),c(v,"and")},children:"Include & Exclude"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{const v=[{id:"1",type:"in_any_lists",values:[]}];o(v),c(v,"or")},children:"List-based"})]})]})]})},AO=({onFilterChange:e,availableTags:t,availableLists:r,allContacts:n})=>{const[a,o]=d.useState(!1),[i,l]=d.useState([]),[c,u]=d.useState("and"),[h,m]=d.useState({});d.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:j,error:C}=await K.from("contact_lists").select("contact_id, list_id");if(C)throw C;const _={};j?.forEach(k=>{_[k.contact_id]||(_[k.contact_id]=[]),_[k.contact_id].push(k.list_id)}),m(_)}catch(j){console.error("Error loading contact list memberships:",j)}},y=()=>{const j={id:Date.now().toString(),type:"has_tags",values:[],operator:"or"};l([...i,j])},w=j=>{l(i.filter(C=>C.id!==j))},x=(j,C)=>{l(i.map(_=>_.id===j?{..._,...C}:_))},b=(j,C)=>{const _=i.find(k=>k.id===j);_&&!_.values.includes(C)&&x(j,{values:[..._.values,C]})},v=(j,C)=>{const _=i.find(k=>k.id===j);_&&x(j,{values:_.values.filter(k=>k!==C)})},g=()=>{let j=[];if(i.length===0)j=n.map(C=>C.id);else{const C=i.map(_=>n.filter(k=>{switch(_.type){case"has_tags":return _.operator==="and"?_.values.every(T=>k.tags?.includes(T)):_.values.some(T=>k.tags?.includes(T));case"not_has_tags":return _.operator==="and"?_.values.every(T=>!k.tags?.includes(T)):!_.values.some(T=>k.tags?.includes(T));case"in_lists":const S=h[k.id]||[];return _.operator==="and"?_.values.every(T=>S.includes(T)):_.values.some(T=>S.includes(T));case"not_in_lists":const A=h[k.id]||[];return _.operator==="and"?_.values.every(T=>!A.includes(T)):!_.values.some(T=>A.includes(T));default:return!0}}).map(k=>k.id));c==="and"?j=C.reduce((_,k)=>_.filter(S=>k.includes(S)),C[0]||[]):j=[...new Set(C.flat())]}e(j),o(!1)},p=()=>{l([]),e(n.map(j=>j.id))};return s.jsxs(Nt,{open:a,onOpenChange:o,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm",children:[s.jsx(u0,{className:"h-4 w-4 mr-2"}),"Advanced Filter",i.length>0&&s.jsx(Ce,{variant:"secondary",className:"ml-2",children:i.length})]})}),s.jsxs(vt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Advanced Contact Filter"}),s.jsx(mr,{children:"Create complex filters to target specific segments of your contacts"})]}),s.jsxs("div",{className:"space-y-6",children:[i.length>1&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(H,{children:"Match:"}),s.jsxs(At,{value:c,onValueChange:j=>u(j),children:[s.jsx(jt,{className:"w-32",children:s.jsx(It,{})}),s.jsxs(_t,{className:"z-[120] bg-background",children:[s.jsx(Se,{value:"and",children:"All filters"}),s.jsx(Se,{value:"or",children:"Any filter"})]})]})]}),s.jsx("div",{className:"space-y-4",children:i.map((j,C)=>s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(H,{className:"text-sm font-medium",children:["Filter ",C+1]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>w(j.id),children:s.jsx(Kn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-xs",children:"Condition"}),s.jsxs(At,{value:j.type,onValueChange:_=>x(j.id,{type:_,values:[]}),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{className:"z-[120] bg-background",children:[s.jsx(Se,{value:"has_tags",children:"Has tags"}),s.jsx(Se,{value:"not_has_tags",children:"Does not have tags"}),s.jsx(Se,{value:"in_lists",children:"In lists"}),s.jsx(Se,{value:"not_in_lists",children:"Not in lists"})]})]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs",children:"Match"}),s.jsxs(At,{value:j.operator,onValueChange:_=>x(j.id,{operator:_}),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{className:"z-[120] bg-background",children:[s.jsx(Se,{value:"or",children:"Any selected"}),s.jsx(Se,{value:"and",children:"All selected"})]})]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs",children:"Values"}),s.jsxs(At,{onValueChange:_=>b(j.id,_),children:[s.jsx(jt,{children:s.jsx(It,{placeholder:"Select values..."})}),s.jsx(_t,{className:"z-[120] bg-background",children:j.type.includes("tags")?t&&t.length>0?t.filter(_=>_&&typeof _=="string"&&_.trim().length>0).map(_=>s.jsx(Se,{value:_,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ln,{className:"h-3 w-3"}),s.jsx("span",{children:_})]})},_)):s.jsx(Se,{value:"no-tags",disabled:!0,children:"No tags available"}):r&&r.length>0?r.filter(_=>_&&_.id&&typeof _.id=="string"&&_.id.trim().length>0).map(_=>s.jsx(Se,{value:_.id,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ta,{className:"h-3 w-3"}),s.jsx("span",{children:_.name})]})},_.id)):s.jsx(Se,{value:"no-lists",disabled:!0,children:"No lists available"})})]})]})]}),j.values.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs",children:"Selected:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.values.map(_=>{const k=j.type.includes("lists")&&r.find(S=>S.id===_)?.name||_;return s.jsxs(Ce,{variant:"secondary",className:"cursor-pointer",onClick:()=>v(j.id,_),children:[k," ",s.jsx(Kn,{className:"h-3 w-3 ml-1"})]},_)})})]})]})},j.id))}),s.jsxs(D,{variant:"outline",onClick:y,className:"w-full",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Filter"]}),s.jsxs("div",{className:"flex space-x-2 pt-4 border-t",children:[s.jsx(D,{onClick:g,className:"flex-1",children:"Apply Filters"}),s.jsx(D,{variant:"outline",onClick:p,children:"Clear All"}),s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]})]})},IO=()=>{const[e,t]=d.useState([]),[r,n]=d.useState([]),[a,o]=d.useState([]),[i,l]=d.useState(!0),[c,u]=d.useState(!1),[h,m]=d.useState(null),[f,y]=d.useState([]),[w,x]=d.useState([]),[b,v]=d.useState(new Set),[g,p]=d.useState(""),[j,C]=d.useState([]),[_,k]=d.useState(!1),[S,A]=d.useState(null),[T,$]=d.useState({name:"",description:"",list_type:"static",ruleConfig:null}),[U,Y]=d.useState(!1),[L,re]=d.useState({name:"",description:"",list_type:"static",ruleConfig:null});d.useEffect(()=>{W(),q()},[]);const W=async()=>{try{const{data:N,error:O}=await K.from("email_lists").select(`
          *,
          contact_lists(count)
        `).eq("user_id",Oe).order("created_at",{ascending:!1});if(O){console.error("Error loading lists:",O),B.error("Failed to load lists");return}const Q=(N||[]).map(ne=>({id:ne.id,name:ne.name,description:ne.description||"",list_type:ne.list_type==="dynamic"?"dynamic":"static",rule_config:ne.rule_config??null,created_at:ne.created_at,contact_count:ne.contact_lists?.[0]?.count||0}));t(Q);const{data:se,error:fe}=await K.from("contacts").select("id, first_name, last_name, email, tags").eq("user_id",Oe);if(fe)console.error("Error loading contacts:",fe);else{const ne=(se||[]).map(Ne=>({id:Ne.id,name:[Ne.first_name,Ne.last_name].filter(Boolean).join(" ").trim(),email:Ne.email,tags:Ne.tags??[]}));n(ne);const ye=new Set;ne.forEach(Ne=>{Ne.tags?.forEach(Fe=>ye.add(Fe))}),o(Array.from(ye))}}catch(N){console.error("Error loading data:",N),B.error("Failed to load data")}finally{l(!1)}},q=async()=>{try{const{data:N,error:O}=await K.from("contacts").select("tags").eq("user_id",Oe);if(O)throw O;const{data:Q,error:se}=await K.from("tag_rules").select("trigger_tags, add_tags, remove_tags").eq("user_id",Oe);if(se)throw se;const fe=new Set;N?.forEach(ne=>{ne.tags&&ne.tags.forEach(ye=>fe.add(ye.trim()))}),Q?.forEach(ne=>{ne.trigger_tags&&ne.trigger_tags.forEach(ye=>fe.add(ye.trim())),ne.add_tags&&ne.add_tags.forEach(ye=>fe.add(ye.trim())),ne.remove_tags&&ne.remove_tags.forEach(ye=>fe.add(ye.trim()))}),o(Array.from(fe).filter(Boolean).sort())}catch(N){console.error("Error loading tags:",N)}},P=async()=>{if(!L.name){B.error("List name is required");return}try{let N=L.ruleConfig;if(L.list_type==="dynamic"&&!N){B.error("Dynamic lists require rules to be configured");return}const{data:O,error:Q}=await K.from("email_lists").insert({name:L.name,description:L.description,user_id:Oe,list_type:L.list_type,rule_config:N}).select().single();if(Q){console.error("Error creating list:",Q),B.error("Failed to create list");return}L.list_type==="dynamic"&&N&&await I(O.id,N),B.success("List created successfully!"),re({name:"",description:"",list_type:"static",ruleConfig:null}),Y(!1),W()}catch(N){console.error("Error creating list:",N),B.error("Failed to create list")}},I=async(N,O)=>{try{const Q=r.filter(se=>{if(!O.rules||!Array.isArray(O.rules))return O.requiredTags&&Array.isArray(O.requiredTags)?O.requiredTags.some(ne=>se.tags?.includes(ne)):!1;const fe=O.rules.map(ne=>{switch(ne.type){case"has_any_tags":return ne.values.some(ye=>se.tags?.includes(ye));case"has_all_tags":return ne.values.every(ye=>se.tags?.includes(ye));case"not_has_tags":return!ne.values.some(ye=>se.tags?.includes(ye));default:return!1}});return O.globalOperator==="and"?fe.every(ne=>ne):fe.some(ne=>ne)});if(Q.length>0){const se=Q.map(ne=>({contact_id:ne.id,list_id:N})),{error:fe}=await K.from("contact_lists").upsert(se,{onConflict:"contact_id,list_id"});fe?console.error("Error populating dynamic list:",fe):console.log(`Added ${Q.length} contacts to dynamic list`)}}catch(Q){console.error("Error populating dynamic list:",Q)}},R=async N=>{try{await K.from("contact_lists").delete().eq("list_id",N);const{error:O}=await K.from("email_lists").delete().eq("id",N);if(O){console.error("Error deleting list:",O),B.error("Failed to delete list");return}B.success("List deleted successfully!"),W()}catch(O){console.error("Error deleting list:",O),B.error("Failed to delete list")}},z=async N=>{if(!(N.list_type!=="dynamic"||!N.rule_config))try{await K.from("contact_lists").delete().eq("list_id",N.id),await I(N.id,N.rule_config),B.success(`Refreshed ${N.name} with latest contacts`),W()}catch(O){console.error("Error refreshing dynamic list:",O),B.error("Failed to refresh list")}},F=async N=>{m(N),u(!0);const{data:O,error:Q}=await K.from("contacts").select("id, first_name, last_name, email, tags").eq("user_id",Oe);if(Q){console.error("Error loading contacts:",Q);return}const{data:se,error:fe}=await K.from("contact_lists").select(`
        contact_id,
        contacts(id, first_name, last_name, email, tags)
      `).eq("list_id",N.id);if(fe){console.error("Error loading list memberships:",fe);return}const ne=(O||[]).map(G=>({id:G.id,name:[G.first_name,G.last_name].filter(Boolean).join(" ").trim(),email:G.email,tags:G.tags??[]})),ye=(se||[]).map(G=>G.contacts).filter(Boolean).map(G=>({id:G.id,name:[G.first_name,G.last_name].filter(Boolean).join(" ").trim(),email:G.email,tags:G.tags??[]})),Ne=new Set(ye.map(G=>G.id)),Fe=ne.filter(G=>!Ne.has(G.id));y(Fe),x(ye)},X=async()=>{if(!(!h||b.size===0))try{const N=Array.from(b).map(Q=>({contact_id:Q,list_id:h.id})),{error:O}=await K.from("contact_lists").upsert(N,{onConflict:"contact_id,list_id"});if(O)throw O;B.success(`Added ${b.size} contacts to ${h.name}`),v(new Set),u(!1),W()}catch(N){console.error("Error adding contacts to list:",N),B.error("Failed to add contacts to list")}},ce=async N=>{if(h)try{const{error:O}=await K.from("contact_lists").delete().eq("contact_id",N).eq("list_id",h.id);if(O)throw O;B.success("Contact removed from list"),F(h)}catch(O){console.error("Error removing contact from list:",O),B.error("Failed to remove contact from list")}},ge=N=>{A(N),$({name:N.name,description:N.description,list_type:N.list_type,ruleConfig:N.rule_config}),k(!0)},J=async()=>{if(!S||!T.name.trim()){B.error("List name is required");return}try{let N=T.ruleConfig;if(T.list_type==="dynamic"&&!N){B.error("Dynamic lists require rules to be configured");return}const{error:O}=await K.from("email_lists").update({name:T.name,description:T.description,list_type:T.list_type,rule_config:N}).eq("id",S.id);if(O)throw O;T.list_type==="dynamic"&&N&&await I(S.id,N),B.success("List updated successfully!"),k(!1),A(null),W()}catch(N){console.error("Error updating list:",N),B.error("Failed to update list")}},Z=async N=>{try{const O=`${N.name} (Copy)`,{data:Q,error:se}=await K.from("email_lists").insert({name:O,description:`Static copy of ${N.name}`,user_id:Oe,list_type:"static",rule_config:null}).select().single();if(se)throw se;const{data:fe,error:ne}=await K.from("contact_lists").select("contact_id").eq("list_id",N.id);if(ne)throw ne;if(fe&&fe.length>0){const ye=fe.map(Fe=>({contact_id:Fe.contact_id,list_id:Q.id})),{error:Ne}=await K.from("contact_lists").insert(ye);if(Ne)throw Ne}B.success(`Created static copy: ${O}`),W()}catch(O){console.error("Error duplicating list:",O),B.error("Failed to duplicate list")}},E=f.filter(N=>{const O=!g||N.name.toLowerCase().includes(g.toLowerCase())||N.email.toLowerCase().includes(g.toLowerCase())||N.tags.some(se=>se.toLowerCase().includes(g.toLowerCase())),Q=j.length===0||j.includes(N.id);return O&&Q});return i?s.jsx("div",{className:"p-6",children:"Loading lists..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ve,{className:"flex items-center space-x-2",children:[s.jsx(Ta,{className:"h-5 w-5 text-email-secondary"}),s.jsxs("span",{className:"text-email-secondary",children:["Smart Lists (",e.length,")"]})]}),s.jsx(ot,{children:"Create static lists you control manually, or dynamic lists that auto-update based on advanced rules"})]}),s.jsxs(Nt,{open:U,onOpenChange:Y,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(D,{className:"bg-email-primary hover:bg-email-primary/80",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Create List"]})}),s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Create New List"}),s.jsx(mr,{children:"Create a static list you manage manually, or a dynamic list that auto-updates"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"listName",children:"List Name"}),s.jsx(be,{id:"listName",value:L.name,onChange:N=>re({...L,name:N.target.value}),placeholder:"e.g., High-Value Customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"listDescription",children:"Description"}),s.jsx(xr,{id:"listDescription",value:L.description,onChange:N=>re({...L,description:N.target.value}),placeholder:"Describe what this list is for..."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{children:"List Type"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"static",name:"listType",checked:L.list_type==="static",onChange:()=>re({...L,list_type:"static",ruleConfig:null})}),s.jsxs(H,{htmlFor:"static",className:"flex items-center space-x-2",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsx("span",{children:"Static List - I'll manage contacts manually"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"dynamic",name:"listType",checked:L.list_type==="dynamic",onChange:()=>re({...L,list_type:"dynamic"})}),s.jsxs(H,{htmlFor:"dynamic",className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4"}),s.jsx("span",{children:"Dynamic List - Auto-update based on advanced rules"})]})]})]})]}),L.list_type==="dynamic"&&s.jsx(_e,{className:"p-4 bg-blue-50",children:s.jsx(gv,{ruleConfig:L.ruleConfig,onRuleChange:N=>re({...L,ruleConfig:N}),availableTags:a,availableLists:e.map(N=>({id:N.id,name:N.name}))})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{onClick:P,className:"flex-1",children:"Create List"}),s.jsx(D,{variant:"outline",onClick:()=>Y(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[e.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-email-muted/20 transition-colors border-email-primary/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[N.list_type==="dynamic"?s.jsx(gs,{className:"h-4 w-4 text-email-accent"}):s.jsx(fr,{className:"h-4 w-4 text-email-secondary"}),s.jsx("h3",{className:"font-medium text-email-primary",children:N.name}),s.jsx(Ce,{variant:N.list_type==="dynamic"?"default":"secondary",className:N.list_type==="dynamic"?"bg-email-accent/20 text-email-accent":"bg-email-secondary/20 text-email-secondary",children:N.list_type})]})}),N.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[N.contact_count||0," contacts"]}),N.list_type==="dynamic"&&N.rule_config?.rules&&s.jsx("div",{className:"flex flex-wrap gap-1",children:s.jsxs(Ce,{variant:"outline",className:"text-xs border-email-accent/30 text-email-accent",children:[N.rule_config.rules.length," rule",N.rule_config.rules.length!==1?"s":""]})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[N.list_type==="static"&&s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>F(N),className:"border-email-primary text-email-primary hover:bg-email-primary/10",children:[s.jsx(qs,{className:"h-4 w-4 mr-1"}),"Manage"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>ge(N),className:"border-email-secondary text-email-secondary hover:bg-email-secondary/10",children:[s.jsx(on,{className:"h-4 w-4 mr-1"}),"Edit"]}),N.list_type==="dynamic"&&s.jsxs(s.Fragment,{children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>z(N),className:"text-email-accent hover:text-email-accent/80 border-email-accent/30 hover:bg-email-accent/10",children:[s.jsx(gs,{className:"h-4 w-4 mr-1"}),"Refresh"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>Z(N),className:"border-email-warning/50 text-email-warning hover:bg-email-warning/10",children:[s.jsx(sk,{className:"h-4 w-4 mr-1"}),"Duplicate"]})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>R(N.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Ir,{className:"h-4 w-4"})})]})]},N.id)),e.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No lists created yet. Create your first list above!"})]})})]}),s.jsx(Nt,{open:c,onOpenChange:u,children:s.jsxs(vt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xt,{children:[s.jsxs(yt,{children:["Manage Contacts - ",h?.name]}),s.jsx(mr,{children:"Add or remove contacts from this list using advanced filtering"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-email-primary",children:"Available Contacts"}),b.size>0&&s.jsxs(Ce,{variant:"secondary",className:"bg-email-accent/20 text-email-accent",children:[b.size," selected"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(be,{value:g,onChange:N=>p(N.target.value),placeholder:"Search contacts by name, email, or tags...",className:"pl-10"})]}),s.jsx(AO,{onFilterChange:C,availableTags:a,availableLists:e.map(N=>({id:N.id,name:N.name})),allContacts:f.map(N=>({id:N.id,tags:N.tags}))})]}),s.jsx("div",{className:"border rounded-lg p-4 max-h-80 overflow-y-auto bg-email-muted/10",children:E.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:g||j.length>0?"No contacts found matching filters":"All contacts are already in this list"}):s.jsx("div",{className:"space-y-2",children:E.map(N=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded hover:bg-email-primary/10",children:[s.jsx(sc,{id:`add-${N.id}`,checked:b.has(N.id),onCheckedChange:O=>{const Q=new Set(b);O?Q.add(N.id):Q.delete(N.id),v(Q)}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{htmlFor:`add-${N.id}`,className:"text-sm font-medium cursor-pointer",children:N.name||"No name"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:N.email}),N.tags&&N.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[N.tags.slice(0,3).map(O=>s.jsx(Ce,{variant:"outline",className:"text-xs",children:O},O)),N.tags.length>3&&s.jsxs(Ce,{variant:"outline",className:"text-xs",children:["+",N.tags.length-3]})]})]})]},N.id))})}),b.size>0&&s.jsxs(D,{onClick:X,className:"w-full bg-email-primary hover:bg-email-primary/80",children:["Add ",b.size," Contact",b.size!==1?"s":""," to List"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-email-secondary",children:["Contacts in List (",w.length,")"]}),s.jsx("div",{className:"border rounded-lg p-4 max-h-80 overflow-y-auto bg-email-muted/10",children:w.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No contacts in this list yet"}):s.jsx("div",{className:"space-y-2",children:w.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-email-secondary/10",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium",children:N.name||"No name"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:N.email}),N.tags&&N.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[N.tags.slice(0,3).map(O=>s.jsx(Ce,{variant:"outline",className:"text-xs",children:O},O)),N.tags.length>3&&s.jsxs(Ce,{variant:"outline",className:"text-xs",children:["+",N.tags.length-3]})]})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>ce(N.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Ir,{className:"h-3 w-3"})})]},N.id))})})]})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:s.jsx(D,{variant:"outline",onClick:()=>{u(!1),v(new Set),C([])},children:"Close"})})]})}),s.jsx(Nt,{open:_,onOpenChange:k,children:s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Edit List"}),s.jsx(mr,{children:"Modify list settings and rules"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"editListName",children:"List Name"}),s.jsx(be,{id:"editListName",value:T.name,onChange:N=>$({...T,name:N.target.value}),placeholder:"e.g., High-Value Customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"editListDescription",children:"Description"}),s.jsx(xr,{id:"editListDescription",value:T.description,onChange:N=>$({...T,description:N.target.value}),placeholder:"Describe what this list is for..."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{children:"List Type"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"edit-static",name:"editListType",checked:T.list_type==="static",onChange:()=>$({...T,list_type:"static",ruleConfig:null})}),s.jsxs(H,{htmlFor:"edit-static",className:"flex items-center space-x-2",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsx("span",{children:"Static List - I'll manage contacts manually"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"edit-dynamic",name:"editListType",checked:T.list_type==="dynamic",onChange:()=>$({...T,list_type:"dynamic"})}),s.jsxs(H,{htmlFor:"edit-dynamic",className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4"}),s.jsx("span",{children:"Dynamic List - Auto-update based on advanced rules"})]})]})]})]}),T.list_type==="dynamic"&&s.jsx(_e,{className:"p-4 bg-blue-50",children:s.jsx(gv,{ruleConfig:T.ruleConfig,onRuleChange:N=>$({...T,ruleConfig:N}),availableTags:a,availableLists:e.map(N=>({id:N.id,name:N.name}))})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{onClick:J,className:"flex-1",children:"Update List"}),s.jsx(D,{variant:"outline",onClick:()=>k(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},MO=()=>{const[e,t]=d.useState(""),[r,n]=d.useState(""),[a,o]=d.useState(!1),[i,l]=d.useState(!1),[c,u]=d.useState(!1),[h,m]=d.useState(!1);d.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:p,error:j}=await K.from("user_settings").select("webhook_url, ai_instructions").eq("user_id",Oe).single();if(j&&j.code!=="PGRST116"){console.error("Error loading settings:",j);return}p?(t(p.webhook_url||""),n(p.ai_instructions||y())):n(y())}catch(p){console.error("Error loading settings:",p)}},y=()=>`You are an expert email content creator. Create clean, professional email content that follows these guidelines:

1. STRUCTURE - Keep it simple and clean:
   - Start with "Hey {{name}}," as the greeting
   - Use minimal sections with proper spacing
   - Avoid excessive decorative elements or highlights
   - End with a signature section

2. CONTENT REQUIREMENTS:
   - Write in a professional yet friendly tone
   - Be specific and actionable
   - Include relevant details and clear calls-to-action
   - End with "Best regards," followed by the sender's name on a new line

3. STYLING - Keep it minimal and professional:
   - Use simple paragraph structure for most content
   - Only use <div class="content-section"> for main content blocks when absolutely needed
   - Use <a href="#" class="button"> only for actual call-to-action buttons
   - Avoid excessive highlighting or decorative containers

4. VISUAL ELEMENTS:
   - Use emojis very sparingly (0-1 per email maximum)
   - Create clean visual hierarchy with simple headers
   - Focus on readability over decoration

EXAMPLE CLEAN STRUCTURE:
Hey {{name}},

Thank you for your purchase!

Your order details and download instructions are provided below.

<a href="#" class="button">Download Files</a>

Best regards,
Your Name

Return ONLY the clean email content.`,w=async()=>{if(!e.trim()){B.error("Please enter your Make.com webhook URL");return}l(!0);try{const p={user_id:Oe,webhook_url:e},{error:j}=await K.from("user_settings").upsert(p,{onConflict:"user_id"});if(j){console.error("Error saving settings:",j),B.error("Failed to save settings. Please try again.");return}B.success("Webhook URL saved successfully!")}catch(p){console.error("Error saving settings:",p),B.error("Failed to save settings. Please try again.")}finally{l(!1)}},x=async()=>{if(!r.trim()){B.error("AI instructions cannot be empty");return}m(!0);try{const p={user_id:Oe,ai_instructions:r},{error:j}=await K.from("user_settings").upsert(p,{onConflict:"user_id"});if(j){console.error("Error saving AI instructions:",j),B.error("Failed to save AI instructions. Please try again.");return}B.success("AI instructions saved successfully!")}catch(p){console.error("Error saving AI instructions:",p),B.error("Failed to save AI instructions. Please try again.")}finally{m(!1)}},b=()=>{n(y()),B.success("Reset to default AI instructions")},v=(p="Your Subject",j="Your email content")=>`${r}

CONTENT REQUIREMENTS:
- Subject: "${p}"
- Content: ${j}

Return ONLY the email content following the instructions above.`,g=async()=>{if(!e.trim()){B.error("Please enter a webhook URL first");return}u(!0);try{const p={to:"test@example.com",name:"Test User",subject:"Webhook Test Email",html:"<h1>This is a test email from your Email Campaign Manager</h1><p>If you receive this, your webhook is working correctly!</p>",timestamp:new Date().toISOString(),test:!0},j=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});j.ok?B.success(`Webhook test successful! Response: ${j.status}`):B.error(`Webhook test failed: ${j.status} - ${j.statusText}`)}catch(p){console.error("Webhook test error:",p),B.error(`Webhook test failed: ${p.message}`)}finally{u(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsxs(Be,{children:[s.jsxs(Ve,{className:"flex items-center space-x-2",children:[s.jsx(Ho,{className:"h-5 w-5"}),s.jsx("span",{children:"Make.com Integration"})]}),s.jsx(ot,{children:"Connect your Make.com webhook to send emails through your preferred service"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"webhook",children:"Webhook URL"}),s.jsx(be,{id:"webhook",placeholder:"https://hook.eu1.make.com/your-webhook-url",value:e,onChange:p=>t(p.target.value)})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(D,{onClick:g,disabled:c,variant:"outline",children:[s.jsx(gs,{className:"h-4 w-4 mr-2"}),c?"Testing...":"Test Connection"]}),s.jsx(D,{onClick:w,disabled:i,children:i?"Saving...":"Save Settings"})]})]})]}),s.jsxs(_e,{children:[s.jsxs(Be,{children:[s.jsxs(Ve,{className:"flex items-center space-x-2",children:[s.jsx(ek,{className:"h-5 w-5"}),s.jsx("span",{children:"AI Email Generation Instructions"})]}),s.jsx(ot,{children:"Customize how the AI generates email content. These instructions guide the AI's writing style and structure."})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"ai-instructions",children:"AI Instructions"}),s.jsx(xr,{id:"ai-instructions",placeholder:"Enter your custom AI instructions...",value:r,onChange:p=>n(p.target.value),rows:12,className:"font-mono text-sm"})]}),s.jsxs(T1,{open:a,onOpenChange:o,children:[s.jsx(P1,{asChild:!0,children:s.jsxs(D,{variant:"ghost",className:"w-full justify-between p-0 h-auto",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[a?"Hide":"Show"," Complete AI Prompt (What Claude Actually Sees)"]}),a?s.jsx($a,{className:"h-4 w-4"}):s.jsx(Of,{className:"h-4 w-4"})]})}),s.jsxs(R1,{className:"space-y-2 mt-2",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"COMPLETE PROMPT SENT TO CLAUDE:"}),s.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono mt-2 max-h-60 overflow-y-auto",children:v()})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" The AI gets your custom instructions above PLUS additional dynamic content requirements (subject, prompt) and formatting rules."})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(D,{onClick:b,variant:"outline",children:"Reset to Defaults"}),s.jsx(D,{onClick:x,disabled:h,children:h?"Saving...":"Save AI Instructions"})]})]})]})]})},OO=()=>{const[e,t]=d.useState([]),[r,n]=d.useState({name:"",description:"",price:"",category:"",sku:""}),[a,o]=d.useState(!1),[i,l]=d.useState(null);d.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:f,error:y}=await K.from("products").select("*").eq("user_id",Oe).order("created_at",{ascending:!1});if(y)throw y;t(f||[])}catch(f){console.error("Error loading products:",f),B.error("Failed to load products")}},u=async()=>{if(!r.name){B.error("Product name is required");return}try{const{data:f,error:y}=await K.from("products").insert([{user_id:Oe,name:r.name,description:r.description||null,price:r.price?parseFloat(r.price):null,category:r.category||null,sku:r.sku||null}]).select().single();if(y)throw y;t(w=>[f,...w]),n({name:"",description:"",price:"",category:"",sku:""}),o(!1),B.success("Product added successfully")}catch(f){console.error("Error adding product:",f),B.error("Failed to add product")}},h=async()=>{if(!i||!i.name){B.error("Product name is required");return}try{const{data:f,error:y}=await K.from("products").update({name:i.name,description:i.description||null,price:i.price,category:i.category||null,sku:i.sku||null}).eq("id",i.id).select().single();if(y)throw y;t(w=>w.map(x=>x.id===i.id?f:x)),l(null),B.success("Product updated successfully")}catch(f){console.error("Error updating product:",f),B.error("Failed to update product")}},m=async f=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:y}=await K.from("products").delete().eq("id",f);if(y)throw y;t(w=>w.filter(x=>x.id!==f)),B.success("Product deleted successfully")}catch(y){console.error("Error deleting product:",y),B.error("Failed to delete product")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-email-primary",children:"Product Management"}),s.jsxs(Nt,{open:a,onOpenChange:o,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(D,{className:"bg-email-primary hover:bg-email-primary/80",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),s.jsxs(vt,{children:[s.jsx(xt,{children:s.jsx(yt,{children:"Add New Product"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",children:"Product Name *"}),s.jsx(be,{id:"name",value:r.name,onChange:f=>n(y=>({...y,name:f.target.value})),placeholder:"Premium Widget"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"description",children:"Description"}),s.jsx(xr,{id:"description",value:r.description,onChange:f=>n(y=>({...y,description:f.target.value})),placeholder:"Product description...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"price",children:"Price"}),s.jsx(be,{id:"price",type:"number",step:"0.01",value:r.price,onChange:f=>n(y=>({...y,price:f.target.value})),placeholder:"99.99"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"sku",children:"SKU"}),s.jsx(be,{id:"sku",value:r.sku,onChange:f=>n(y=>({...y,sku:f.target.value})),placeholder:"WIDGET-001"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"category",children:"Category"}),s.jsx(be,{id:"category",value:r.category,onChange:f=>n(y=>({...y,category:f.target.value})),placeholder:"Electronics"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{onClick:u,children:"Add Product"})]})]})]})]})]}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background",children:[s.jsx(Be,{children:s.jsxs(Ve,{className:"flex items-center text-email-secondary",children:[s.jsx(Ju,{className:"h-5 w-5 mr-2"}),"Products (",e.length,")"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-3",children:e.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No products found. Add your first product above."}):e.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-email-muted/20 transition-colors border-email-primary/10",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-email-accent/20 rounded-full flex items-center justify-center",children:s.jsx(Ju,{className:"h-5 w-5 text-email-accent"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-email-primary",children:f.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.category&&`${f.category}  `,f.sku&&`SKU: ${f.sku}  `,f.price?`$${f.price}`:"No price set"]}),f.description&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:f.description})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>l(f),className:"border-email-secondary text-email-secondary hover:bg-email-secondary/10",children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>m(f.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Ir,{className:"h-4 w-4"})})]})]},f.id))})})]}),s.jsx(Nt,{open:i!==null,onOpenChange:()=>l(null),children:s.jsxs(vt,{children:[s.jsx(xt,{children:s.jsx(yt,{children:"Edit Product"})}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"edit-name",children:"Product Name *"}),s.jsx(be,{id:"edit-name",value:i.name,onChange:f=>l(y=>y?{...y,name:f.target.value}:null),placeholder:"Premium Widget"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"edit-description",children:"Description"}),s.jsx(xr,{id:"edit-description",value:i.description||"",onChange:f=>l(y=>y?{...y,description:f.target.value}:null),placeholder:"Product description...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"edit-price",children:"Price"}),s.jsx(be,{id:"edit-price",type:"number",step:"0.01",value:i.price||"",onChange:f=>l(y=>y?{...y,price:parseFloat(f.target.value)||null}:null),placeholder:"99.99"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"edit-sku",children:"SKU"}),s.jsx(be,{id:"edit-sku",value:i.sku||"",onChange:f=>l(y=>y?{...y,sku:f.target.value}:null),placeholder:"WIDGET-001"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"edit-category",children:"Category"}),s.jsx(be,{id:"edit-category",value:i.category||"",onChange:f=>l(y=>y?{...y,category:f.target.value}:null),placeholder:"Electronics"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),s.jsx(D,{onClick:h,children:"Update Product"})]})]})]})})]})},B1=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",e),...t})}));B1.displayName="Table";const V1=d.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:he("[&_tr]:border-b",e),...t}));V1.displayName="TableHeader";const H1=d.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",e),...t}));H1.displayName="TableBody";const DO=d.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));DO.displayName="TableFooter";const pl=d.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pl.displayName="TableRow";const mo=d.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));mo.displayName="TableHead";const Js=d.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Js.displayName="TableCell";const LO=d.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",e),...t}));LO.displayName="TableCaption";var W1="AlertDialog",[$O,G3]=jr(W1,[Zj]),xn=Zj(),q1=e=>{const{__scopeAlertDialog:t,...r}=e,n=xn(t);return s.jsx(p1,{...n,...r,modal:!0})};q1.displayName=W1;var FO="AlertDialogTrigger",K1=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xn(r);return s.jsx(g1,{...a,...n,ref:t})});K1.displayName=FO;var zO="AlertDialogPortal",G1=e=>{const{__scopeAlertDialog:t,...r}=e,n=xn(t);return s.jsx(v1,{...n,...r})};G1.displayName=zO;var UO="AlertDialogOverlay",Y1=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xn(r);return s.jsx(bm,{...a,...n,ref:t})});Y1.displayName=UO;var ba="AlertDialogContent",[BO,VO]=$O(ba),Q1=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=xn(r),i=d.useRef(null),l=Re(t,i),c=d.useRef(null);return s.jsx(ZM,{contentName:ba,titleName:J1,docsSlug:"alert-dialog",children:s.jsx(BO,{scope:r,cancelRef:c,children:s.jsxs(jm,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ae(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Pf,{children:n}),s.jsx(WO,{contentRef:i})]})})})});Q1.displayName=ba;var J1="AlertDialogTitle",X1=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xn(r);return s.jsx(_m,{...a,...n,ref:t})});X1.displayName=J1;var Z1="AlertDialogDescription",e_=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xn(r);return s.jsx(Nm,{...a,...n,ref:t})});e_.displayName=Z1;var HO="AlertDialogAction",t_=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xn(r);return s.jsx(Cm,{...a,...n,ref:t})});t_.displayName=HO;var r_="AlertDialogCancel",n_=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=VO(r_,r),o=xn(r),i=Re(t,a);return s.jsx(Cm,{...o,...n,ref:i})});n_.displayName=r_;var WO=({contentRef:e})=>{const t=`\`${ba}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ba}\` by passing a \`${Z1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ba}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},qO=q1,KO=K1,GO=G1,s_=Y1,a_=Q1,o_=t_,i_=n_,l_=X1,c_=e_;const vv=qO,xv=KO,YO=GO,d_=d.forwardRef(({className:e,...t},r)=>s.jsx(s_,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));d_.displayName=s_.displayName;const Eh=d.forwardRef(({className:e,...t},r)=>s.jsxs(YO,{children:[s.jsx(d_,{}),s.jsx(a_,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Eh.displayName=a_.displayName;const Th=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",e),...t});Th.displayName="AlertDialogHeader";const Ph=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ph.displayName="AlertDialogFooter";const Rh=d.forwardRef(({className:e,...t},r)=>s.jsx(l_,{ref:r,className:he("text-lg font-semibold",e),...t}));Rh.displayName=l_.displayName;const Ah=d.forwardRef(({className:e,...t},r)=>s.jsx(c_,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));Ah.displayName=c_.displayName;const Ih=d.forwardRef(({className:e,...t},r)=>s.jsx(o_,{ref:r,className:he(nm(),e),...t}));Ih.displayName=o_.displayName;const Mh=d.forwardRef(({className:e,...t},r)=>s.jsx(i_,{ref:r,className:he(nm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Mh.displayName=i_.displayName;const QO=()=>{const[e,t]=d.useState([]),[r,n]=d.useState([]),[a,o]=d.useState(null),[i,l]=d.useState(!1),[c,u]=d.useState(!1),[h,m]=d.useState(""),[f,y]=d.useState(""),[w,x]=d.useState(""),[b,v]=d.useState("all"),[g,p]=d.useState(!1),[j,C]=d.useState(null),[_,k]=d.useState(new Set),[S,A]=d.useState(!1),[T,$]=d.useState(!1),[U,Y]=d.useState({totalCampaigns:0,activeCampaigns:0,totalSent:0,successRate:0});d.useEffect(()=>{re();const N=setInterval(re,5e3);return()=>clearInterval(N)},[]),d.useEffect(()=>{L()},[e]);const L=()=>{const N=e.length,O=e.filter(ne=>ne.status==="sending"||ne.status==="paused").length,Q=e.reduce((ne,ye)=>ne+(ye.sent_count||0),0),se=e.reduce((ne,ye)=>ne+(ye.total_recipients||0),0),fe=se>0?Q/se*100:0;Y({totalCampaigns:N,activeCampaigns:O,totalSent:Q,successRate:fe})},re=async()=>{try{const{data:N,error:O}=await K.from("campaigns").select("*").eq("user_id",Oe).order("created_at",{ascending:!1});if(O)throw O;const Q=(N||[]).map(se=>({...se,failed_count:0}));t(Q)}catch(N){console.error("Error loading campaigns:",N),B.error("Failed to load campaigns")}},W=async N=>{try{const{error:O}=await K.from("campaigns").delete().eq("id",N).eq("user_id",Oe);if(O){console.error("Error deleting campaign:",O),B.error("Failed to delete campaign");return}B.success("Campaign deleted successfully"),re(),C(null),a?.id===N&&(o(null),l(!1))}catch(O){console.error("Error deleting campaign:",O),B.error("Failed to delete campaign")}},q=async()=>{if(_.size!==0){$(!0);try{const N=Array.from(_),{error:O}=await K.from("campaigns").delete().in("id",N).eq("user_id",Oe);if(O){console.error("Error deleting campaigns:",O),B.error("Failed to delete campaigns");return}B.success(`Successfully deleted ${N.length} campaign(s)`),k(new Set),A(!1),re()}catch(N){console.error("Error deleting campaigns:",N),B.error("Failed to delete campaigns")}finally{$(!1)}}},P=N=>{const O=new Set(_);O.has(N)?O.delete(N):O.add(N),k(O)},I=()=>{const N=new Set(J.map(O=>O.id));k(N)},R=()=>{k(new Set),A(!1)},z=async N=>{try{const{data:O,error:Q}=await K.from("campaign_sends").select("*").eq("campaign_id",N).order("created_at",{ascending:!1});if(Q)throw Q;n(O||[])}catch(O){console.error("Error loading campaign sends:",O),B.error("Failed to load campaign send details")}},F=N=>{o(N),z(N.id),l(!0)},X=async()=>{if(!a||!h.trim()){B.error("Please enter a list name");return}try{const{data:N,error:O}=await K.from("email_lists").insert([{user_id:Oe,name:h.trim(),description:f.trim()||`Created from campaign: ${a.name}`}]).select().single();if(O)throw O;const Q=r.filter(Ne=>Ne.status==="sent");if(Q.length===0){B.error("No successful sends found in this campaign");return}const{data:se,error:fe}=await K.from("contacts").select("id").in("email",Q.map(Ne=>Ne.contact_email)).eq("user_id",Oe);if(fe)throw fe;const ne=se.map(Ne=>({contact_id:Ne.id,list_id:N.id})),{error:ye}=await K.from("contact_lists").insert(ne);if(ye)throw ye;B.success(`Created list "${h}" with ${se.length} contacts`),u(!1),m(""),y("")}catch(N){console.error("Error creating list from campaign:",N),B.error("Failed to create list from campaign")}},ce=N=>{switch(N){case"sent":return"default";case"draft":return"secondary";case"sending":return"destructive";case"paused":return"outline";case"failed":return"destructive";default:return"outline"}},ge=N=>{switch(N){case"sending":return s.jsx(gs,{className:"h-3 w-3"});case"paused":return s.jsx(h0,{className:"h-3 w-3"});case"sent":return s.jsx(an,{className:"h-3 w-3"});case"failed":return s.jsx(Df,{className:"h-3 w-3"});default:return s.jsx(ys,{className:"h-3 w-3"})}},J=e.filter(N=>{const O=N.name.toLowerCase().includes(w.toLowerCase())||N.subject.toLowerCase().includes(w.toLowerCase()),Q=b==="all"||N.status===b;return O&&Q}),Z=N=>{const O=[["Email","Status","Sent At","Error"].join(","),...r.map(ne=>[ne.contact_email,ne.status,ne.sent_at||"",ne.error_message||""].join(","))].join(`
`),Q=new Blob([O],{type:"text/csv"}),se=window.URL.createObjectURL(Q),fe=document.createElement("a");fe.href=se,fe.download=`campaign-${N.name}-data.csv`,fe.click(),window.URL.revokeObjectURL(se)},E=N=>!N.total_recipients||N.total_recipients===0?0:N.sent_count/N.total_recipients*100;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl lg:text-3xl font-bold text-email-primary flex items-center",children:[s.jsx(i0,{className:"h-6 w-6 lg:h-7 lg:w-7 mr-3"}),"Campaign Dashboard"]}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Monitor and manage all your email campaigns"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{onClick:()=>{p(!0),re()},disabled:g,variant:"outline",className:"w-full lg:w-auto",children:[s.jsx(Br,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),"Refresh"]}),s.jsx(D,{onClick:()=>A(!S),variant:S?"default":"outline",className:"w-full lg:w-auto",children:S?"Exit Select":"Select Multiple"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(_e,{className:"bg-gradient-to-br from-email-primary/10 to-email-primary/5 border-email-primary/20",children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground",children:"Total Campaigns"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-email-primary",children:U.totalCampaigns})]}),s.jsx(ps,{className:"h-6 w-6 lg:h-8 lg:w-8 text-email-primary/60"})]})})}),s.jsx(_e,{className:"bg-gradient-to-br from-email-accent/10 to-email-accent/5 border-email-accent/20",children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground",children:"Active Campaigns"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-email-accent",children:U.activeCampaigns})]}),s.jsx(gs,{className:"h-6 w-6 lg:h-8 lg:w-8 text-email-accent/60"})]})})}),s.jsx(_e,{className:"bg-gradient-to-br from-green-100 to-green-50 border-green-200",children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground",children:"Total Sent"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-green-600",children:U.totalSent.toLocaleString()})]}),s.jsx(Zu,{className:"h-6 w-6 lg:h-8 lg:w-8 text-green-600/60"})]})})}),s.jsx(_e,{className:"bg-gradient-to-br from-email-secondary/10 to-email-secondary/5 border-email-secondary/20",children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground",children:"Success Rate"}),s.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-email-secondary",children:[U.successRate.toFixed(1),"%"]})]}),s.jsx(an,{className:"h-6 w-6 lg:h-8 lg:w-8 text-email-secondary/60"})]})})})]}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ve,{className:"text-lg lg:text-xl text-email-primary",children:"Campaign Filters"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(be,{placeholder:"Search campaigns by name or subject...",value:w,onChange:N=>x(N.target.value),className:"pl-10 border-email-primary/30 focus:border-email-primary"})]})}),s.jsx("div",{className:"lg:w-48",children:s.jsxs("select",{value:b,onChange:N=>v(N.target.value),className:"w-full p-2 border border-email-primary/30 rounded-md focus:border-email-primary focus:ring-1 focus:ring-email-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"sending",children:"Sending"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"sent",children:"Completed"}),s.jsx("option",{value:"failed",children:"Failed"})]})})]})})]}),S&&s.jsx(_e,{className:"bg-gradient-to-r from-email-primary/10 to-email-accent/10 border-email-primary/30",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm font-medium text-email-primary",children:[_.size," of ",J.length," campaigns selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{size:"sm",variant:"outline",onClick:I,disabled:_.size===J.length,children:"Select All"}),s.jsx(D,{size:"sm",variant:"outline",onClick:R,disabled:_.size===0,children:"Clear Selection"})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(vv,{children:[s.jsx(xv,{asChild:!0,children:s.jsxs(D,{size:"sm",variant:"destructive",disabled:_.size===0||T,children:[s.jsx(Ir,{className:"h-4 w-4 mr-2"}),T?"Deleting...":`Delete ${_.size} Campaign(s)`]})}),s.jsxs(Eh,{children:[s.jsxs(Th,{children:[s.jsxs(Rh,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(og,{className:"h-5 w-5"}),"Delete ",_.size," Campaign(s)"]}),s.jsxs(Ah,{children:["Are you sure you want to delete ",_.size," selected campaign(s)? This action cannot be undone and will permanently remove all campaign data including send history."]})]}),s.jsxs(Ph,{children:[s.jsx(Mh,{children:"Cancel"}),s.jsxs(Ih,{onClick:q,className:"bg-destructive hover:bg-destructive/90",children:["Delete ",_.size," Campaign(s)"]})]})]})]})})]})})}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsx(Be,{children:s.jsxs(Ve,{className:"flex items-center text-email-secondary",children:[s.jsx(ps,{className:"h-5 w-5 mr-2"}),s.jsxs("span",{children:["All Campaigns (",J.length,")"]})]})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-3",children:J.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ps,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:e.length===0?"No campaigns found. Create your first campaign in the Compose tab.":"No campaigns match your current filters."})]}):J.map(N=>s.jsxs("div",{className:`flex flex-col lg:flex-row items-start lg:items-center justify-between p-4 border rounded-lg transition-all duration-200 border-email-primary/10 hover:border-email-primary/30 ${_.has(N.id)?"bg-email-primary/10 border-email-primary/40":"hover:bg-gray-50"} ${S?"":"cursor-pointer"}`,onClick:()=>{S?P(N.id):F(N)},children:[s.jsxs("div",{className:"flex items-start space-x-4 w-full lg:w-auto mb-3 lg:mb-0",children:[S&&s.jsx("div",{className:"flex items-center",children:s.jsx("input",{type:"checkbox",checked:_.has(N.id),onChange:()=>P(N.id),onClick:O=>O.stopPropagation(),className:"w-4 h-4 text-email-primary border-gray-300 rounded focus:ring-email-primary"})}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-email-primary to-email-accent rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(ps,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-email-primary text-base lg:text-lg",children:N.name}),s.jsxs("div",{className:"text-sm text-muted-foreground truncate",children:["Subject: ",N.subject]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Created: ",new Date(N.created_at).toLocaleDateString()," at ",new Date(N.created_at).toLocaleTimeString(),N.sent_at&&`  Completed: ${new Date(N.sent_at).toLocaleDateString()}`]}),N.current_recipient&&N.status==="sending"&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 font-medium",children:["Currently sending to: ",N.current_recipient]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-3 lg:space-y-0 lg:space-x-4 w-full lg:w-auto",children:[(N.status==="sending"||N.status==="paused")&&s.jsxs("div",{className:"w-full lg:w-32",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round(E(N)),"%"]})]}),s.jsx(nc,{value:E(N),className:"h-2"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Ce,{variant:ce(N.status),className:"flex items-center space-x-1",children:[ge(N.status),s.jsx("span",{className:"capitalize",children:N.status})]}),s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("div",{className:"font-semibold text-email-primary",children:[N.sent_count||0,"/",N.total_recipients||0]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.failed_count>0&&s.jsxs("span",{className:"text-red-600",children:[N.failed_count," failed"]}),N.current_sender_sequence&&s.jsxs("div",{children:["Sender #",N.current_sender_sequence]})]})]}),!S&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(D,{size:"sm",variant:"ghost",onClick:O=>{O.stopPropagation(),F(N)},className:"h-8 w-8 p-0",children:s.jsx(d0,{className:"h-4 w-4"})}),s.jsxs(vv,{children:[s.jsx(xv,{asChild:!0,children:s.jsx(D,{size:"sm",variant:"ghost",onClick:O=>{O.stopPropagation(),C(N)},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(Ir,{className:"h-4 w-4"})})}),s.jsxs(Eh,{children:[s.jsxs(Th,{children:[s.jsxs(Rh,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(og,{className:"h-5 w-5"}),"Delete Campaign"]}),s.jsxs(Ah,{children:['Are you sure you want to delete "',N.name,'"? This action cannot be undone and will permanently remove all campaign data including send history.']})]}),s.jsxs(Ph,{children:[s.jsx(Mh,{onClick:()=>C(null),children:"Cancel"}),s.jsx(Ih,{onClick:O=>{O.stopPropagation(),W(N.id)},className:"bg-destructive hover:bg-destructive/90",children:"Delete Campaign"})]})]})]})]})]})]})]},N.id))})})]}),s.jsx(Nt,{open:i,onOpenChange:l,children:s.jsxs(vt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xt,{children:s.jsxs(yt,{className:"text-email-primary",children:["Campaign Details: ",a?.name]})}),a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-email-primary font-semibold",children:"Subject"}),s.jsx("p",{className:"text-sm mt-1 p-2 bg-email-muted/20 rounded",children:a.subject})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-email-primary font-semibold",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsxs(Ce,{variant:ce(a.status),className:"flex items-center w-fit space-x-1",children:[ge(a.status),s.jsx("span",{className:"capitalize",children:a.status})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-email-primary font-semibold",children:"Total Recipients"}),s.jsx("p",{className:"text-2xl font-bold text-email-primary mt-1",children:a.total_recipients})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-email-primary font-semibold",children:"Successfully Sent"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:a.sent_count})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-email-primary font-semibold",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:a.failed_count||0})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-email-primary font-semibold",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-email-accent mt-1",children:[a.total_recipients>0?(a.sent_count/a.total_recipients*100).toFixed(1):0,"%"]})]})]})]}),(a.status==="sending"||a.status==="paused")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Campaign Progress"}),s.jsxs("span",{className:"font-medium text-email-primary",children:[Math.round(E(a)),"%"]})]}),s.jsx(nc,{value:E(a),className:"h-3"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(D,{variant:"outline",onClick:()=>Z(a),className:"border-email-secondary text-email-secondary hover:bg-email-secondary/10",children:[s.jsx(c0,{className:"h-4 w-4 mr-2"}),"Download Data"]}),s.jsxs(D,{variant:"outline",onClick:()=>u(!0),disabled:a.status!=="sent",className:"border-email-primary text-email-primary hover:bg-email-primary/10",children:[s.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Create List from Recipients"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-email-primary",children:"Send Details"}),s.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:s.jsxs(B1,{children:[s.jsx(V1,{children:s.jsxs(pl,{children:[s.jsx(mo,{children:"Email"}),s.jsx(mo,{children:"Status"}),s.jsx(mo,{children:"Sent At"}),s.jsx(mo,{children:"Error"})]})}),s.jsx(H1,{children:r.length===0?s.jsx(pl,{children:s.jsx(Js,{colSpan:4,className:"text-center py-4 text-muted-foreground",children:"No send details available"})}):r.map(N=>s.jsxs(pl,{children:[s.jsx(Js,{className:"font-mono text-xs",children:N.contact_email}),s.jsx(Js,{children:s.jsx(Ce,{variant:N.status==="sent"?"default":"destructive",children:N.status})}),s.jsx(Js,{children:N.sent_at?new Date(N.sent_at).toLocaleString():"-"}),s.jsx(Js,{className:"text-red-600 text-xs max-w-48 truncate",children:N.error_message||"-"})]},N.id))})]})})]})]})]})}),s.jsx(Nt,{open:c,onOpenChange:u,children:s.jsxs(vt,{children:[s.jsx(xt,{children:s.jsx(yt,{className:"text-email-primary",children:"Create List from Campaign Recipients"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"listName",className:"text-email-primary font-medium",children:"List Name *"}),s.jsx(be,{id:"listName",value:h,onChange:N=>m(N.target.value),placeholder:"Campaign Recipients List",className:"border-email-primary/30 focus:border-email-primary"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"listDescription",className:"text-email-primary font-medium",children:"Description"}),s.jsx(be,{id:"listDescription",value:f,onChange:N=>y(N.target.value),placeholder:"Optional description...",className:"border-email-primary/30 focus:border-email-primary"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(D,{onClick:X,className:"bg-email-primary hover:bg-email-primary/90",children:"Create List"})]})]})]})})]})},JO=()=>{const[e,t]=d.useState([]),[r,n]=d.useState(!0),[a,o]=d.useState(""),[i,l]=d.useState(new Set),[c,u]=d.useState("all"),[h,m]=d.useState("all"),[f,y]=d.useState("");d.useEffect(()=>{x()},[]);const w=async()=>{try{const S={email:"test@example.com",unsubscribed_at:new Date().toISOString(),user_id:"550e8400-e29b-41d4-a716-446655440000",reason:"Testing unsubscribe display"};console.log(" Adding test unsubscribe:",S);const{data:A,error:T}=await K.from("unsubscribes").insert(S).select();if(console.log(" Insert result:",{data:A,error:T}),T)throw T;B.success("Test unsubscribe added!"),x()}catch(S){console.error(" Error adding test unsubscribe:",S),B.error("Failed to add test unsubscribe: "+S.message)}},x=async()=>{try{console.log(" Loading unsubscribe data (tag-based)...");const{data:S,error:A}=await K.from("contacts").select("id, email, first_name, last_name, tags, created_at, updated_at, status").eq("user_id","550e8400-e29b-41d4-a716-446655440000").contains("tags",["unsub"]);if(A)throw A;const T=(S||[]).map($=>({id:$.id,email:$.email,unsubscribed_at:$.updated_at||$.created_at,reason:void 0,user_id:"550e8400-e29b-41d4-a716-446655440000",contact:{id:$.id,email:$.email,first_name:$.first_name||"",last_name:$.last_name||"",tags:Array.isArray($.tags)?$.tags:[]}}));t(T),console.log(` Found ${T.length} unsubscribed contacts via tag`)}catch(S){console.error(" Error loading unsubscribe data:",S),B.error("Failed to load unsubscribe data: "+S.message)}finally{n(!1)}},b=e.filter(S=>{const A=S.email.toLowerCase().includes(a.toLowerCase())||S.contact?.first_name?.toLowerCase().includes(a.toLowerCase())||S.contact?.last_name?.toLowerCase().includes(a.toLowerCase()),T=c==="all"||c==="no-reason"&&!S.reason||S.reason?.toLowerCase().includes(c.toLowerCase()),$=new Date(S.unsubscribed_at||S.created_at||""),U=new Date,Y=h==="all"||h==="7d"&&$>new Date(U.getTime()-7*24*60*60*1e3)||h==="30d"&&$>new Date(U.getTime()-30*24*60*60*1e3)||h==="90d"&&$>new Date(U.getTime()-90*24*60*60*1e3),L=!f||S.contact?.tags?.some(re=>re.toLowerCase().includes(f.toLowerCase()));return A&&T&&Y&&L}),v=async S=>{try{const{error:A}=await K.from("unsubscribes").delete().eq("id",S);if(A)throw A;t(T=>T.filter($=>$.id!==S)),l(T=>{const $=new Set(T);return $.delete(S),$}),B.success("User removed from unsubscribe list")}catch(A){B.error("Failed to remove user: "+A.message),console.error("Error removing user:",A)}},g=async S=>{try{console.log(' Restoring user by removing "unsub" tag:',S.email);const{data:A,error:T}=await K.from("contacts").select("id, tags").eq("id",S.id).maybeSingle();if(T)throw T;if(!A){B.error("Contact not found");return}const U=(Array.isArray(A.tags)?A.tags:[]).filter(L=>L&&L.trim().toLowerCase()!=="unsub"),{error:Y}=await K.from("contacts").update({tags:U}).eq("id",S.id);if(Y)throw Y;await x(),l(L=>{const re=new Set(L);return re.delete(S.id),re}),B.success(`Removed "unsub" tag from ${S.email}`),window.dispatchEvent(new CustomEvent("contactsUpdated"))}catch(A){B.error("Failed to restore user: "+A.message),console.error("Error restoring user:",A)}},p=async()=>{if(i.size===0){B.error("Please select users to restore");return}try{const S=e.filter(U=>i.has(U.id));console.log(' Bulk restoring users by removing "unsub" tag:',S.map(U=>U.email));const A=S.map(async U=>{const{data:Y}=await K.from("contacts").select("id, tags").eq("id",U.id).maybeSingle();if(!Y)return{error:"Contact not found"};const re=(Array.isArray(Y.tags)?Y.tags:[]).filter(W=>W&&W.trim().toLowerCase()!=="unsub");return K.from("contacts").update({tags:re}).eq("id",U.id)}),$=(await Promise.all(A)).filter(U=>U.error);$.length>0?(console.error(" Errors restoring contacts:",$),B.error(`Failed to restore ${$.length} users`)):B.success(`Removed "unsub" tag from ${S.length} users`),await x(),l(new Set)}catch(S){B.error("Failed to restore users: "+S.message),console.error("Error in bulk restore:",S)}},j=S=>{l(A=>{const T=new Set(A);return T.has(S)?T.delete(S):T.add(S),T})},C=()=>{i.size===b.length?l(new Set):l(new Set(b.map(S=>S.id)))},_=()=>{const S=["Email,First Name,Last Name,Tags,Unsubscribed At,Reason",...b.map(U=>`${U.email},${U.contact?.first_name||"N/A"},${U.contact?.last_name||"N/A"},"${U.contact?.tags?.join(";")||"N/A"}",${U.unsubscribed_at},${U.reason||"N/A"}`)].join(`
`),A=new Blob([S],{type:"text/csv"}),T=window.URL.createObjectURL(A),$=document.createElement("a");$.href=T,$.download="unsubscribed-users.csv",$.click(),window.URL.revokeObjectURL(T),B.success("Unsubscribe list exported successfully!")},k=S=>S?new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(_e,{className:"shadow-soft border-destructive/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(da,{className:"h-5 w-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Unsubscribed"})]})]})})}),s.jsx(_e,{className:"shadow-soft border-email-warning/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tg,{className:"h-5 w-5 text-email-warning"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.filter(S=>{const A=S.unsubscribed_at||S.created_at;return A&&new Date(A)>new Date(Date.now()-7*24*60*60*1e3)}).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"})]})]})})}),s.jsx(_e,{className:"shadow-soft border-email-accent/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bl,{className:"h-5 w-5 text-email-accent"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"2.3%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unsubscribe Rate"})]})]})})})]}),s.jsxs(_e,{className:"shadow-soft border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsxs(Ve,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(da,{className:"h-5 w-5 text-destructive"}),s.jsxs("span",{children:["Unsubscribed Users (",b.length,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[i.size>0&&s.jsxs(D,{onClick:p,variant:"outline",className:"border-green-500 hover:bg-green-500 hover:text-white",children:[s.jsx(pk,{className:"h-4 w-4 mr-2"}),"Restore (",i.size,")"]}),s.jsxs(D,{onClick:_,variant:"outline",className:"border-email-secondary hover:bg-email-secondary",children:[s.jsx(c0,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsx(D,{onClick:w,variant:"outline",className:"border-blue-500 hover:bg-blue-500",children:" Add Test"})]})]}),s.jsx(ot,{children:"Manage users who have unsubscribed from your email campaigns. Use filters to find specific users and restore them if needed."})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(be,{placeholder:"Search by email, name...",value:a,onChange:S=>o(S.target.value),className:"border-email-primary/30 focus:border-email-primary"})]}),s.jsxs(At,{value:c,onValueChange:u,children:[s.jsx(jt,{children:s.jsx(It,{placeholder:"Filter by reason"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"all",children:"All reasons"}),s.jsx(Se,{value:"no-reason",children:"No reason given"}),s.jsx(Se,{value:"email",children:"Email link"}),s.jsx(Se,{value:"manual",children:"Manual unsubscribe"}),s.jsx(Se,{value:"spam",children:"Marked as spam"})]})]}),s.jsxs(At,{value:h,onValueChange:m,children:[s.jsx(jt,{children:s.jsx(It,{placeholder:"Filter by date"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"all",children:"All time"}),s.jsx(Se,{value:"7d",children:"Last 7 days"}),s.jsx(Se,{value:"30d",children:"Last 30 days"}),s.jsx(Se,{value:"90d",children:"Last 90 days"})]})]}),s.jsx(be,{placeholder:"Filter by tags...",value:f,onChange:S=>y(S.target.value),className:"border-email-primary/30 focus:border-email-primary"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(u0,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.length," results"]})]})]}),b.length>0&&s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[s.jsx(sc,{checked:i.size===b.length,onCheckedChange:C}),s.jsxs("span",{className:"text-sm",children:["Select all (",b.length," users)"]})]}),s.jsx("div",{className:"space-y-3",children:r?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{children:"Loading unsubscribe data..."})]}):b.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(da,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No unsubscribed users found"})]}):b.map(S=>s.jsx(_e,{className:"shadow-soft border-destructive/10",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(sc,{checked:i.has(S.id),onCheckedChange:()=>j(S.id),className:"mt-1"}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"font-medium",children:S.email}),s.jsx(Ce,{variant:"outline",className:"border-destructive text-destructive",children:"Unsubscribed"})]}),S.contact&&s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("p",{className:"font-medium",children:[S.contact.first_name," ",S.contact.last_name]})}),S.contact?.tags&&S.contact.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:S.contact.tags.map((A,T)=>s.jsx(Ce,{variant:"secondary",className:"text-xs",children:A},T))}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{className:"flex items-center space-x-2",children:[s.jsx(tg,{className:"h-3 w-3"}),s.jsxs("span",{children:["Unsubscribed: ",k(S.unsubscribed_at||S.created_at||"")]})]}),S.reason&&s.jsxs("p",{children:["Reason: ",S.reason]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>g(S),className:"border-green-500 hover:bg-green-500 hover:text-white",children:[s.jsx(wk,{className:"h-4 w-4 mr-2"}),"Restore"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>v(S.id),className:"border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})})]})})},S.id))})]})})]}),s.jsx(_e,{className:"shadow-soft border-email-warning/20 bg-email-warning/5",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(da,{className:"h-5 w-5 text-email-warning mt-0.5"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-email-warning",children:"Important"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Users on this list will be automatically excluded from all future campaigns. Always respect unsubscribe requests to maintain good sender reputation and comply with regulations."})]})]})})})]})};var Mm="Popover",[u_,Y3]=jr(Mm,[ts]),yi=ts(),[XO,as]=u_(Mm),h_=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=yi(t),c=d.useRef(null),[u,h]=d.useState(!1),[m=!1,f]=Or({prop:n,defaultProp:a,onChange:o});return s.jsx(Kf,{...l,children:s.jsx(XO,{scope:t,contentId:gr(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(y=>!y),[f]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>h(!0),[]),onCustomAnchorRemove:d.useCallback(()=>h(!1),[]),modal:i,children:r})})};h_.displayName=Mm;var f_="PopoverAnchor",ZO=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=as(f_,r),o=yi(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return d.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(di,{...o,...n,ref:t})});ZO.displayName=f_;var m_="PopoverTrigger",p_=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=as(m_,r),o=yi(r),i=Re(t,a.triggerRef),l=s.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":w_(a.open),...n,ref:i,onClick:ae(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(di,{asChild:!0,...o,children:l})});p_.displayName=m_;var Om="PopoverPortal",[e3,t3]=u_(Om,{forceMount:void 0}),g_=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=as(Om,t);return s.jsx(e3,{scope:t,forceMount:r,children:s.jsx(Ut,{present:r||o.open,children:s.jsx(La,{asChild:!0,container:a,children:n})})})};g_.displayName=Om;var Ia="PopoverContent",v_=d.forwardRef((e,t)=>{const r=t3(Ia,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=as(Ia,e.__scopePopover);return s.jsx(Ut,{present:n||o.open,children:o.modal?s.jsx(r3,{...a,ref:t}):s.jsx(n3,{...a,ref:t})})});v_.displayName=Ia;var r3=d.forwardRef((e,t)=>{const r=as(Ia,e.__scopePopover),n=d.useRef(null),a=Re(t,n),o=d.useRef(!1);return d.useEffect(()=>{const i=n.current;if(i)return Jc(i)},[]),s.jsx(pi,{as:fn,allowPinchZoom:!0,children:s.jsx(x_,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{i.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),n3=d.forwardRef((e,t)=>{const r=as(Ia,e.__scopePopover),n=d.useRef(!1),a=d.useRef(!1);return s.jsx(x_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),x_=d.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...m}=e,f=as(Ia,r),y=yi(r);return Qc(),s.jsx(mi,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(As,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Ec,{"data-state":w_(f.open),role:"dialog",id:f.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),y_="PopoverClose",s3=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=as(y_,r);return s.jsx(we.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});s3.displayName=y_;var a3="PopoverArrow",o3=d.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=yi(r);return s.jsx(Tc,{...a,...n,ref:t})});o3.displayName=a3;function w_(e){return e?"open":"closed"}var i3=h_,l3=p_,c3=g_,b_=v_;const d3=i3,u3=l3,j_=d.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(c3,{children:s.jsx(b_,{ref:a,align:t,sideOffset:r,className:he("z-[200] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));j_.displayName=b_.displayName;const h3=["#684cff","#22d3ee","#34d399","#fbbf24","#f87171","#a78bfa","#60a5fa","#fb7185","#fb923c","#facc15","#10b981","#8b5cf6","#06b6d4","#ef4444","#6366f1","#3b82f6","#ec4899","#f59e0b","#84cc16","#06b6d4"],f3={Professional:["#1f2937","#374151","#6b7280","#9ca3af","#d1d5db"],Vibrant:["#dc2626","#ea580c","#ca8a04","#65a30d","#059669"],Pastel:["#fecaca","#fed7aa","#fef3c7","#dcfce7","#dbeafe"],Ocean:["#0c4a6e","#0369a1","#0284c7","#0ea5e9","#38bdf8"],Sunset:["#7c2d12","#ea580c","#f59e0b","#fbbf24","#fde047"],Forest:["#14532d","#166534","#16a34a","#22c55e","#4ade80"]},Ws=({value:e,onChange:t,label:r,presets:n=h3,showPresets:a=!0})=>{const[o,i]=d.useState(!1);d.useState(null);const l=h=>{t(h)},c=h=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(h),u=h=>{const m=parseInt(h.slice(1,3),16),f=parseInt(h.slice(3,5),16),y=parseInt(h.slice(5,7),16);return(.299*m+.587*f+.114*y)/255>.5?"#000000":"#ffffff"};return s.jsxs("div",{className:"space-y-2",children:[r&&s.jsx(H,{children:r}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(d3,{open:o,onOpenChange:i,children:[s.jsx(u3,{asChild:!0,children:s.jsx(D,{variant:"outline",className:"w-16 h-10 p-1 border-2 hover:scale-105 transition-transform",style:{backgroundColor:e},children:s.jsx("div",{className:"w-full h-full rounded-sm",style:{backgroundColor:e},children:s.jsx("span",{className:"sr-only",children:"Pick color"})})})}),s.jsx(j_,{className:"w-80 p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Color Picker"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs",children:"Custom Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"color",value:e,onChange:h=>l(h.target.value),className:"w-12 h-8 rounded border border-border"}),s.jsx(be,{value:e,onChange:h=>{(c(h.target.value)||h.target.value==="")&&l(h.target.value)},placeholder:"#684cff",className:"flex-1 text-sm"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{className:"text-xs",children:"Color Harmonies"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(f3).map(([h,m])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:h}),s.jsx("div",{className:"flex space-x-1",children:m.map((f,y)=>s.jsx("button",{onClick:()=>l(f),className:"w-6 h-6 rounded border border-border hover:scale-110 transition-transform relative",style:{backgroundColor:f},children:e===f&&s.jsx(Hr,{className:"h-3 w-3 absolute inset-0 m-auto",style:{color:u(f)}})},y))})]},h))})]}),a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs",children:"Popular Colors"}),s.jsx("div",{className:"grid grid-cols-10 gap-1",children:n.map((h,m)=>s.jsx("button",{onClick:()=>l(h),className:"w-6 h-6 rounded border border-border hover:scale-110 transition-transform relative",style:{backgroundColor:h},children:e===h&&s.jsx(Hr,{className:"h-3 w-3 absolute inset-0 m-auto",style:{color:u(h)}})},m))})]}),s.jsx("div",{className:"p-3 rounded-lg border",style:{backgroundColor:e},children:s.jsxs("div",{style:{color:u(e)},children:[s.jsx("div",{className:"text-sm font-medium",children:"Preview"}),s.jsx("div",{className:"text-xs opacity-75",children:"How this color looks in action"})]})})]})})]}),s.jsx("div",{className:"flex-1",children:s.jsx(be,{value:e,onChange:h=>{(c(h.target.value)||h.target.value==="")&&l(h.target.value)},placeholder:"#684cff",className:"text-sm"})}),s.jsx(Ce,{variant:"secondary",className:"text-xs",style:{backgroundColor:`${e}20`,color:e,borderColor:`${e}40`},children:e})]})]})},m3=()=>{const[e,t]=d.useState(!1),[r,n]=d.useState(!1),[a,o]=d.useState({name:"Cleverpoly",primaryColor:"#6A7059",secondaryColor:"#F9F8F5",accentColor:"#FCD34D",font:"Inter, Lato, Open Sans, sans-serif",voice:"friendly",brandVoice:"Clean and professional aesthetic using generous white space and a card-based design to create an organized and user-friendly experience. The tone should be helpful and direct.",logo:"",signature:`Best regards,
Cleverpoly

If you have any questions or need assistance, feel free to contact us at cleverpoly.store@gmail.com`,signatureFont:"'Inter', sans-serif"}),[i,l]=d.useState(""),{themeColors:c,updateTheme:u}=Wc(),h={primary:c.primary,secondary:c.secondary,accent:c.accent},m=g=>{u(g);const p={...h,...g};w(p)},{toast:f}=oi();d.useEffect(()=>{a.name&&(document.title=`${a.name}  Email Campaign Manager`)},[a.name]),d.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:g,error:p}=await K.from("style_guides").select("*").eq("user_id",Oe).order("created_at",{ascending:!1}).limit(1);if(p)throw p;if(g&&g.length>0){const j=g[0],C=j.brand_name==="Your Brand"||j.brand_name==="Cleverpoly";!r&&!C&&(o({name:j.brand_name,primaryColor:j.primary_color,secondaryColor:j.secondary_color,accentColor:j.accent_color,font:j.font_family,voice:j.tone,brandVoice:j.brand_voice||"",logo:j.logo_url||"",signature:j.email_signature,signatureFont:j.signature_font||"'Inter', sans-serif"}),n(!0)),m({primary:j.page_theme_primary,secondary:j.page_theme_secondary,accent:j.page_theme_accent}),l(j.template_preview||"")}else n(!0),setTimeout(()=>x(),500)}catch(g){console.error("Error loading style guide:",g),n(!0)}},w=async g=>{try{const{data:p,error:j}=await K.from("style_guides").select("id").eq("user_id",Oe).order("created_at",{ascending:!1}).limit(1);if(j)throw j;let C;if(p&&p.length>0?C=await K.from("style_guides").update({page_theme_primary:g.primary,page_theme_secondary:g.secondary,page_theme_accent:g.accent}).eq("id",p[0].id):C=await K.from("style_guides").insert([{user_id:Oe,page_theme_primary:g.primary,page_theme_secondary:g.secondary,page_theme_accent:g.accent}]),C.error)throw C.error;console.log("Theme auto-saved to Supabase:",g)}catch(p){console.error("Error auto-saving theme:",p)}},x=async()=>{try{const{data:g,error:p}=await K.from("style_guides").select("id").eq("user_id",Oe).limit(1);if(p)throw p;const j={brandName:a.name,colors:{primary:a.primaryColor,secondary:a.secondaryColor,accent:a.accentColor},typography:{fontFamily:a.font},voice:{tone:a.voice,description:a.brandVoice},signature:a.signature},C={user_id:Oe,brand_name:a.name,primary_color:a.primaryColor,secondary_color:a.secondaryColor,accent_color:a.accentColor,font_family:a.font,tone:a.voice,brand_voice:a.brandVoice,logo_url:a.logo,email_signature:a.signature,signature_font:a.signatureFont,page_theme_primary:h.primary,page_theme_secondary:h.secondary,page_theme_accent:h.accent,template_preview:i&&i.trim()?i:JSON.stringify(j)};let _;if(g&&g.length>0?_=await K.from("style_guides").update(C).eq("user_id",Oe):_=await K.from("style_guides").insert([C]),_.error)throw _.error;console.log("Brand identity saved to Supabase:",a)}catch(g){console.error("Error saving brand identity:",g)}},b=async()=>{t(!0);try{await x(),await w(h),f({title:"Style Guide Saved",description:"Your brand style guide has been saved successfully."})}catch(g){console.error("Error saving style guide:",g),f({title:"Error",description:"Failed to save style guide. Please try again.",variant:"destructive"})}finally{t(!1)}},v=async()=>{try{const{data:g,error:p}=await K.functions.invoke("generate-email",{body:{prompt:"Create a preview email showcasing the brand style",subject:"Style Guide Preview Email",userId:Oe,styleGuide:{brandName:a.name,primaryColor:a.primaryColor,secondaryColor:a.secondaryColor,accentColor:a.accentColor,fontFamily:a.font,tone:a.voice,brandVoice:a.brandVoice,logoUrl:a.logo,emailSignature:a.signature,signatureFont:a.signatureFont}}});if(p)throw p;if(g?.htmlContent){const j=window.open("","_blank");j&&(j.document.write(g.htmlContent),j.document.close())}else f({title:"Preview Error",description:"Unable to generate preview content.",variant:"destructive"})}catch(g){console.error("Error generating preview:",g),f({title:"Preview Error",description:"Failed to generate email preview. Using fallback.",variant:"destructive"});const p=`
        <!DOCTYPE html>
        <html>
          <head>
            <style>
              body { font-family: ${a.font}; margin: 20px; }
              .header { background: ${a.primaryColor}; color: white; padding: 20px; border-radius: 8px; }
              .content { margin: 20px 0; }
              .button { background: ${a.accentColor}; color: white; padding: 12px 24px; border: none; border-radius: 6px; }
              .footer { margin-top: 40px; padding: 20px; background: ${a.secondaryColor}20; border-radius: 6px; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>${a.name}</h1>
              <p>Style Guide Preview Email</p>
            </div>
            <div class="content">
              <p>This is a preview of your brand style guide in action.</p>
              <p>Brand Voice: ${a.brandVoice}</p>
              <button class="button">Call to Action</button>
            </div>
            <div class="footer">
              <pre>${a.signature}</pre>
            </div>
          </body>
        </html>
      `,j=window.open("","_blank");j&&(j.document.write(p),j.document.close())}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-email-primary",children:"Style Guide & Theme Control"}),s.jsx("p",{className:"text-muted-foreground",children:"Customize your brand identity and application theme"})]})}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsxs(Ve,{className:"flex items-center space-x-2",children:[s.jsx(Vl,{className:"h-5 w-5 text-email-primary"}),s.jsx("span",{className:"text-email-primary",children:"Page Theme Control"})]}),s.jsx(ot,{children:"Control the color theme of this application interface (separate from email brand colors)"})]}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Primary Theme Color"}),s.jsx(Ws,{value:h.primary,onChange:g=>{m({primary:g})},label:"Primary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Secondary Theme Color"}),s.jsx(Ws,{value:h.secondary,onChange:g=>{m({secondary:g})},label:"Secondary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Accent Theme Color"}),s.jsx(Ws,{value:h.accent,onChange:g=>{m({accent:g})},label:"Accent"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs(D,{onClick:b,size:"sm",variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx("span",{children:"Save Theme"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Changes are applied instantly. Click "Save Theme" to persist them.'})]})]})]}),s.jsxs(_e,{className:"shadow-soft bg-gradient-to-br from-email-background to-background border-email-primary/20",children:[s.jsxs(Be,{children:[s.jsxs(Ve,{className:"flex items-center space-x-2",children:[s.jsx(f0,{className:"h-5 w-5 text-email-secondary"}),s.jsx("span",{className:"text-email-secondary",children:"Brand Identity"})]}),s.jsx(ot,{children:"Define your brand colors and identity for AI-generated emails"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"brandName",children:"Brand Name"}),s.jsx(be,{id:"brandName",value:a.name,onChange:g=>{o({...a,name:g.target.value}),n(!0),setTimeout(()=>x(),1e3)},placeholder:"Your Brand Name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"logoUrl",children:"Logo URL (optional)"}),s.jsx(be,{id:"logoUrl",value:a.logo,onChange:g=>{o({...a,logo:g.target.value}),setTimeout(()=>x(),1e3)},placeholder:"https://example.com/logo.png"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Primary Brand Color"}),s.jsx(Ws,{value:a.primaryColor,onChange:g=>{o({...a,primaryColor:g}),n(!0),setTimeout(()=>x(),1e3)},label:"Primary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Secondary Brand Color"}),s.jsx(Ws,{value:a.secondaryColor,onChange:g=>{o({...a,secondaryColor:g}),n(!0),setTimeout(()=>x(),1e3)},label:"Secondary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Accent Brand Color"}),s.jsx(Ws,{value:a.accentColor,onChange:g=>{o({...a,accentColor:g}),n(!0),setTimeout(()=>x(),1e3)},label:"Accent"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(D,{onClick:v,variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(d0,{className:"h-4 w-4"}),s.jsx("span",{children:"Generate Test Email"})]}),s.jsxs(D,{onClick:b,disabled:e,className:"flex items-center space-x-2",children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx("span",{children:"Save Style Guide"})]})]})]})},p3=()=>{const[e,t]=d.useState([]),[r,n]=d.useState(!1),[a,o]=d.useState(null),[i,l]=d.useState([]),[c,u]=d.useState(!1),[h,m]=d.useState({name:"",description:"",trigger_tags:[],trigger_match_type:"any",add_tags:[],remove_tags:[],replace_all_tags:!1}),[f,y]=d.useState({name:"",description:"",trigger_tags:[],trigger_match_type:"any",add_tags:[],remove_tags:[],replace_all_tags:!1});d.useEffect(()=>{w(),x()},[]);const w=async()=>{try{const{data:_,error:k}=await K.from("tag_rules").select("*").eq("user_id","550e8400-e29b-41d4-a716-446655440000").eq("protected",!1).order("created_at",{ascending:!1});if(k)throw k;t(_||[])}catch(_){console.error("Error loading tag rules:",_),B.error("Failed to load tag rules")}},x=async()=>{try{const{data:_,error:k}=await K.from("contacts").select("tags").eq("user_id","550e8400-e29b-41d4-a716-446655440000");if(k)throw k;const{data:S,error:A}=await K.from("tag_rules").select("trigger_tags, add_tags, remove_tags").eq("user_id","550e8400-e29b-41d4-a716-446655440000");if(A)throw A;const T=new Set;_?.forEach($=>{$.tags&&$.tags.forEach(U=>T.add(U.trim()))}),S?.forEach($=>{$.trigger_tags&&$.trigger_tags.forEach(U=>T.add(U.trim())),$.add_tags&&$.add_tags.forEach(U=>T.add(U.trim())),$.remove_tags&&$.remove_tags.forEach(U=>T.add(U.trim()))}),l(Array.from(T).filter(Boolean).sort())}catch(_){console.error("Error loading tags:",_)}},b=async()=>{if(!h.name||h.trigger_tags.length===0){B.error("Please fill in the rule name and trigger tags");return}try{const{error:_}=await K.from("tag_rules").insert({user_id:"550e8400-e29b-41d4-a716-446655440000",name:h.name,description:h.description,trigger_tag:h.trigger_tags[0]||"",trigger_tags:h.trigger_tags,trigger_match_type:h.trigger_match_type,add_tags:h.add_tags,remove_tags:h.remove_tags,replace_all_tags:h.replace_all_tags,enabled:!0});if(_)throw _;B.success("Tag rule created successfully"),m({name:"",description:"",trigger_tags:[],trigger_match_type:"any",add_tags:[],remove_tags:[],replace_all_tags:!1}),n(!1),w()}catch(_){console.error("Error creating tag rule:",_),B.error("Failed to create tag rule")}},v=async _=>{if(!f.name||f.trigger_tags.length===0){B.error("Please fill in the rule name and trigger tags");return}try{const{error:k}=await K.from("tag_rules").update({name:f.name,description:f.description,trigger_tag:f.trigger_tags[0]||"",trigger_tags:f.trigger_tags,trigger_match_type:f.trigger_match_type,add_tags:f.add_tags,remove_tags:f.remove_tags,replace_all_tags:f.replace_all_tags}).eq("id",_);if(k)throw k;B.success("Tag rule updated successfully"),o(null),w()}catch(k){console.error("Error updating tag rule:",k),B.error("Failed to update tag rule")}},g=_=>{o(_.id),y({name:_.name,description:_.description||"",trigger_tags:_.trigger_tags||[_.trigger_tag].filter(Boolean),trigger_match_type:_.trigger_match_type||"any",add_tags:_.add_tags||[],remove_tags:_.remove_tags||[],replace_all_tags:_.replace_all_tags||!1})},p=async(_,k)=>{try{const{error:S}=await K.from("tag_rules").update({enabled:k}).eq("id",_);if(S)throw S;t(e.map(A=>A.id===_?{...A,enabled:k}:A)),B.success(`Rule ${k?"enabled":"disabled"}. Use "Reapply Rules" button to update all contacts.`)}catch(S){console.error("Error updating rule:",S),B.error("Failed to update rule")}},j=async _=>{if(confirm("Are you sure you want to delete this rule?"))try{const{error:k}=await K.from("tag_rules").delete().eq("id",_);if(k)throw k;t(e.filter(S=>S.id!==_)),B.success("Rule deleted successfully")}catch(k){console.error("Error deleting rule:",k),B.error("Failed to delete rule")}},C=async()=>{u(!0);try{const{error:_}=await K.rpc("reapply_tag_rules_for_user",{p_user_id:"550e8400-e29b-41d4-a716-446655440000"});if(_)throw _;const{error:k}=await K.rpc("reapply_tag_rules_to_unsubscribed_contacts",{p_user_id:"550e8400-e29b-41d4-a716-446655440000"});if(k)throw k;B.success("Tag rules reapplied to all contacts successfully"),window.dispatchEvent(new CustomEvent("contactsUpdated"))}catch(_){console.error("Error reapplying tag rules:",_),B.error("Failed to reapply tag rules")}finally{u(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Tag Rules"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically manage contact tags based on triggers. When a contact gets a trigger tag, the rule will add/remove other tags."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(D,{variant:"outline",onClick:C,disabled:c,className:"flex items-center gap-2",children:[s.jsx(Br,{className:`h-4 w-4 ${c?"animate-spin":""}`}),c?"Reapplying...":"Reapply Rules"]}),s.jsxs(D,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),"Create Rule"]})]})]}),r&&s.jsxs(_e,{children:[s.jsxs(Be,{children:[s.jsx(Ve,{children:"Create New Tag Rule"}),s.jsx(ot,{children:"Define a rule that triggers when a contact receives a specific tag"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"rule-name",children:"Rule Name"}),s.jsx(be,{id:"rule-name",placeholder:"e.g., Discount Interest to Purchase",value:h.name,onChange:_=>m({...h,name:_.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"rule-description",children:"Description (Optional)"}),s.jsx(xr,{id:"rule-description",placeholder:"e.g., When someone shows interest in discount, remove interest tag after purchase",value:h.description,onChange:_=>m({...h,description:_.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"trigger-tags",children:"Trigger Tags"}),s.jsx(rr,{value:h.trigger_tags.join(", "),onChange:_=>m({...h,trigger_tags:_.split(",").map(k=>k.trim()).filter(Boolean)}),suggestions:i,placeholder:"e.g., bought-product-x, premium-customer"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"When a contact gets these tags, the rule will be triggered"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"trigger-match",children:"Trigger Match Type"}),s.jsxs(At,{value:h.trigger_match_type,onValueChange:_=>m({...h,trigger_match_type:_}),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"any",children:"Any tag matches (OR)"}),s.jsx(Se,{value:"all",children:"All tags match (AND)"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Choose whether ANY trigger tag or ALL trigger tags must be present"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"add-tags",children:"Tags to Add"}),s.jsx(rr,{value:h.add_tags.join(", "),onChange:_=>m({...h,add_tags:_.split(",").map(k=>k.trim()).filter(Boolean)}),suggestions:i,placeholder:"e.g., customer, premium"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"remove-tags",children:"Tags to Remove"}),s.jsx(rr,{value:h.remove_tags.join(", "),onChange:_=>m({...h,remove_tags:_.split(",").map(k=>k.trim()).filter(Boolean)}),suggestions:i,placeholder:"e.g., interested-in-discount, prospect"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(H,{htmlFor:"replace-all-tags",children:"Replace All Tags"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'When enabled, replaces ALL existing tags with only the "Tags to Add". Otherwise, adds/removes specific tags.'})]}),s.jsx(wa,{id:"replace-all-tags",checked:h.replace_all_tags,onCheckedChange:_=>m({...h,replace_all_tags:_})})]})]}),s.jsxs(Vw,{className:"flex gap-2",children:[s.jsx(D,{onClick:b,children:"Create Rule"}),s.jsx(D,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]}),s.jsx("div",{className:"grid gap-4",children:e.length===0?s.jsx(_e,{children:s.jsxs(Ee,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Vl,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Tag Rules Yet"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first tag rule to automatically manage contact tags based on triggers."}),s.jsxs(D,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),"Create First Rule"]})]})}):e.map(_=>s.jsxs(_e,{className:_.enabled?"":"opacity-60",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ve,{className:"text-lg",children:_.name}),_.description&&s.jsx(ot,{children:_.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wa,{checked:_.enabled,onCheckedChange:k=>p(_.id,k)}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>g(_),children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>j(_.id),className:"text-destructive hover:text-destructive",children:s.jsx(Ir,{className:"h-4 w-4"})})]})]})}),s.jsx(Ee,{children:a===_.id?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"edit-name",children:"Rule Name"}),s.jsx(be,{id:"edit-name",value:f.name,onChange:k=>y({...f,name:k.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"edit-description",children:"Description"}),s.jsx(xr,{id:"edit-description",value:f.description,onChange:k=>y({...f,description:k.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"edit-trigger-tags",children:"Trigger Tags"}),s.jsx(rr,{value:f.trigger_tags.join(", "),onChange:k=>y({...f,trigger_tags:k.split(",").map(S=>S.trim()).filter(Boolean)}),suggestions:i,placeholder:"e.g., bought-product-x, premium-customer"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"edit-trigger-match",children:"Trigger Match Type"}),s.jsxs(At,{value:f.trigger_match_type,onValueChange:k=>y({...f,trigger_match_type:k}),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"any",children:"Any tag matches (OR)"}),s.jsx(Se,{value:"all",children:"All tags match (AND)"})]})]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"edit-add-tags",children:"Tags to Add"}),s.jsx(rr,{value:f.add_tags.join(", "),onChange:k=>y({...f,add_tags:k.split(",").map(S=>S.trim()).filter(Boolean)}),suggestions:i,placeholder:"e.g., customer, premium"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"edit-remove-tags",children:"Tags to Remove"}),s.jsx(rr,{value:f.remove_tags.join(", "),onChange:k=>y({...f,remove_tags:k.split(",").map(S=>S.trim()).filter(Boolean)}),suggestions:i,placeholder:"e.g., interested-in-discount, prospect"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(H,{htmlFor:"edit-replace-all-tags",children:"Replace All Tags"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'When enabled, replaces ALL existing tags with only the "Tags to Add"'})]}),s.jsx(wa,{id:"edit-replace-all-tags",checked:f.replace_all_tags,onCheckedChange:k=>y({...f,replace_all_tags:k})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:()=>v(_.id),children:"Save Changes"}),s.jsx(D,{variant:"outline",onClick:()=>o(null),children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs(H,{className:"text-sm font-medium",children:["Triggers (",_.trigger_match_type?.toUpperCase()||"ANY","):"]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(_.trigger_tags||[_.trigger_tag]).filter(Boolean).map((k,S)=>s.jsx(Ce,{variant:"outline",children:k},S))})]}),_.add_tags.length>0&&s.jsxs("div",{children:[s.jsx(H,{className:"text-sm font-medium text-green-700",children:"Add Tags:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.add_tags.map((k,S)=>s.jsxs(Ce,{variant:"default",className:"bg-green-100 text-green-800",children:["+",k]},S))})]}),_.remove_tags.length>0&&s.jsxs("div",{children:[s.jsx(H,{className:"text-sm font-medium text-red-700",children:"Remove Tags:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.remove_tags.map((k,S)=>s.jsxs(Ce,{variant:"destructive",className:"bg-red-100 text-red-800",children:["-",k]},S))})]})]})})]},_.id))})]})},g3=()=>{const[e,t]=d.useState([]),[r,n]=d.useState(!1),[a,o]=d.useState([]),[i,l]=d.useState(null),[c,u]=d.useState({tags:[],password:""}),[h,m]=d.useState({tags:[],password:""});d.useEffect(()=>{f(),y()},[]);const f=async()=>{try{const{data:g,error:p}=await K.from("tag_rules").select("id, add_tags, password").eq("user_id","550e8400-e29b-41d4-a716-446655440000").eq("protected",!0).not("add_tags","is",null);if(p)throw p;const j={};g?.forEach(C=>{C.add_tags&&C.add_tags.length>0&&(j[C.id]={id:C.id,tag:C.add_tags.join(", "),password:C.password||""})}),t(Object.values(j))}catch(g){console.error("Error loading locked tags:",g),B.error("Failed to load locked tags")}},y=async()=>{try{const{data:g,error:p}=await K.from("contacts").select("tags").eq("user_id","550e8400-e29b-41d4-a716-446655440000");if(p)throw p;const j=new Set;g?.forEach(C=>{C.tags&&C.tags.forEach(_=>j.add(_.trim()))}),o(Array.from(j).filter(Boolean).sort())}catch(g){console.error("Error loading tags:",g)}},w=async()=>{if(c.tags.length===0||!c.password){B.error("Please select tags and enter a password");return}try{for(const g of c.tags){const{error:p}=await K.from("tag_rules").insert({user_id:"550e8400-e29b-41d4-a716-446655440000",name:`Lock: ${g}`,description:`Password protection for tag: ${g}`,trigger_tag:"never-trigger",trigger_tags:["never-trigger"],add_tags:[g],remove_tags:[],replace_all_tags:!1,protected:!0,password:c.password,enabled:!0});if(p)throw p}B.success("Tags locked successfully"),u({tags:[],password:""}),n(!1),f()}catch(g){console.error("Error locking tags:",g),B.error("Failed to lock tags")}},x=async g=>{if(confirm(`Are you sure you want to unlock the tag "${g.tag}"?`))try{const{error:p}=await K.from("tag_rules").delete().eq("id",g.id);if(p)throw p;B.success(`Tag "${g.tag}" unlocked successfully`),f()}catch(p){console.error("Error unlocking tag:",p),B.error("Failed to unlock tag")}},b=g=>{l(g.id),m({tags:g.tag.split(", ").map(p=>p.trim()),password:g.password})},v=async g=>{if(h.tags.length===0||!h.password){B.error("Please select tags and enter a password");return}try{const{error:p}=await K.from("tag_rules").update({add_tags:h.tags,password:h.password}).eq("id",g);if(p)throw p;B.success("Locked tags updated successfully"),l(null),f()}catch(p){console.error("Error updating locked tags:",p),B.error("Failed to update locked tags")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Lock Tags"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password protect specific tags. Protected tags can only be added via API/forms with the correct password."})]}),s.jsxs(D,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Lock Tags"]})]}),r&&s.jsxs(_e,{children:[s.jsxs(Be,{children:[s.jsx(Ve,{children:"Lock Tags with Password"}),s.jsx(ot,{children:"Select tags to protect with a password. These tags will require the password to be added via API/forms."})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(H,{htmlFor:"tags-to-lock",children:"Tags to Lock"}),s.jsxs(D,{type:"button",variant:"outline",size:"sm",onClick:()=>{const g=Array.from(new Set([...c.tags,...a]));u({...c,tags:g})},className:"h-auto py-1 px-2 text-xs",children:[s.jsx(mn,{className:"h-3 w-3 mr-1"}),"Add All"]})]}),s.jsx(rr,{value:c.tags.join(", "),onChange:g=>u({...c,tags:g.split(",").map(p=>p.trim()).filter(Boolean)}),suggestions:a,placeholder:"e.g., premium, vip, admin"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"These tags will require a password to be added to contacts"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"lock-password",children:"Password"}),s.jsx(be,{id:"lock-password",type:"password",placeholder:"Enter password to protect these tags",value:c.password,onChange:g=>u({...c,password:g.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This password will be required when adding these tags via API or forms."})]})]}),s.jsxs("div",{className:"flex gap-2 p-6 pt-0",children:[s.jsx(D,{onClick:w,children:"Lock Tags"}),s.jsx(D,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]}),s.jsx("div",{className:"grid gap-4",children:e.length===0?s.jsx(_e,{children:s.jsxs(Ee,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Rn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Locked Tags"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Lock tags with passwords to control who can add them to contacts via API or forms."}),s.jsxs(D,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Lock First Tag"]})]})}):s.jsxs(_e,{children:[s.jsxs(Be,{children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"h-5 w-5"}),"Locked Tags (",e.length,")"]}),s.jsx(ot,{children:"These tags are password protected and require authentication to add via API/forms."})]}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-4",children:e.map(g=>s.jsx("div",{className:"border rounded-lg p-4",children:i===g.id?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{children:"Tags"}),s.jsx(rr,{value:h.tags.join(", "),onChange:p=>m({...h,tags:p.split(",").map(j=>j.trim()).filter(Boolean)}),suggestions:a,placeholder:"Select tags to lock"})]}),s.jsxs("div",{children:[s.jsx(H,{children:"Password"}),s.jsx(be,{type:"password",value:h.password,onChange:p=>m({...h,password:p.target.value}),placeholder:"Enter password"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{size:"sm",onClick:()=>v(g.id),children:"Save"}),s.jsx(D,{size:"sm",variant:"outline",onClick:()=>l(null),children:"Cancel"})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),s.jsx(Ce,{variant:"secondary",className:"px-3 py-1",children:g.tag})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>b(g),children:s.jsx(on,{className:"h-4 w-4"})}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>x(g),className:"text-destructive hover:text-destructive",children:s.jsx(lk,{className:"h-4 w-4"})})]})]})},g.id))})})]})})]})},yv=()=>{const[e,t]=d.useState("compose"),[r,n]=d.useState("integration");return Wc(),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-foreground",children:"Customer Management"}),s.jsx("p",{className:"text-xs md:text-sm lg:text-base text-muted-foreground",children:"Create, manage, and act with customers"})]})})})}),s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(om,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsx("div",{className:"bg-card rounded-lg border p-1 shadow-sm",children:s.jsxs(Yc,{className:"grid grid-cols-3 md:grid-cols-6 w-full bg-transparent gap-1 h-auto",children:[s.jsxs(ur,{value:"compose",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[s.jsx(ps,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compose"})]}),s.jsxs(ur,{value:"contacts",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Contacts"})]}),s.jsxs(ur,{value:"lists",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[s.jsx(Ta,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Lists"})]}),s.jsxs(ur,{value:"products",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[s.jsx(Ju,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Products"})]}),s.jsxs(ur,{value:"campaigns",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[s.jsx(i0,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),s.jsxs(dM,{children:[s.jsx(uM,{asChild:!0,children:s.jsxs(D,{variant:e==="settings"?"default":"ghost",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 w-full",children:[s.jsx(Vl,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Settings"}),s.jsx($a,{className:"h-3 w-3"})]})}),s.jsxs(mj,{align:"end",className:"w-48 bg-popover border shadow-lg",children:[s.jsxs(Qs,{onClick:()=>{t("settings"),n("integration")},className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Ho,{className:"h-4 w-4"}),"Integration"]}),s.jsxs(Qs,{onClick:()=>{t("settings"),n("style")},className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(zl,{className:"h-4 w-4"}),"Style & Branding"]}),s.jsxs(Qs,{onClick:()=>{t("settings"),n("tag-rules")},className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(ag,{className:"h-4 w-4"}),"Tag Rules"]}),s.jsxs(Qs,{onClick:()=>{t("settings"),n("lock-tags")},className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Lock Tags"]}),s.jsxs(Qs,{onClick:()=>{t("settings"),n("unsubscribe")},className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(da,{className:"h-4 w-4"}),"Unsubscribe"]})]})]})]})}),s.jsx(tr,{value:"compose",className:"space-y-0 bg-card rounded-lg border p-6",children:s.jsx(pO,{})}),s.jsx(tr,{value:"contacts",className:"space-y-0 bg-card rounded-lg border p-6",children:s.jsx(bO,{})}),s.jsx(tr,{value:"lists",className:"space-y-0 bg-card rounded-lg border p-6",children:s.jsx(IO,{})}),s.jsx(tr,{value:"products",className:"space-y-0 bg-card rounded-lg border p-6",children:s.jsx(OO,{})}),s.jsx(tr,{value:"campaigns",className:"space-y-0 bg-card rounded-lg border p-6",children:s.jsx(QO,{})}),s.jsx(tr,{value:"settings",className:"space-y-0",children:s.jsxs("div",{className:"bg-card rounded-lg border",children:[s.jsxs("div",{className:"border-b px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vl,{className:"h-5 w-5"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Settings"})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs(D,{variant:r==="integration"?"default":"outline",onClick:()=>n("integration"),size:"sm",className:"flex items-center gap-2",children:[s.jsx(Ho,{className:"h-4 w-4"}),"Integration"]}),s.jsxs(D,{variant:r==="style"?"default":"outline",onClick:()=>n("style"),size:"sm",className:"flex items-center gap-2",children:[s.jsx(zl,{className:"h-4 w-4"}),"Style & Branding"]}),s.jsxs(D,{variant:r==="tag-rules"?"default":"outline",onClick:()=>n("tag-rules"),size:"sm",className:"flex items-center gap-2",children:[s.jsx(ag,{className:"h-4 w-4"}),"Tag Rules"]}),s.jsxs(D,{variant:r==="lock-tags"?"default":"outline",onClick:()=>n("lock-tags"),size:"sm",className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"h-4 w-4"}),"Lock Tags"]}),s.jsxs(D,{variant:r==="unsubscribe"?"default":"outline",onClick:()=>n("unsubscribe"),size:"sm",className:"flex items-center gap-2",children:[s.jsx(da,{className:"h-4 w-4"}),"Unsubscribe"]})]})]}),s.jsxs("div",{className:"p-6",children:[r==="integration"&&s.jsx(MO,{}),r==="style"&&s.jsx(m3,{}),r==="tag-rules"&&s.jsx(p3,{}),r==="lock-tags"&&s.jsx(g3,{}),r==="unsubscribe"&&s.jsx(JO,{})]})]})})]})})]})},__=()=>{const[e,t]=d.useState("pending"),[r,n]=d.useState([]),[a,o]=d.useState([]),[i,l]=d.useState({total_submissions:0,pending_count:0,approved_count:0,average_rating:0,total_published:0}),[c,u]=d.useState(!1),[h,m]=d.useState(null),[f,y]=d.useState(!1),[w,x]=d.useState({});d.useState(!1),d.useState({email:"",first_name:"",last_name:"",tags:[]});const{toast:b}=oi(),{themeColors:v}=Wc(),[g,p]=d.useState(!1),[j,C]=d.useState(null),[_,k]=d.useState({targetResolution:"1280x720",maxFileSizeMB:10,quality:.7}),[S,A]=d.useState(!1),[T,$]=d.useState(0),[U,Y]=d.useState(""),L="550e8400-e29b-41d4-a716-446655440000",re=async()=>{try{const{data:E,error:N}=await K.from("contacts").select("id, email, first_name, last_name, status, tags, created_at, updated_at").eq("user_id",L).eq("status","subscribed");if(N)throw N;o(E||[])}catch(E){console.error("Error fetching customers:",E)}},W=async E=>{u(!0);try{console.log("Fetching reviews with filterActive:",E);let N=K.from("reviews").select("*").order("sort_order",{ascending:!1});E!==void 0&&(N=N.eq("is_active",E));const{data:O,error:Q}=await N;if(Q)throw console.error("Supabase fetch error:",Q),Q;console.log("Fetched reviews data:",O);const se=(O||[]).map(fe=>{const ne=a.find(ye=>ye.email.toLowerCase()===fe.user_email?.toLowerCase());return{...fe,customer:ne,isExistingCustomer:!!ne}});console.log("Reviews with customers:",se),n(se)}catch(N){console.error("Error fetching reviews:",N),b({title:"Error",description:"Failed to fetch reviews",variant:"destructive"})}finally{u(!1)}},q=async()=>{try{const E="https://mixifcnokcmxarpzwfiy.supabase.co",N="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1peGlmY25va2NteGFycHp3Zml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NjYwNTEsImV4cCI6MjA2OTA0MjA1MX0.-4uIuzcHcDGS20-dtKbjVFOtpBSmwYhT9Bgt6KA-dXI",O=`${E}/rest/v1/reviews?select=*`,Q=await fetch(O,{headers:{apikey:N,Authorization:`Bearer ${N}`,"Content-Type":"application/json"}});if(!Q.ok)throw new Error("Failed to fetch reviews");const se=await Q.json(),fe=se?.length||0,ne=se?.filter(Fe=>!Fe.is_active).length||0,ye=se?.filter(Fe=>Fe.is_active).length||0,Ne=fe>0?se.reduce((Fe,G)=>Fe+Number(G.rating),0)/fe:0;l({total_submissions:fe,pending_count:ne,approved_count:ye,average_rating:Number(Ne.toFixed(1)),total_published:ye})}catch(E){console.error("Failed to fetch stats:",E)}},P=async(E,N)=>{try{console.log("Updating review:",E,"with updates:",N);const{error:O}=await K.from("reviews").update(N).eq("id",E);if(O)throw console.error("Supabase update error:",O),O;console.log("Review updated successfully"),b({title:"Success",description:"Review updated successfully"}),e==="pending"?await W(!1):e==="published"?await W(!0):e==="all"&&await W(),await q()}catch(O){console.error("Error updating review:",O),b({title:"Error",description:"Failed to update review",variant:"destructive"})}},I=async E=>{if(window.confirm("Are you sure you want to permanently delete this review and its media?"))try{const N="https://mixifcnokcmxarpzwfiy.supabase.co",O="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1peGlmY25va2NteGFycHp3Zml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NjYwNTEsImV4cCI6MjA2OTA0MjA1MX0.-4uIuzcHcDGS20-dtKbjVFOtpBSmwYhT9Bgt6KA-dXI",Q=`${N}/rest/v1/reviews?select=media_url&id=eq.${E}`,se=await fetch(Q,{headers:{apikey:O,Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!se.ok)throw new Error("Failed to fetch review");const ne=(await se.json())[0];if(ne?.media_url){const Fe=ne.media_url.split("/"),G=Fe[Fe.length-1],{error:ie}=await K.storage.from("reviews").remove([G]);ie&&console.warn("Failed to delete media file:",ie)}const ye=`${N}/rest/v1/reviews?id=eq.${E}`;if(!(await fetch(ye,{method:"DELETE",headers:{apikey:O,Authorization:`Bearer ${O}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete review");b({title:"Success",description:"Review and media deleted successfully"}),W(e==="pending"?!1:e==="published"?!0:void 0),q()}catch(N){console.error("Error deleting review:",N),b({title:"Error",description:"Failed to delete review",variant:"destructive"})}},R=async(E,N)=>{const O=r.find(se=>se.id===E);if(!O)return;const Q=N==="up"?O.sort_order+1:O.sort_order-1;await P(E,{sort_order:Q})},z=()=>{const E=`${window.location.origin}/submitreview`;navigator.clipboard.writeText(E),b({title:"Copied!",description:"Submission link copied to clipboard"})},F=async()=>{!h||!w||(await P(h.id,w),y(!1),m(null),x({}))},X=async E=>{try{const{data:N,error:O}=await K.from("contacts").insert({user_id:L,email:E.user_email,first_name:E.user_name?.split(" ")[0]||null,last_name:E.user_name?.split(" ").slice(1).join(" ")||null,status:"subscribed",tags:["review-submitter"]}).select().single();if(O)throw O;o(Q=>[...Q,N]),await W(e==="published"?!0:e==="pending"?!1:void 0),b({title:"Success",description:"Customer added successfully"})}catch(N){console.error("Error adding customer:",N),b({title:"Error",description:"Failed to add customer",variant:"destructive"})}},ce=async E=>{if(!E.media_url||E.media_type!=="video"){b({title:"No video to compress",description:"This review doesn't have a video to compress.",variant:"destructive"});return}A(!0),$(0),Y("Starting compression...");try{const N=setInterval(()=>{$(ye=>ye>=90?ye:ye+Math.random()*10)},1e3),O=[{progress:10,message:"Downloading original video..."},{progress:30,message:"Analyzing video properties..."},{progress:50,message:"Minimizeing video with FFmpeg..."},{progress:80,message:"Uploading optimized video..."},{progress:95,message:"Updating database..."}];let Q=0;const se=setInterval(()=>{Q<O.length&&(Y(O[Q].message),Q++)},2e3),{data:fe,error:ne}=await K.functions.invoke("compress-video",{body:{reviewId:E.id,targetResolution:_.targetResolution,maxFileSizeMB:_.maxFileSizeMB,quality:_.quality}});if(clearInterval(N),clearInterval(se),ne)throw ne;$(100),Y("Minimizeion completed!"),b({title:"Video compressed successfully!",description:`Minimizeed from ${Math.round(fe.originalSize/1024/1024)}MB to ${Math.round(fe.compressedSize/1024/1024)}MB (${fe.compressionRatio}% reduction)`}),await W(e==="published"?!0:e==="pending"?!1:void 0)}catch(N){console.error("Minimizeion error:",N),Y("Minimizeion failed"),b({title:"Minimizeion failed",description:N.message||"Failed to compress video. Please try again.",variant:"destructive"})}finally{setTimeout(()=>{A(!1),$(0),Y(""),p(!1)},2e3)}};d.useEffect(()=>{re(),q()},[]),d.useEffect(()=>{e==="pending"?W(!1):e==="published"?W(!0):e==="analytics"?q():e==="all"&&W()},[e,a]);const ge=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=async()=>{console.log("Testing pending reviews..."),console.log("Current activeTab:",e),console.log("Current customers:",a),await W(!1),console.log("Current reviews after fetch:",r)};window.testPendingReviews=J;const Z=E=>Array.from({length:5},(N,O)=>s.jsx(tn,{className:`h-4 w-4 ${O<E?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},O));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-white border-b sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-6 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",style:{color:`hsl(${v.primary})`,background:`linear-gradient(135deg, hsl(${v.primary}), hsl(${v.accent}))`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Reviews Manager"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage customer reviews and submissions"})]}),s.jsxs(D,{onClick:z,className:"bg-white hover:bg-gray-50 px-4 py-2 rounded-lg font-medium",style:{borderColor:`hsl(${v.primary})`,color:`hsl(${v.primary})`,backgroundColor:"white",border:"1px solid"},children:[s.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Copy Submission Link"]})]})})}),s.jsxs("div",{className:"container mx-auto px-6 py-6",children:[s.jsxs(om,{value:e,onValueChange:t,className:"space-y-6",children:[s.jsx("div",{className:"bg-card rounded-lg border p-1 shadow-sm",children:s.jsxs(Yc,{className:"grid grid-cols-2 md:grid-cols-4 w-full bg-transparent gap-1 h-auto",children:[s.jsx("div",{className:"rounded-md transition-all",style:{border:e==="pending"?"2px solid hsl(var(--primary))":"2px solid #e5e7eb",backgroundColor:e==="pending"?"hsl(var(--primary))":"transparent"},children:s.jsxs(ur,{value:"pending",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md transition-all w-full h-full",style:e==="pending"?{backgroundColor:"transparent !important",color:"hsl(var(--primary-foreground)) !important"}:{backgroundColor:"transparent !important"},children:[s.jsx(ys,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Pending"}),i.pending_count>0&&s.jsx(Ce,{className:"ml-1 h-5 min-w-[20px] px-1 text-xs",style:{backgroundColor:e==="pending"?"rgba(255, 255, 255, 0.2)":"hsl(var(--primary))",color:"white"},children:i.pending_count})]})}),s.jsx("div",{className:"rounded-md transition-all",style:{border:e==="published"?"2px solid hsl(var(--primary))":"2px solid #e5e7eb",backgroundColor:e==="published"?"hsl(var(--primary))":"transparent"},children:s.jsxs(ur,{value:"published",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md transition-all w-full h-full",style:e==="published"?{backgroundColor:"transparent !important",color:"hsl(var(--primary-foreground)) !important"}:{backgroundColor:"transparent !important"},children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Published"}),i.approved_count>0&&s.jsx(Ce,{className:"ml-1 h-5 min-w-[20px] px-1 text-xs",style:{backgroundColor:e==="published"?"rgba(255, 255, 255, 0.2)":"hsl(var(--primary))",color:"white"},children:i.approved_count})]})}),s.jsx("div",{className:"rounded-md transition-all",style:{border:e==="analytics"?"2px solid hsl(var(--primary))":"2px solid #e5e7eb",backgroundColor:e==="analytics"?"hsl(var(--primary))":"transparent"},children:s.jsxs(ur,{value:"analytics",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md transition-all w-full h-full",style:e==="analytics"?{backgroundColor:"transparent !important",color:"hsl(var(--primary-foreground)) !important"}:{backgroundColor:"transparent !important"},children:[s.jsx(Zu,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]})}),s.jsx("div",{className:"rounded-md transition-all",style:{border:e==="all"?"2px solid hsl(var(--primary))":"2px solid #e5e7eb",backgroundColor:e==="all"?"hsl(var(--primary))":"transparent"},children:s.jsxs(ur,{value:"all",className:"flex items-center justify-center gap-1.5 text-xs md:text-sm px-2 md:px-3 py-2.5 rounded-md transition-all w-full h-full",style:e==="all"?{backgroundColor:"transparent !important",color:"hsl(var(--primary-foreground)) !important"}:{backgroundColor:"transparent !important"},children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"All Reviews"})]})})]})}),s.jsx(tr,{value:"pending",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(ys,{className:"h-5 w-5",style:{color:`hsl(${v.primary})`}}),"Pending Reviews"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and approve incoming submissions"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>W(!1),disabled:c,style:{backgroundColor:"white",borderColor:`hsl(${v.primary})`,color:`hsl(${v.primary})`},className:"hover:bg-gray-50",children:[c?s.jsx(Br,{className:"h-4 w-4 animate-spin"}):s.jsx(Br,{className:"h-4 w-4"}),"Refresh"]})]})}),s.jsx("div",{className:"p-6",children:c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Br,{className:"h-8 w-8 mx-auto animate-spin text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading reviews..."})]}):r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ng,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No pending reviews"}),s.jsx("p",{className:"text-gray-600",children:"New submissions will appear here for approval"})]}):s.jsx("div",{className:"space-y-4",children:r.map(E=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E.user_avatar,alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${E.isExistingCustomer?"bg-green-500":"bg-yellow-500"}`,title:E.isExistingCustomer?"Existing Customer":"New Customer"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:E.user_name}),E.isExistingCustomer&&s.jsxs(Ce,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[s.jsx(qs,{className:"h-3 w-3 mr-1"}),"Customer"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",E.user_instagram_handle]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:E.user_email}),E.customer?.tags&&E.customer.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[E.customer.tags.slice(0,3).map((N,O)=>s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[s.jsx(ln,{className:"h-2 w-2 mr-1"}),N]},O)),E.customer.tags.length>3&&s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["+",E.customer.tags.length-3]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ge(E.created_at)})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx(Ce,{variant:E.is_active?"default":"secondary",children:E.is_active?"Published":"Pending"}),!E.isExistingCustomer&&s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>X(E),className:"text-xs bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:[s.jsx(qs,{className:"h-3 w-3 mr-1"}),"Add Customer"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[Z(E.rating),s.jsxs("span",{className:"ml-2 text-sm font-medium",children:[E.rating,"/5"]})]}),s.jsx("p",{className:"text-sm",children:E.description}),E.media_url&&s.jsx("div",{className:"mt-2",children:E.media_type==="video"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("video",{src:E.media_url_optimized||E.media_url,className:"max-w-xs rounded-lg",controls:!0,muted:!0}),E.media_url_optimized&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[s.jsx(Hr,{className:"h-3 w-3"}),"Optimized version active"]}),!E.media_url_optimized&&s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{C(E),p(!0)},className:"text-xs bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:[s.jsx(zi,{className:"h-3 w-3 mr-1"}),"Minimize Video"]})]}):s.jsx("img",{src:E.media_url,alt:"Review media",className:"max-w-xs rounded-lg"})}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 flex-wrap",children:[s.jsxs(D,{size:"sm",onClick:()=>P(E.id,{is_active:!0}),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{m(E),x(E),y(!0)},children:[s.jsx(on,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>I(E.id),className:"border-red-200 text-red-600 hover:bg-red-50",children:[s.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},E.id))})})]})}),s.jsx(tr,{value:"published",children:s.jsxs(_e,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5"}),"Published Reviews"]}),s.jsx(ot,{children:"Manage approved and published reviews"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>W(!0),disabled:c,children:[c?s.jsx(Br,{className:"h-4 w-4 animate-spin"}):s.jsx(Br,{className:"h-4 w-4"}),"Refresh"]})]}),s.jsx(Ee,{children:c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Br,{className:"h-8 w-8 mx-auto animate-spin text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading reviews..."})]}):r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(tn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No published reviews"}),s.jsx("p",{className:"text-muted-foreground",children:"Approved reviews will appear here"})]}):s.jsx("div",{className:"space-y-4",children:r.map(E=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E.user_avatar,alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${E.isExistingCustomer?"bg-green-500":"bg-yellow-500"}`,title:E.isExistingCustomer?"Existing Customer":"New Customer"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:E.user_name}),E.isExistingCustomer&&s.jsxs(Ce,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[s.jsx(qs,{className:"h-3 w-3 mr-1"}),"Customer"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",E.user_instagram_handle]}),E.customer?.tags&&E.customer.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[E.customer.tags.slice(0,3).map((N,O)=>s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[s.jsx(ln,{className:"h-2 w-2 mr-1"}),N]},O)),E.customer.tags.length>3&&s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["+",E.customer.tags.length-3]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Sort Order: ",E.sort_order]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D,{size:"sm",variant:"outline",onClick:()=>R(E.id,"up"),children:s.jsx(l0,{className:"h-4 w-4"})}),s.jsx(D,{size:"sm",variant:"outline",onClick:()=>R(E.id,"down"),children:s.jsx($a,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[Z(E.rating),s.jsxs("span",{className:"ml-2 text-sm font-medium",children:[E.rating,"/5"]})]}),s.jsx("p",{className:"text-sm",children:E.description}),E.media_url&&s.jsx("div",{className:"mt-2",children:E.media_type==="video"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("video",{src:E.media_url_optimized||E.media_url,className:"max-w-xs rounded-lg",controls:!0,muted:!0}),E.media_url_optimized&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[s.jsx(Hr,{className:"h-3 w-3"}),"Optimized version active"]}),!E.media_url_optimized&&s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{C(E),p(!0)},className:"text-xs bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:[s.jsx(zi,{className:"h-3 w-3 mr-1"}),"Minimize Video"]})]}):s.jsx("img",{src:E.media_url,alt:"Review media",className:"max-w-xs rounded-lg"})}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 flex-wrap",children:[s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>P(E.id,{is_active:!1}),children:[s.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Unpublish"]}),s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{m(E),x(E),y(!0)},children:[s.jsx(on,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>I(E.id),className:"border-red-200 text-red-600 hover:bg-red-50",children:[s.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},E.id))})})]})}),s.jsx(tr,{value:"analytics",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(_e,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ve,{className:"text-sm font-medium",children:"Total Submissions"}),s.jsx(ng,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.total_submissions})})]}),s.jsxs(_e,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ve,{className:"text-sm font-medium",children:"Pending Reviews"}),s.jsx(ys,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.pending_count})})]}),s.jsxs(_e,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ve,{className:"text-sm font-medium",children:"Published Reviews"}),s.jsx(tn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.approved_count})})]}),s.jsxs(_e,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ve,{className:"text-sm font-medium",children:"Average Rating"}),s.jsx(Zu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[i.average_rating,"/5"]})})]})]})}),s.jsx(tr,{value:"all",children:s.jsxs(_e,{children:[s.jsxs(Be,{children:[s.jsx(Ve,{children:"All Reviews"}),s.jsx(ot,{children:"Complete overview of all review submissions"})]}),s.jsx(Ee,{children:c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Br,{className:"h-8 w-8 mx-auto animate-spin text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading reviews..."})]}):s.jsx("div",{className:"space-y-4",children:r.map(E=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E.user_avatar,alt:"User avatar",className:"w-10 h-10 rounded-full object-cover"}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${E.isExistingCustomer?"bg-green-500":"bg-yellow-500"}`,title:E.isExistingCustomer?"Existing Customer":"New Customer"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:E.user_name}),E.isExistingCustomer&&s.jsxs(Ce,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[s.jsx(qs,{className:"h-3 w-3 mr-1"}),"Customer"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",E.user_instagram_handle]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:E.user_email}),E.customer?.tags&&E.customer.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[E.customer.tags.slice(0,3).map((N,O)=>s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[s.jsx(ln,{className:"h-2 w-2 mr-1"}),N]},O)),E.customer.tags.length>3&&s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["+",E.customer.tags.length-3]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ge(E.created_at)})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx(Ce,{variant:E.is_active?"default":"secondary",children:E.is_active?"Published":"Pending"}),!E.isExistingCustomer&&s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>X(E),className:"text-xs bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:[s.jsx(qs,{className:"h-3 w-3 mr-1"}),"Add Customer"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[Z(E.rating),s.jsxs("span",{className:"ml-2 text-sm font-medium",children:[E.rating,"/5"]})]}),s.jsx("p",{className:"text-sm",children:E.description}),E.media_url&&s.jsx("div",{className:"mt-2",children:E.media_type==="video"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("video",{src:E.media_url_optimized||E.media_url,className:"max-w-xs rounded-lg",controls:!0,muted:!0}),E.media_url_optimized&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[s.jsx(Hr,{className:"h-3 w-3"}),"Optimized version active"]}),!E.media_url_optimized&&s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{C(E),p(!0)},className:"text-xs bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",children:[s.jsx(zi,{className:"h-3 w-3 mr-1"}),"Minimize Video"]})]}):s.jsx("img",{src:E.media_url,alt:"Review media",className:"max-w-xs rounded-lg"})}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 flex-wrap",children:[s.jsx(D,{size:"sm",onClick:()=>P(E.id,{is_active:!E.is_active}),variant:E.is_active?"outline":"default",children:E.is_active?s.jsxs(s.Fragment,{children:[s.jsx(Zp,{className:"h-4 w-4 mr-1"}),"Unpublish"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Publish"]})}),s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{m(E),x(E),y(!0)},children:[s.jsx(on,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(D,{size:"sm",variant:"outline",onClick:()=>I(E.id),className:"border-red-200 text-red-600 hover:bg-red-50",children:[s.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},E.id))})})]})})]}),s.jsx(Nt,{open:f,onOpenChange:y,children:s.jsxs(vt,{className:"max-w-md",children:[s.jsxs(xt,{children:[s.jsx(yt,{children:"Edit Review"}),s.jsx(mr,{children:"Make changes to the review details"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"user_name",children:"Name"}),s.jsx(be,{id:"user_name",value:w.user_name||"",onChange:E=>x(N=>({...N,user_name:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"user_instagram_handle",children:"Instagram Handle"}),s.jsx(be,{id:"user_instagram_handle",value:w.user_instagram_handle||"",onChange:E=>x(N=>({...N,user_instagram_handle:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"rating",children:"Rating"}),s.jsxs(At,{value:w.rating?.toString()||"5",onValueChange:E=>x(N=>({...N,rating:parseInt(E)})),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsx(_t,{children:[1,2,3,4,5].map(E=>s.jsxs(Se,{value:E.toString(),children:[E," Star",E>1?"s":""]},E))})]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"description",children:"Review Text"}),s.jsx(xr,{id:"description",value:w.description||"",onChange:E=>x(N=>({...N,description:E.target.value})),rows:3})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"sort_order",children:"Sort Order"}),s.jsx(be,{id:"sort_order",type:"number",value:w.sort_order||0,onChange:E=>x(N=>({...N,sort_order:parseInt(E.target.value)||0}))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wa,{id:"is_active",checked:w.is_active||!1,onCheckedChange:E=>x(N=>({...N,is_active:E}))}),s.jsx(H,{htmlFor:"is_active",children:"Published"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(D,{onClick:F,children:"Save Changes"})]})]})}),s.jsx(Nt,{open:g,onOpenChange:p,children:s.jsxs(vt,{className:"max-w-md",children:[s.jsxs(xt,{children:[s.jsxs(yt,{className:"flex items-center gap-2",children:[s.jsx(p0,{className:"h-5 w-5"}),"Minimize Video"]}),s.jsx(mr,{children:"Optimize video for better performance and smaller file size"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"targetResolution",children:"Target Resolution"}),s.jsxs(At,{value:_.targetResolution,onValueChange:E=>k(N=>({...N,targetResolution:E})),children:[s.jsx(jt,{children:s.jsx(It,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"854x480",children:"480p (854x480)"}),s.jsx(Se,{value:"1280x720",children:"720p (1280x720)"}),s.jsx(Se,{value:"1920x1080",children:"1080p (1920x1080)"}),s.jsx(Se,{value:"2560x1440",children:"1440p (2560x1440)"})]})]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"maxFileSize",children:"Max File Size (MB)"}),s.jsx(be,{id:"maxFileSize",type:"number",min:"1",max:"50",value:_.maxFileSizeMB,onChange:E=>k(N=>({...N,maxFileSizeMB:parseInt(E.target.value)||10}))})]}),s.jsxs("div",{children:[s.jsxs(H,{htmlFor:"quality",children:["Quality: ",Math.round(_.quality*100),"%"]}),s.jsx("input",{id:"quality",type:"range",min:"0.1",max:"1.0",step:"0.1",value:_.quality,onChange:E=>k(N=>({...N,quality:parseFloat(E.target.value)})),className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{children:"Smaller file"}),s.jsx("span",{children:"Better quality"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Minimizeion Preview"}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("div",{children:["Resolution: ",_.targetResolution]}),s.jsxs("div",{children:["Max size: ",_.maxFileSizeMB,"MB"]}),s.jsxs("div",{children:["Quality: ",Math.round(_.quality*100),"%"]})]})]}),S&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Minimizeing Video..."}),s.jsxs("span",{className:"text-muted-foreground",children:[Math.round(T),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${T}%`}})}),s.jsx("div",{className:"text-sm text-muted-foreground text-center",children:U})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(D,{onClick:()=>j&&ce(j),disabled:S,children:S?s.jsxs(s.Fragment,{children:[s.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Minimizeing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Minimize Video"]})})]})]})})]})]})},v3=()=>{const[e,t]=d.useState("customers"),[r,n]=d.useState(!1),{themeColors:a}=Wc(),o=[{id:"customers",name:"Customers",icon:fr,component:yv},{id:"reviews",name:"Reviews Manager",icon:tn,component:__}],i=o.find(l=>l.id===e)?.component||yv;return s.jsxs("div",{className:"min-h-screen bg-background flex",children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsx(D,{variant:"outline",size:"sm",onClick:()=>n(!r),className:"bg-background/80 backdrop-blur-sm border shadow-lg",children:r?s.jsx(Kn,{className:"h-4 w-4"}):s.jsx(dk,{className:"h-4 w-4"})})}),s.jsx("div",{className:`
        fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40
        w-64 bg-card border-r shadow-lg transition-transform duration-300 ease-in-out
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold",style:{color:`hsl(${a.primary})`,background:`linear-gradient(135deg, hsl(${a.primary}), hsl(${a.accent}))`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Business Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage all aspects of your business"})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:o.map(l=>{const c=l.icon;return s.jsxs(D,{variant:e===l.id?"default":"ghost",className:"w-full justify-start gap-3 h-12 text-left",style:e===l.id?{backgroundColor:`hsl(${a.primary})`,color:`hsl(${a.primary}-foreground)`}:{},onClick:()=>{t(l.id),n(!1)},children:[s.jsx(c,{className:"h-5 w-5"}),s.jsx("span",{children:l.name})]},l.id)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Business Management Platform"})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>n(!1)}),s.jsx("div",{className:"flex-1",children:s.jsx(i,{})})]})},x3=()=>s.jsx(v3,{}),ao="550e8400-e29b-41d4-a716-446655440000";function y3(){const[e]=NP(),[t,r]=d.useState(""),[n,a]=d.useState(""),[o,i]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState(!1),[m,f]=d.useState(!1),[y,w]=d.useState([]),[x,b]=d.useState(!1),{toast:v}=oi(),g=e.get("tags")?.split(",")||[],p=e.get("product"),j=e.get("campaign")||"General Opt-in",C=e.get("name")||"";d.useEffect(()=>{const S=sessionStorage.getItem("opted_in_tags");if(S){const A=JSON.parse(S),T=[...g];p&&T.push(p),T.some(U=>A.includes(U))&&T.length>0&&f(!0)}C&&r(C),_()},[C,g,p]);const _=async()=>{try{const S=[...g];if(p&&S.push(p),S.length===0)return;const{data:A,error:T}=await K.from("tag_rules").select("add_tags, protected, password").eq("user_id",ao).eq("protected",!0);if(T)throw T;const $=[];A?.forEach(U=>{U.add_tags&&U.add_tags.forEach(Y=>{S.includes(Y)&&!$.includes(Y)&&$.push(Y)})}),w($),b($.length>0)}catch(S){console.error("Error checking protected tags:",S)}},k=async S=>{if(S.preventDefault(),m){v({title:"Already opted in",description:"You've already opted in during this session.",variant:"destructive"});return}if(!t||!n){v({title:"Missing information",description:"Please fill in both name and email.",variant:"destructive"});return}if(x&&y.length>0){if(!o){v({title:"Password required",description:`Password is required for protected tags: ${y.join(", ")}`,variant:"destructive"});return}try{const{data:A,error:T}=await K.from("tag_rules").select("add_tags, password").eq("user_id",ao).eq("protected",!0);if(T)throw T;let $=!1;for(const U of A||[])if(U.add_tags&&U.add_tags.some(L=>y.includes(L))&&U.password===o){$=!0;break}if(!$){v({title:"Invalid password",description:"The password provided is incorrect for the protected tags.",variant:"destructive"});return}}catch(A){console.error("Error validating password:",A),v({title:"Error",description:"Failed to validate password. Please try again.",variant:"destructive"});return}}c(!0);try{const A=[...g];p&&A.push(p);const{error:T}=await K.from("contacts").insert({user_id:ao,email:n.toLowerCase().trim(),first_name:t.split(" ")[0],last_name:t.split(" ").slice(1).join(" ")||null,status:"subscribed",tags:A.length>0?A:null});if(T)if(T.code==="23505"){const{data:L}=await K.from("contacts").select("tags").eq("email",n.toLowerCase().trim()).eq("user_id",ao).single(),re=L?.tags||[],W=[...new Set([...re,...A])],{error:q}=await K.from("contacts").update({tags:W.length>0?W:null,status:"subscribed"}).eq("email",n.toLowerCase().trim()).eq("user_id",ao);if(q)throw q}else throw T;const $=sessionStorage.getItem("opted_in_tags"),U=$?JSON.parse($):[],Y=[...new Set([...U,...A])];sessionStorage.setItem("opted_in_tags",JSON.stringify(Y)),f(!0),h(!0)}catch(A){console.error("Error adding contact:",A),v({title:"Error",description:"Failed to opt in. Please try again.",variant:"destructive"})}finally{c(!1)}};return m&&u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(_e,{className:"w-full max-w-md",children:s.jsxs(Ee,{className:"pt-6 text-center",children:[s.jsx(an,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"You're all set!"}),s.jsx("p",{className:"text-muted-foreground",children:"Thanks for joining! You'll receive updates soon."})]})})}):m?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(_e,{className:"w-full max-w-md",children:s.jsxs(Ee,{className:"pt-6 text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Already opted in"}),s.jsx("p",{className:"text-muted-foreground",children:"You've already opted in during this session. Thank you!"})]})})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(_e,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx(Ve,{className:"text-2xl font-bold text-foreground",children:"Join Our Community"}),s.jsxs(ot,{children:[j&&`Opt in for: ${j}`,g.length>0&&s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:g.map((S,A)=>s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded-full text-xs",children:S},A))})})]})]}),s.jsx(Ee,{children:s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"name",children:"Full Name"}),s.jsx(be,{id:"name",type:"text",value:t,onChange:S=>r(S.target.value),placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"email",children:"Email"}),s.jsx(be,{id:"email",type:"email",value:n,onChange:S=>a(S.target.value),placeholder:"Enter your email",required:!0})]}),x&&s.jsxs("div",{children:[s.jsx(H,{htmlFor:"password",children:"Password"}),s.jsx(be,{id:"password",type:"password",value:o,onChange:S=>i(S.target.value),placeholder:"Enter password for protected tags",required:!0}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Password required for: ",y.join(", ")]})]}),s.jsx(D,{type:"submit",className:"w-full",disabled:l,children:l?"Opting in...":"Opt In"})]})})]})})}const w3=()=>{const[e,t]=d.useState(1),[r,n]=d.useState({name:"",email:"",instagram:"",rating:5,description:"",media:null,mediaType:"",avatar:null}),[a,o]=d.useState(!1),[i,l]=d.useState(!1),[c,u]=d.useState(0),[h,m]=d.useState(null),[f,y]=d.useState([]),[w,x]=d.useState(null),[b,v]=d.useState([]),g=d.useRef(null);d.useRef(null);const p=d.useRef(null),{toast:j}=oi(),C=5,_=async q=>{if(q.includes("@"))try{const P="550e8400-e29b-41d4-a716-446655440000",{data:I,error:R}=await K.from("contacts").select("id, email, tags").eq("user_id",P).eq("email",q.toLowerCase()).eq("status","subscribed").single();I?(x(!0),v(I.tags||[])):(x(!1),v([]))}catch{x(!1),v([])}};d.useEffect(()=>{const q=setTimeout(()=>{r.email&&_(r.email)},500);return()=>clearTimeout(q)},[r.email]);const k=(q,P)=>{n(I=>({...I,media:q,mediaType:q.type.startsWith("video/")?"video":"image"}))},S=async()=>{try{const q=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:!0});p.current&&(p.current.srcObject=q,p.current.play());const P=new MediaRecorder(q,{mimeType:"video/webm;codecs=vp8,opus"});P.ondataavailable=R=>{R.data.size>0&&y(z=>[...z,R.data])},P.onstop=()=>{const R=new Blob(f,{type:"video/webm"}),z=new File([R],`review-video-${Date.now()}.webm`,{type:"video/webm"});k(z,"media"),q.getTracks().forEach(F=>F.stop()),p.current&&(p.current.srcObject=null)},m(P),l(!0),P.start(1e3);const I=setInterval(()=>{u(R=>R>=60?(A(),R):R+1)},1e3);setTimeout(()=>{P.state==="recording"&&A(),clearInterval(I)},6e4)}catch(q){console.error("Error starting recording:",q),j({title:"Error",description:"Could not access camera/microphone",variant:"destructive"})}},A=()=>{h&&h.state==="recording"&&(h.stop(),l(!1),u(0))},T=async(q,P)=>{const I="reviews",R=`${P}-${Date.now()}-${q.name}`,{data:z,error:F}=await K.storage.from(I).upload(R,q,{cacheControl:"3600",upsert:!1});if(F)throw F;const{data:X}=K.storage.from(I).getPublicUrl(R);return X.publicUrl},$=async()=>{o(!0);try{let q="",P="";r.media&&(q=await T(r.media,"media")),r.avatar&&(P=await T(r.avatar,"avatar"));const I="https://mixifcnokcmxarpzwfiy.supabase.co",R="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1peGlmY25va2NteGFycHp3Zml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NjYwNTEsImV4cCI6MjA2OTA0MjA1MX0.-4uIuzcHcDGS20-dtKbjVFOtpBSmwYhT9Bgt6KA-dXI",z=`${I}/rest/v1/reviews`,F=await fetch(z,{method:"POST",headers:{apikey:R,Authorization:`Bearer ${R}`,"Content-Type":"application/json",Prefer:"return=minimal"},body:JSON.stringify({user_name:r.name,user_email:r.email,user_instagram_handle:r.instagram,rating:r.rating,description:r.description,media_url:q,media_type:r.mediaType,user_avatar:P||"/placeholder.svg",is_active:!1,sort_order:0})});if(!F.ok){const X=await F.text();throw new Error(`Failed to insert review: ${X}`)}j({title:"Success!",description:"Your review has been submitted for approval."}),t(6)}catch(q){console.error("Error submitting review:",q),j({title:"Error",description:"Failed to submit review. Please try again.",variant:"destructive"})}finally{o(!1)}},U=()=>{e<C?t(q=>q+1):$()},Y=()=>{e>1&&t(q=>q-1)},L=()=>{switch(e){case 1:return r.name.trim().length>0;case 2:return r.email.includes("@");case 3:return r.rating>0;case 4:return r.description.trim().length>10;case 5:return!0;default:return!1}},re=q=>{const P=Math.floor(q/60),I=q%60;return`${P}:${I.toString().padStart(2,"0")}`},W=[{id:1,title:"Your Name",icon:s.jsx(sg,{className:"h-5 w-5"})},{id:2,title:"Email",icon:s.jsx(Fi,{className:"h-5 w-5"})},{id:3,title:"Rating",icon:s.jsx(tn,{className:"h-5 w-5"})},{id:4,title:"Review",icon:s.jsx(Fi,{className:"h-5 w-5"})},{id:5,title:"Media",icon:s.jsx(rg,{className:"h-5 w-5"})}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-6 py-3 mb-6 shadow-lg",children:[s.jsx(f0,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"font-semibold text-gray-700",children:"Share Your Experience"})]}),s.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"We'd Love Your Review!"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Help others discover our amazing products by sharing your honest experience"})]}),s.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-gray-200 -translate-y-1/2 z-0",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500 ease-out",style:{width:`${(e-1)/(C-1)*100}%`}})}),W.map((q,P)=>s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ${e>=q.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"bg-white text-gray-400 border-2 border-gray-200"}`,children:e>q.id?s.jsx(an,{className:"h-6 w-6"}):q.icon}),s.jsx("span",{className:`text-sm font-medium mt-2 transition-colors ${e>=q.id?"text-gray-900":"text-gray-400"}`,children:q.title})]},q.id))]})}),s.jsx(_e,{className:"max-w-2xl mx-auto shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:s.jsxs(Ee,{className:"p-8",children:[e===1&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(sg,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold mb-3 text-gray-900",children:"What's your name?"}),s.jsx("p",{className:"text-gray-600",children:"This will be displayed with your review"})]}),s.jsx("div",{children:s.jsx("input",{type:"text",value:r.name,onChange:q=>n(P=>({...P,name:q.target.value})),className:"w-full p-6 border-2 border-gray-200 rounded-2xl text-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all duration-200",placeholder:"Enter your full name",autoFocus:!0})})]}),e===2&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(Fi,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold mb-3 text-gray-900",children:"Your email address"}),s.jsx("p",{className:"text-gray-600",children:"We'll only use this to contact you if needed"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"email",value:r.email,onChange:q=>n(P=>({...P,email:q.target.value})),className:"w-full p-6 border-2 border-gray-200 rounded-2xl text-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"your@email.com",autoFocus:!0}),w!==null&&s.jsx("div",{className:"mt-4 flex items-center justify-center",children:s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${w?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${w?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"font-medium",children:w?"Existing Customer":"New Customer"})]})}),b.length>0&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2 justify-center",children:b.map((q,P)=>s.jsx(Ce,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:q},P))})]})]}),e===3&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(tn,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold mb-3 text-gray-900",children:"Rate your experience"}),s.jsx("p",{className:"text-gray-600",children:"How many stars would you give us?"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center gap-3 mb-6",children:[1,2,3,4,5].map(q=>s.jsx("button",{onClick:()=>n(P=>({...P,rating:q})),className:`w-16 h-16 rounded-2xl transition-all duration-200 transform hover:scale-110 ${q<=r.rating?"text-yellow-400 bg-yellow-50 shadow-lg":"text-gray-300 hover:text-yellow-400 hover:bg-yellow-50"}`,children:s.jsx(tn,{className:"w-10 h-10 mx-auto fill-current"})},q))}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.rating," out of 5 stars"]})]})]}),e===4&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(Fi,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold mb-3 text-gray-900",children:"Tell us more"}),s.jsx("p",{className:"text-gray-600",children:"Share your detailed experience with us"})]}),s.jsxs("div",{children:[s.jsx("textarea",{value:r.description,onChange:q=>n(P=>({...P,description:q.target.value})),className:"w-full p-6 border-2 border-gray-200 rounded-2xl text-lg focus:ring-4 focus:ring-green-100 focus:border-green-500 transition-all duration-200 resize-none",rows:5,placeholder:"Describe your experience...",autoFocus:!0}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:[r.description.length,"/500 characters"]})]})]}),e===5&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(rg,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold mb-3 text-gray-900",children:"Add a photo or video"}),s.jsx("p",{className:"text-gray-600",children:"Optional: Show others your experience (max 30MB)"})]}),r.media&&s.jsxs("div",{className:"text-center mb-6",children:[r.mediaType==="video"?s.jsx("video",{src:URL.createObjectURL(r.media),className:"max-w-full h-64 rounded-2xl mx-auto shadow-lg",controls:!0}):s.jsx("img",{src:URL.createObjectURL(r.media),alt:"Preview",className:"max-w-full h-64 rounded-2xl mx-auto object-cover shadow-lg"}),s.jsx("button",{onClick:()=>n(q=>({...q,media:null,mediaType:""})),className:"mt-4 text-sm text-red-600 hover:underline font-medium",children:"Remove"})]}),!r.media&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-8 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-200",onClick:()=>g.current?.click(),children:[s.jsx(m0,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Click to upload a file"}),s.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG, MP4, MOV up to 30MB"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>g.current?.click(),className:"p-6 border-2 border-gray-200 rounded-2xl hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 group",children:[s.jsx(ok,{className:"w-8 h-8 mx-auto mb-2 text-gray-400 group-hover:text-blue-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:"Photo"})]}),s.jsxs("button",{onClick:i?A:S,className:`p-6 border-2 rounded-2xl transition-all duration-200 group ${i?"border-red-400 bg-red-50":"border-gray-200 hover:border-red-400 hover:bg-red-50"}`,children:[i?s.jsx(vk,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}):s.jsx(p0,{className:"w-8 h-8 mx-auto mb-2 text-gray-400 group-hover:text-red-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:i?"Stop":"Video"})]})]}),i&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("video",{ref:p,className:"w-full max-w-md rounded-2xl mx-auto shadow-lg",muted:!0,playsInline:!0}),s.jsxs("div",{className:"text-red-600 font-bold text-lg",children:["Recording: ",re(c)," / 1:00"]})]})]}),s.jsx("input",{ref:g,type:"file",accept:"image/*,video/*",onChange:q=>{const P=q.target.files?.[0];P&&P.size<=30*1024*1024?k(P):P&&j({title:"File too large",description:"Please select a file smaller than 30MB",variant:"destructive"})},className:"hidden"})]}),e===6&&s.jsxs("div",{className:"text-center space-y-8",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto shadow-2xl",children:s.jsx(an,{className:"h-12 w-12 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"Thank you!"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your review has been submitted and is pending approval. We'll review it shortly and get back to you."}),s.jsx(D,{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold shadow-lg",children:"Submit Another Review"})]})]}),e<6&&s.jsxs("div",{className:"flex gap-4 mt-12",children:[e>1&&s.jsxs(D,{onClick:Y,variant:"outline",className:"flex-1 py-4 px-6 rounded-2xl text-lg font-semibold border-2 hover:bg-gray-50",children:[s.jsx(XS,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsx(D,{onClick:U,disabled:!L()||a,className:"flex-1 py-4 px-6 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-2xl text-lg font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Submitting...":e===C?s.jsxs(s.Fragment,{children:["Submit Review",s.jsx(eg,{className:"h-5 w-5 ml-2"})]}):s.jsxs(s.Fragment,{children:["Continue",s.jsx(eg,{className:"h-5 w-5 ml-2"})]})})]})]})})]})})},b3=()=>s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reviews Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and view customer reviews for your products"})]}),s.jsx(__,{})]})}),j3=()=>{const e=Lc();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},_3=new kT,N3=()=>s.jsx(TT,{client:_3,children:s.jsx(U4,{children:s.jsxs(sT,{children:[s.jsx(n2,{}),s.jsx(A2,{}),s.jsx(_P,{children:s.jsxs(yP,{children:[s.jsx(Ks,{path:"/",element:s.jsx(K4,{children:s.jsx(x3,{})})}),s.jsx(Ks,{path:"/optin",element:s.jsx(y3,{})}),s.jsx(Ks,{path:"/submit-review",element:s.jsx(w3,{})}),s.jsx(Ks,{path:"/reviews",element:s.jsx(b3,{})}),s.jsx(Ks,{path:"*",element:s.jsx(j3,{})})]})})]})})});Oy(document.getElementById("root")).render(s.jsx(N3,{}));
